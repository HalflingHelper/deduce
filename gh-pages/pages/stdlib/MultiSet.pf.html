
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>

    <link rel="stylesheet" href="../../css/normalize.css">
    <link rel="stylesheet" href="../../css/stdlib.css">
</head>
<body>
    <pre><code><span class="stdlib-comment">/*
  Represent multisets as function to Nat.
  */</span>

<span class="stdlib-keyword">import</span> <a href="Base.pf.html"><span class="stdlib-import"">Base</span></a>
<span class="stdlib-keyword">import</span> <a href="Nat.pf.html"><span class="stdlib-import"">Nat</span></a>
<span class="stdlib-keyword">import</span> <a href="Set.pf.html"><span class="stdlib-import"">Set</span></a>

<span class="stdlib-keyword">union</span> <a href="MultiSet.pf.html#MultiSet178"><span id="MultiSet178" class="stdlib-union">MultiSet</span></a><a href="Nat.pf.html#operator<199"><span class="stdlib-operator">&lt;</span></a><span class="stdlib-ident">T</span><a href="Nat.pf.html#operator>200"><span class="stdlib-operator">&gt;</span></a> <span class="stdlib-operator">{</span>
  <a href="MultiSet.pf.html#MultiSet178"><span class="stdlib-constructor">m_fun</span></a><span class="stdlib-operator">(</span><span class="stdlib-type">fn</span><span class="stdlib-operator">(</span><span class="stdlib-ident">T</span><span class="stdlib-operator">)</span> <span class="stdlib-operator">-&gt;</span> <a href="Nat.pf.html#Nat192"><span class="stdlib-union">Nat</span></a><span class="stdlib-operator">)</span>
<span class="stdlib-operator">}</span>

<span class="stdlib-keyword">function</span> <a href="MultiSet.pf.html#cnt179"><span id="cnt179" class="stdlib-function">cnt</span></a><a href="Nat.pf.html#operator<199"><span class="stdlib-operator">&lt;</span></a><span class="stdlib-ident">T</span><a href="Nat.pf.html#operator>200"><span class="stdlib-operator">&gt;</span></a><span class="stdlib-operator">(</span><a href="MultiSet.pf.html#MultiSet178"><span class="stdlib-union">MultiSet</span></a><a href="Nat.pf.html#operator<199"><span class="stdlib-operator">&lt;</span></a><span class="stdlib-ident">T</span><a href="Nat.pf.html#operator>200"><span class="stdlib-operator">&gt;</span></a><span class="stdlib-operator">)</span> <span class="stdlib-operator">-&gt;</span> <span class="stdlib-type">fn</span><span class="stdlib-operator">(</span><span class="stdlib-ident">T</span><span class="stdlib-operator">)</span><span class="stdlib-operator">-&gt;</span><a href="Nat.pf.html#Nat192"><span class="stdlib-union">Nat</span></a> <span class="stdlib-operator">{</span>
  <a href="MultiSet.pf.html#cnt179"><span class="stdlib-function">cnt</span></a><span class="stdlib-operator">(</span><a href="MultiSet.pf.html#MultiSet178"><span class="stdlib-constructor">m_fun</span></a><span class="stdlib-operator">(</span><span class="stdlib-ident">f</span><span class="stdlib-operator">)</span><span class="stdlib-operator">)</span> <span class="stdlib-operator">=</span> <span class="stdlib-ident">f</span>
<span class="stdlib-operator">}</span>

<span class="stdlib-keyword">define</span> <a href="MultiSet.pf.html#m_one180"><span id="m_one180" class="stdlib-function">m_one</span></a> <span class="stdlib-operator">:</span> <span class="stdlib-type">fn</span><a href="Nat.pf.html#operator<199"><span class="stdlib-operator">&lt;</span></a><span class="stdlib-ident">T</span><a href="Nat.pf.html#operator>200"><span class="stdlib-operator">&gt;</span></a> <span class="stdlib-ident">T</span> <span class="stdlib-operator">-&gt;</span> <a href="MultiSet.pf.html#MultiSet178"><span class="stdlib-union">MultiSet</span></a><a href="Nat.pf.html#operator<199"><span class="stdlib-operator">&lt;</span></a><span class="stdlib-ident">T</span><a href="Nat.pf.html#operator>200"><span class="stdlib-operator">&gt;</span></a>
         <span class="stdlib-operator">=</span> <span class="stdlib-keyword">generic</span> <span class="stdlib-ident">T</span> <span class="stdlib-operator">{</span> <span class="stdlib-operator">&#x03BB;</span><span class="stdlib-ident">x</span> <span class="stdlib-operator">{</span> <a href="MultiSet.pf.html#MultiSet178"><span class="stdlib-constructor">m_fun</span></a><span class="stdlib-operator">(</span><span class="stdlib-operator">&#x03BB;</span><span class="stdlib-ident">y</span><span class="stdlib-operator">{</span><span class="stdlib-keyword">if</span> <span class="stdlib-ident">x</span> <span class="stdlib-operator">=</span> <span class="stdlib-ident">y</span> <span class="stdlib-keyword">then</span> <span class="stdlib-prim">1</span> <span class="stdlib-keyword">else</span> <span class="stdlib-prim">0</span><span class="stdlib-operator">}</span><span class="stdlib-operator">)</span> <span class="stdlib-operator">}</span> <span class="stdlib-operator">}</span>

<span class="stdlib-keyword">define</span> <a href="MultiSet.pf.html#operator⨄181"><span id="operator⨄181" class="stdlib-function">operator ⨄</span></a> <span class="stdlib-operator">:</span> <span class="stdlib-type">fn</span><a href="Nat.pf.html#operator<199"><span class="stdlib-operator">&lt;</span></a><span class="stdlib-ident">T</span><a href="Nat.pf.html#operator>200"><span class="stdlib-operator">&gt;</span></a> <a href="MultiSet.pf.html#MultiSet178"><span class="stdlib-union">MultiSet</span></a><a href="Nat.pf.html#operator<199"><span class="stdlib-operator">&lt;</span></a><span class="stdlib-ident">T</span><a href="Nat.pf.html#operator>200"><span class="stdlib-operator">&gt;</span></a><span class="stdlib-operator">,</span> <a href="MultiSet.pf.html#MultiSet178"><span class="stdlib-union">MultiSet</span></a><a href="Nat.pf.html#operator<199"><span class="stdlib-operator">&lt;</span></a><span class="stdlib-ident">T</span><a href="Nat.pf.html#operator>200"><span class="stdlib-operator">&gt;</span></a> <span class="stdlib-operator">-&gt;</span> <a href="MultiSet.pf.html#MultiSet178"><span class="stdlib-union">MultiSet</span></a><a href="Nat.pf.html#operator<199"><span class="stdlib-operator">&lt;</span></a><span class="stdlib-ident">T</span><a href="Nat.pf.html#operator>200"><span class="stdlib-operator">&gt;</span></a>
         <span class="stdlib-operator">=</span> <span class="stdlib-keyword">generic</span> <span class="stdlib-ident">T</span> <span class="stdlib-operator">{</span> <span class="stdlib-operator">&#x03BB;</span><span class="stdlib-ident">P</span><span class="stdlib-operator">,</span><span class="stdlib-ident">Q</span><span class="stdlib-operator">{</span> <a href="MultiSet.pf.html#MultiSet178"><span class="stdlib-constructor">m_fun</span></a><span class="stdlib-operator">(</span><span class="stdlib-operator">&#x03BB;</span><span class="stdlib-ident">x</span><span class="stdlib-operator">{</span> <a href="MultiSet.pf.html#cnt179"><span class="stdlib-function">cnt</span></a><span class="stdlib-operator">(</span><span class="stdlib-ident">P</span><span class="stdlib-operator">)</span><span class="stdlib-operator">(</span><span class="stdlib-ident">x</span><span class="stdlib-operator">)</span> <a href="Nat.pf.html#operator+193"><span class="stdlib-operator">+</span></a> <a href="MultiSet.pf.html#cnt179"><span class="stdlib-function">cnt</span></a><span class="stdlib-operator">(</span><span class="stdlib-ident">Q</span><span class="stdlib-operator">)</span><span class="stdlib-operator">(</span><span class="stdlib-ident">x</span><span class="stdlib-operator">)</span> <span class="stdlib-operator">}</span><span class="stdlib-operator">)</span> <span class="stdlib-operator">}</span> <span class="stdlib-operator">}</span>

<span class="stdlib-keyword">theorem</span> <a href="MultiSet.pf.html#m_one_cnt182"><span id="m_one_cnt182" class="stdlib-theorem">m_one_cnt</span></a><span class="stdlib-operator">:</span> <span class="stdlib-keyword">all</span> <span class="stdlib-ident">T</span><span class="stdlib-operator">:</span><span class="stdlib-type">type</span><span class="stdlib-operator">.</span> <span class="stdlib-keyword">all</span> <span class="stdlib-ident">x</span><span class="stdlib-operator">:</span><span class="stdlib-ident">T</span><span class="stdlib-operator">.</span> <a href="MultiSet.pf.html#cnt179"><span class="stdlib-function">cnt</span></a><span class="stdlib-operator">(</span><a href="MultiSet.pf.html#m_one180"><span class="stdlib-function">m_one</span></a><span class="stdlib-operator">(</span><span class="stdlib-ident">x</span><span class="stdlib-operator">)</span><span class="stdlib-operator">)</span><span class="stdlib-operator">(</span><span class="stdlib-ident">x</span><span class="stdlib-operator">)</span> <span class="stdlib-operator">=</span> <span class="stdlib-prim">1</span>
<span class="stdlib-keyword">proof</span>
  <span class="stdlib-keyword">arbitrary</span> <span class="stdlib-ident">T</span><span class="stdlib-operator">:</span><span class="stdlib-type">type</span>
  <span class="stdlib-keyword">arbitrary</span> <span class="stdlib-ident">x</span><span class="stdlib-operator">:</span><span class="stdlib-ident">T</span>
  <span class="stdlib-keyword">definition</span> <span class="stdlib-operator">{</span><a href="MultiSet.pf.html#m_one180"><span class="stdlib-function">m_one</span></a><span class="stdlib-operator">,</span> <a href="MultiSet.pf.html#cnt179"><span class="stdlib-function">cnt</span></a><span class="stdlib-operator">}</span>
<span class="stdlib-keyword">end</span>

<span class="stdlib-keyword">theorem</span> <a href="MultiSet.pf.html#m_empty_zero183"><span id="m_empty_zero183" class="stdlib-theorem">m_empty_zero</span></a><span class="stdlib-operator">:</span> <span class="stdlib-keyword">all</span> <span class="stdlib-ident">T</span><span class="stdlib-operator">:</span><span class="stdlib-type">type</span><span class="stdlib-operator">.</span> <span class="stdlib-keyword">all</span> <span class="stdlib-ident">x</span><span class="stdlib-operator">:</span><span class="stdlib-ident">T</span><span class="stdlib-operator">.</span>
  <a href="MultiSet.pf.html#cnt179"><span class="stdlib-function">cnt</span></a><span class="stdlib-operator">(</span><a href="MultiSet.pf.html#MultiSet178"><span class="stdlib-constructor">m_fun</span></a><span class="stdlib-operator">(</span><span class="stdlib-operator">&#x03BB;</span><span class="stdlib-ident">y</span><span class="stdlib-operator">:</span><span class="stdlib-ident">T</span><span class="stdlib-operator">{</span><span class="stdlib-prim">0</span><span class="stdlib-operator">}</span><span class="stdlib-operator">)</span><span class="stdlib-operator">)</span><span class="stdlib-operator">(</span><span class="stdlib-ident">x</span><span class="stdlib-operator">)</span> <span class="stdlib-operator">=</span> <span class="stdlib-prim">0</span>
<span class="stdlib-keyword">proof</span>
  <span class="stdlib-keyword">arbitrary</span> <span class="stdlib-ident">T</span><span class="stdlib-operator">:</span><span class="stdlib-type">type</span>
  <span class="stdlib-keyword">arbitrary</span> <span class="stdlib-ident">x</span><span class="stdlib-operator">:</span><span class="stdlib-ident">T</span>
  <span class="stdlib-keyword">definition</span> <span class="stdlib-operator">{</span><a href="MultiSet.pf.html#cnt179"><span class="stdlib-function">cnt</span></a><span class="stdlib-operator">}</span>
<span class="stdlib-keyword">end</span>

<span class="stdlib-keyword">theorem</span> <a href="MultiSet.pf.html#cnt_sum184"><span id="cnt_sum184" class="stdlib-theorem">cnt_sum</span></a><span class="stdlib-operator">:</span> <span class="stdlib-keyword">all</span> <span class="stdlib-ident">T</span><span class="stdlib-operator">:</span><span class="stdlib-type">type</span><span class="stdlib-operator">.</span> <span class="stdlib-keyword">all</span> <span class="stdlib-ident">A</span><span class="stdlib-operator">:</span><a href="MultiSet.pf.html#MultiSet178"><span class="stdlib-union">MultiSet</span></a><a href="Nat.pf.html#operator<199"><span class="stdlib-operator">&lt;</span></a><span class="stdlib-ident">T</span><a href="Nat.pf.html#operator>200"><span class="stdlib-operator">&gt;</span></a><span class="stdlib-operator">,</span> <span class="stdlib-ident">B</span><span class="stdlib-operator">:</span><a href="MultiSet.pf.html#MultiSet178"><span class="stdlib-union">MultiSet</span></a><a href="Nat.pf.html#operator<199"><span class="stdlib-operator">&lt;</span></a><span class="stdlib-ident">T</span><a href="Nat.pf.html#operator>200"><span class="stdlib-operator">&gt;</span></a><span class="stdlib-operator">,</span> <span class="stdlib-ident">x</span><span class="stdlib-operator">:</span><span class="stdlib-ident">T</span><span class="stdlib-operator">.</span>
  <a href="MultiSet.pf.html#cnt179"><span class="stdlib-function">cnt</span></a><span class="stdlib-operator">(</span><span class="stdlib-ident">A</span> <a href="MultiSet.pf.html#operator⨄181"><span class="stdlib-operator">&#x2A04;</span></a> <span class="stdlib-ident">B</span><span class="stdlib-operator">)</span><span class="stdlib-operator">(</span><span class="stdlib-ident">x</span><span class="stdlib-operator">)</span> <span class="stdlib-operator">=</span> <a href="MultiSet.pf.html#cnt179"><span class="stdlib-function">cnt</span></a><span class="stdlib-operator">(</span><span class="stdlib-ident">A</span><span class="stdlib-operator">)</span><span class="stdlib-operator">(</span><span class="stdlib-ident">x</span><span class="stdlib-operator">)</span> <a href="Nat.pf.html#operator+193"><span class="stdlib-operator">+</span></a> <a href="MultiSet.pf.html#cnt179"><span class="stdlib-function">cnt</span></a><span class="stdlib-operator">(</span><span class="stdlib-ident">B</span><span class="stdlib-operator">)</span><span class="stdlib-operator">(</span><span class="stdlib-ident">x</span><span class="stdlib-operator">)</span>
<span class="stdlib-keyword">proof</span>
  <span class="stdlib-keyword">arbitrary</span> <span class="stdlib-ident">T</span><span class="stdlib-operator">:</span><span class="stdlib-type">type</span>
  <span class="stdlib-keyword">arbitrary</span> <span class="stdlib-ident">A</span><span class="stdlib-operator">:</span><a href="MultiSet.pf.html#MultiSet178"><span class="stdlib-union">MultiSet</span></a><a href="Nat.pf.html#operator<199"><span class="stdlib-operator">&lt;</span></a><span class="stdlib-ident">T</span><a href="Nat.pf.html#operator>200"><span class="stdlib-operator">&gt;</span></a><span class="stdlib-operator">,</span> <span class="stdlib-ident">B</span><span class="stdlib-operator">:</span><a href="MultiSet.pf.html#MultiSet178"><span class="stdlib-union">MultiSet</span></a><a href="Nat.pf.html#operator<199"><span class="stdlib-operator">&lt;</span></a><span class="stdlib-ident">T</span><a href="Nat.pf.html#operator>200"><span class="stdlib-operator">&gt;</span></a><span class="stdlib-operator">,</span> <span class="stdlib-ident">x</span><span class="stdlib-operator">:</span><span class="stdlib-ident">T</span>
  <span class="stdlib-keyword">definition</span> <span class="stdlib-operator">{</span><a href="MultiSet.pf.html#operator⨄181"><span class="stdlib-function">operator ⨄</span></a><span class="stdlib-operator">,</span> <a href="MultiSet.pf.html#cnt179"><span class="stdlib-function">cnt</span></a><span class="stdlib-operator">}</span>
<span class="stdlib-keyword">end</span>

<span class="stdlib-comment">// Testing alternate asci notation </span>
<span class="stdlib-keyword">theorem</span> <a href="MultiSet.pf.html#m_sum_empty185"><span id="m_sum_empty185" class="stdlib-theorem">m_sum_empty</span></a><span class="stdlib-operator">:</span> <span class="stdlib-keyword">all</span> <span class="stdlib-ident">T</span><span class="stdlib-operator">:</span><span class="stdlib-type">type</span><span class="stdlib-operator">.</span> <span class="stdlib-keyword">all</span> <span class="stdlib-ident">A</span><span class="stdlib-operator">:</span><a href="MultiSet.pf.html#MultiSet178"><span class="stdlib-union">MultiSet</span></a><a href="Nat.pf.html#operator<199"><span class="stdlib-operator">&lt;</span></a><span class="stdlib-ident">T</span><a href="Nat.pf.html#operator>200"><span class="stdlib-operator">&gt;</span></a><span class="stdlib-operator">.</span>
  <span class="stdlib-ident">A</span> <span class="stdlib-operator">.+.</span> <a href="MultiSet.pf.html#MultiSet178"><span class="stdlib-constructor">m_fun</span></a><span class="stdlib-operator">(</span><span class="stdlib-operator">&#x03BB;</span><span class="stdlib-ident">y</span><span class="stdlib-operator">:</span><span class="stdlib-ident">T</span><span class="stdlib-operator">{</span><span class="stdlib-prim">0</span><span class="stdlib-operator">}</span><span class="stdlib-operator">)</span> <span class="stdlib-operator">=</span> <span class="stdlib-ident">A</span>
<span class="stdlib-keyword">proof</span>
  <span class="stdlib-keyword">arbitrary</span> <span class="stdlib-ident">T</span><span class="stdlib-operator">:</span><span class="stdlib-type">type</span>
  <span class="stdlib-keyword">arbitrary</span> <span class="stdlib-ident">A</span><span class="stdlib-operator">:</span><a href="MultiSet.pf.html#MultiSet178"><span class="stdlib-union">MultiSet</span></a><a href="Nat.pf.html#operator<199"><span class="stdlib-operator">&lt;</span></a><span class="stdlib-ident">T</span><a href="Nat.pf.html#operator>200"><span class="stdlib-operator">&gt;</span></a>
  <span class="stdlib-keyword">switch</span> <span class="stdlib-ident">A</span> <span class="stdlib-keyword">for</span> <span class="stdlib-keyword">operator</span> <span class="stdlib-operator">.+.</span><span class="stdlib-operator">,</span> <a href="MultiSet.pf.html#cnt179"><span class="stdlib-function">cnt</span></a> <span class="stdlib-operator">{</span>
    <span class="stdlib-keyword">case</span> <a href="MultiSet.pf.html#MultiSet178"><span class="stdlib-constructor">m_fun</span></a><span class="stdlib-operator">(</span><span class="stdlib-ident">f</span><span class="stdlib-operator">)</span> <span class="stdlib-operator">{</span>
      <span class="stdlib-keyword">have</span> <span class="stdlib-ident">eq</span><span class="stdlib-operator">:</span> <span class="stdlib-operator">(</span><span class="stdlib-operator">&#x03BB;</span><span class="stdlib-ident">x</span><span class="stdlib-operator">{</span><span class="stdlib-operator">(</span><span class="stdlib-ident">f</span><span class="stdlib-operator">(</span><span class="stdlib-ident">x</span><span class="stdlib-operator">)</span> <a href="Nat.pf.html#operator+193"><span class="stdlib-operator">+</span></a> <span class="stdlib-prim">0</span><span class="stdlib-operator">)</span><span class="stdlib-operator">}</span> <span class="stdlib-operator">:</span> <span class="stdlib-type">fn</span> <span class="stdlib-ident">T</span><span class="stdlib-operator">-&gt;</span><a href="Nat.pf.html#Nat192"><span class="stdlib-union">Nat</span></a><span class="stdlib-operator">)</span> <span class="stdlib-operator">=</span> <span class="stdlib-ident">f</span>
        <span class="stdlib-keyword">by</span> <span class="stdlib-keyword">extensionality</span> <span class="stdlib-keyword">arbitrary</span> <span class="stdlib-ident">x</span><span class="stdlib-operator">:</span><span class="stdlib-ident">T</span>
           <span class="stdlib-keyword">rewrite</span> <a href="Nat.pf.html#add_zero216"><span class="stdlib-theorem">add_zero</span></a><span class="stdlib-operator">[</span><span class="stdlib-ident">f</span><span class="stdlib-operator">(</span><span class="stdlib-ident">x</span><span class="stdlib-operator">)</span><span class="stdlib-operator">]</span>
      <span class="stdlib-keyword">rewrite</span> <span class="stdlib-ident">eq</span>
    <span class="stdlib-operator">}</span>
  <span class="stdlib-operator">}</span>
<span class="stdlib-keyword">end</span>

<span class="stdlib-keyword">theorem</span> <a href="MultiSet.pf.html#empty_m_sum186"><span id="empty_m_sum186" class="stdlib-theorem">empty_m_sum</span></a><span class="stdlib-operator">:</span> <span class="stdlib-keyword">all</span> <span class="stdlib-ident">T</span><span class="stdlib-operator">:</span><span class="stdlib-type">type</span><span class="stdlib-operator">.</span> <span class="stdlib-keyword">all</span> <span class="stdlib-ident">A</span><span class="stdlib-operator">:</span><a href="MultiSet.pf.html#MultiSet178"><span class="stdlib-union">MultiSet</span></a><a href="Nat.pf.html#operator<199"><span class="stdlib-operator">&lt;</span></a><span class="stdlib-ident">T</span><a href="Nat.pf.html#operator>200"><span class="stdlib-operator">&gt;</span></a><span class="stdlib-operator">.</span>
  <a href="MultiSet.pf.html#MultiSet178"><span class="stdlib-constructor">m_fun</span></a><span class="stdlib-operator">(</span><span class="stdlib-operator">&#x03BB;</span><span class="stdlib-ident">x</span><span class="stdlib-operator">:</span><span class="stdlib-ident">T</span><span class="stdlib-operator">{</span><span class="stdlib-prim">0</span><span class="stdlib-operator">}</span><span class="stdlib-operator">)</span> <a href="MultiSet.pf.html#operator⨄181"><span class="stdlib-operator">&#x2A04;</span></a> <span class="stdlib-ident">A</span> <span class="stdlib-operator">=</span> <span class="stdlib-ident">A</span>
<span class="stdlib-keyword">proof</span>
  <span class="stdlib-keyword">arbitrary</span> <span class="stdlib-ident">T</span><span class="stdlib-operator">:</span><span class="stdlib-type">type</span>
  <span class="stdlib-keyword">arbitrary</span> <span class="stdlib-ident">A</span><span class="stdlib-operator">:</span><a href="MultiSet.pf.html#MultiSet178"><span class="stdlib-union">MultiSet</span></a><a href="Nat.pf.html#operator<199"><span class="stdlib-operator">&lt;</span></a><span class="stdlib-ident">T</span><a href="Nat.pf.html#operator>200"><span class="stdlib-operator">&gt;</span></a>
  <span class="stdlib-keyword">switch</span> <span class="stdlib-ident">A</span> <span class="stdlib-keyword">for</span> <a href="MultiSet.pf.html#operator⨄181"><span class="stdlib-function">operator ⨄</span></a> <span class="stdlib-operator">{</span>
    <span class="stdlib-keyword">case</span> <a href="MultiSet.pf.html#MultiSet178"><span class="stdlib-constructor">m_fun</span></a><span class="stdlib-operator">(</span><span class="stdlib-ident">f</span><span class="stdlib-operator">)</span> <span class="stdlib-operator">{</span>
      <span class="stdlib-keyword">have</span> <span class="stdlib-ident">eq</span><span class="stdlib-operator">:</span> <span class="stdlib-operator">(</span><span class="stdlib-operator">&#x03BB;</span><span class="stdlib-ident">x</span><span class="stdlib-operator">:</span><span class="stdlib-ident">T</span><span class="stdlib-operator">{</span><span class="stdlib-prim">0</span> <a href="Nat.pf.html#operator+193"><span class="stdlib-operator">+</span></a> <span class="stdlib-ident">f</span><span class="stdlib-operator">(</span><span class="stdlib-ident">x</span><span class="stdlib-operator">)</span><span class="stdlib-operator">}</span><span class="stdlib-operator">)</span> <span class="stdlib-operator">=</span> <span class="stdlib-ident">f</span>
        <span class="stdlib-keyword">by</span> <span class="stdlib-keyword">extensionality</span> <span class="stdlib-keyword">arbitrary</span> <span class="stdlib-ident">x</span><span class="stdlib-operator">:</span><span class="stdlib-ident">T</span>
	   <span class="stdlib-keyword">definition</span> <span class="stdlib-operator">{</span><a href="Nat.pf.html#operator+193"><span class="stdlib-function">operator +</span></a><span class="stdlib-operator">}</span>
      <span class="stdlib-keyword">definition</span> <a href="MultiSet.pf.html#cnt179"><span class="stdlib-function">cnt</span></a> <span class="stdlib-keyword">and</span> <span class="stdlib-keyword">rewrite</span> <span class="stdlib-ident">eq</span>
    <span class="stdlib-operator">}</span>
  <span class="stdlib-operator">}</span>
<span class="stdlib-keyword">end</span>


<span class="stdlib-keyword">theorem</span> <a href="MultiSet.pf.html#m_sum_commutes187"><span id="m_sum_commutes187" class="stdlib-theorem">m_sum_commutes</span></a><span class="stdlib-operator">:</span> <span class="stdlib-keyword">all</span> <span class="stdlib-ident">T</span><span class="stdlib-operator">:</span><span class="stdlib-type">type</span><span class="stdlib-operator">.</span> <span class="stdlib-keyword">all</span> <span class="stdlib-ident">A</span><span class="stdlib-operator">:</span><a href="MultiSet.pf.html#MultiSet178"><span class="stdlib-union">MultiSet</span></a><a href="Nat.pf.html#operator<199"><span class="stdlib-operator">&lt;</span></a><span class="stdlib-ident">T</span><a href="Nat.pf.html#operator>200"><span class="stdlib-operator">&gt;</span></a><span class="stdlib-operator">,</span> <span class="stdlib-ident">B</span><span class="stdlib-operator">:</span><a href="MultiSet.pf.html#MultiSet178"><span class="stdlib-union">MultiSet</span></a><a href="Nat.pf.html#operator<199"><span class="stdlib-operator">&lt;</span></a><span class="stdlib-ident">T</span><a href="Nat.pf.html#operator>200"><span class="stdlib-operator">&gt;</span></a><span class="stdlib-operator">.</span>
  <span class="stdlib-ident">A</span> <a href="MultiSet.pf.html#operator⨄181"><span class="stdlib-operator">&#x2A04;</span></a> <span class="stdlib-ident">B</span> <span class="stdlib-operator">=</span> <span class="stdlib-ident">B</span> <a href="MultiSet.pf.html#operator⨄181"><span class="stdlib-operator">&#x2A04;</span></a> <span class="stdlib-ident">A</span>
<span class="stdlib-keyword">proof</span>
  <span class="stdlib-keyword">arbitrary</span> <span class="stdlib-ident">T</span><span class="stdlib-operator">:</span><span class="stdlib-type">type</span>
  <span class="stdlib-keyword">arbitrary</span> <span class="stdlib-ident">A</span><span class="stdlib-operator">:</span><a href="MultiSet.pf.html#MultiSet178"><span class="stdlib-union">MultiSet</span></a><a href="Nat.pf.html#operator<199"><span class="stdlib-operator">&lt;</span></a><span class="stdlib-ident">T</span><a href="Nat.pf.html#operator>200"><span class="stdlib-operator">&gt;</span></a><span class="stdlib-operator">,</span> <span class="stdlib-ident">B</span><span class="stdlib-operator">:</span><a href="MultiSet.pf.html#MultiSet178"><span class="stdlib-union">MultiSet</span></a><a href="Nat.pf.html#operator<199"><span class="stdlib-operator">&lt;</span></a><span class="stdlib-ident">T</span><a href="Nat.pf.html#operator>200"><span class="stdlib-operator">&gt;</span></a>
  <span class="stdlib-keyword">switch</span> <span class="stdlib-ident">A</span> <span class="stdlib-keyword">for</span> <a href="MultiSet.pf.html#operator⨄181"><span class="stdlib-function">operator ⨄</span></a> <span class="stdlib-operator">{</span>
    <span class="stdlib-keyword">case</span> <a href="MultiSet.pf.html#MultiSet178"><span class="stdlib-constructor">m_fun</span></a><span class="stdlib-operator">(</span><span class="stdlib-ident">f</span><span class="stdlib-operator">)</span> <span class="stdlib-operator">{</span>
      <span class="stdlib-keyword">switch</span> <span class="stdlib-ident">B</span> <span class="stdlib-operator">{</span>
        <span class="stdlib-keyword">case</span> <a href="MultiSet.pf.html#MultiSet178"><span class="stdlib-constructor">m_fun</span></a><span class="stdlib-operator">(</span><span class="stdlib-ident">g</span><span class="stdlib-operator">)</span> <span class="stdlib-operator">{</span>
	  <span class="stdlib-keyword">suffices</span> <a href="MultiSet.pf.html#MultiSet178"><span class="stdlib-constructor">m_fun</span></a><span class="stdlib-operator">(</span><span class="stdlib-operator">&#x03BB;</span><span class="stdlib-ident">x</span><span class="stdlib-operator">:</span><span class="stdlib-ident">T</span><span class="stdlib-operator">{</span><span class="stdlib-ident">f</span><span class="stdlib-operator">(</span><span class="stdlib-ident">x</span><span class="stdlib-operator">)</span> <a href="Nat.pf.html#operator+193"><span class="stdlib-operator">+</span></a> <span class="stdlib-ident">g</span><span class="stdlib-operator">(</span><span class="stdlib-ident">x</span><span class="stdlib-operator">)</span><span class="stdlib-operator">}</span><span class="stdlib-operator">)</span>
                 <span class="stdlib-operator">=</span> <a href="MultiSet.pf.html#MultiSet178"><span class="stdlib-constructor">m_fun</span></a><span class="stdlib-operator">(</span><span class="stdlib-operator">&#x03BB;</span><span class="stdlib-ident">x</span><span class="stdlib-operator">:</span><span class="stdlib-ident">T</span><span class="stdlib-operator">{</span><span class="stdlib-ident">g</span><span class="stdlib-operator">(</span><span class="stdlib-ident">x</span><span class="stdlib-operator">)</span> <a href="Nat.pf.html#operator+193"><span class="stdlib-operator">+</span></a> <span class="stdlib-ident">f</span><span class="stdlib-operator">(</span><span class="stdlib-ident">x</span><span class="stdlib-operator">)</span><span class="stdlib-operator">}</span><span class="stdlib-operator">)</span>
              <span class="stdlib-keyword">by</span> <span class="stdlib-keyword">definition</span> <a href="MultiSet.pf.html#cnt179"><span class="stdlib-function">cnt</span></a>
	  <span class="stdlib-keyword">have</span> <span class="stdlib-ident">eq</span><span class="stdlib-operator">:</span> <span class="stdlib-operator">(</span><span class="stdlib-operator">&#x03BB;</span><span class="stdlib-ident">x</span><span class="stdlib-operator">:</span><span class="stdlib-ident">T</span><span class="stdlib-operator">{</span><span class="stdlib-operator">(</span><span class="stdlib-ident">f</span><span class="stdlib-operator">(</span><span class="stdlib-ident">x</span><span class="stdlib-operator">)</span> <a href="Nat.pf.html#operator+193"><span class="stdlib-operator">+</span></a> <span class="stdlib-ident">g</span><span class="stdlib-operator">(</span><span class="stdlib-ident">x</span><span class="stdlib-operator">)</span><span class="stdlib-operator">)</span><span class="stdlib-operator">}</span><span class="stdlib-operator">)</span> <span class="stdlib-operator">=</span> <span class="stdlib-operator">&#x03BB;</span><span class="stdlib-ident">x</span><span class="stdlib-operator">:</span><span class="stdlib-ident">T</span><span class="stdlib-operator">{</span><span class="stdlib-operator">(</span><span class="stdlib-ident">g</span><span class="stdlib-operator">(</span><span class="stdlib-ident">x</span><span class="stdlib-operator">)</span> <a href="Nat.pf.html#operator+193"><span class="stdlib-operator">+</span></a> <span class="stdlib-ident">f</span><span class="stdlib-operator">(</span><span class="stdlib-ident">x</span><span class="stdlib-operator">)</span><span class="stdlib-operator">)</span><span class="stdlib-operator">}</span>
	    <span class="stdlib-keyword">by</span> <span class="stdlib-keyword">extensionality</span> <span class="stdlib-keyword">arbitrary</span> <span class="stdlib-ident">x</span><span class="stdlib-operator">:</span><span class="stdlib-ident">T</span>
	       <span class="stdlib-keyword">rewrite</span> <a href="Nat.pf.html#add_commute222"><span class="stdlib-theorem">add_commute</span></a><span class="stdlib-operator">[</span><span class="stdlib-ident">f</span><span class="stdlib-operator">(</span><span class="stdlib-ident">x</span><span class="stdlib-operator">)</span><span class="stdlib-operator">]</span><span class="stdlib-operator">[</span><span class="stdlib-ident">g</span><span class="stdlib-operator">(</span><span class="stdlib-ident">x</span><span class="stdlib-operator">)</span><span class="stdlib-operator">]</span>
	  <span class="stdlib-keyword">rewrite</span> <span class="stdlib-ident">eq</span>
	<span class="stdlib-operator">}</span>
      <span class="stdlib-operator">}</span>
    <span class="stdlib-operator">}</span>
  <span class="stdlib-operator">}</span>
<span class="stdlib-keyword">end</span>

<span class="stdlib-keyword">theorem</span> <a href="MultiSet.pf.html#m_sum_assoc188"><span id="m_sum_assoc188" class="stdlib-theorem">m_sum_assoc</span></a><span class="stdlib-operator">:</span> <span class="stdlib-keyword">all</span> <span class="stdlib-ident">T</span><span class="stdlib-operator">:</span><span class="stdlib-type">type</span><span class="stdlib-operator">.</span> <span class="stdlib-keyword">all</span> <span class="stdlib-ident">A</span><span class="stdlib-operator">:</span><a href="MultiSet.pf.html#MultiSet178"><span class="stdlib-union">MultiSet</span></a><a href="Nat.pf.html#operator<199"><span class="stdlib-operator">&lt;</span></a><span class="stdlib-ident">T</span><a href="Nat.pf.html#operator>200"><span class="stdlib-operator">&gt;</span></a><span class="stdlib-operator">,</span> <span class="stdlib-ident">B</span><span class="stdlib-operator">:</span><a href="MultiSet.pf.html#MultiSet178"><span class="stdlib-union">MultiSet</span></a><a href="Nat.pf.html#operator<199"><span class="stdlib-operator">&lt;</span></a><span class="stdlib-ident">T</span><a href="Nat.pf.html#operator>200"><span class="stdlib-operator">&gt;</span></a><span class="stdlib-operator">,</span> <span class="stdlib-ident">C</span><span class="stdlib-operator">:</span><a href="MultiSet.pf.html#MultiSet178"><span class="stdlib-union">MultiSet</span></a><a href="Nat.pf.html#operator<199"><span class="stdlib-operator">&lt;</span></a><span class="stdlib-ident">T</span><a href="Nat.pf.html#operator>200"><span class="stdlib-operator">&gt;</span></a><span class="stdlib-operator">.</span>
  <span class="stdlib-operator">(</span><span class="stdlib-ident">A</span> <a href="MultiSet.pf.html#operator⨄181"><span class="stdlib-operator">&#x2A04;</span></a> <span class="stdlib-ident">B</span><span class="stdlib-operator">)</span> <a href="MultiSet.pf.html#operator⨄181"><span class="stdlib-operator">&#x2A04;</span></a> <span class="stdlib-ident">C</span> <span class="stdlib-operator">=</span> <span class="stdlib-ident">A</span> <a href="MultiSet.pf.html#operator⨄181"><span class="stdlib-operator">&#x2A04;</span></a> <span class="stdlib-operator">(</span><span class="stdlib-ident">B</span> <a href="MultiSet.pf.html#operator⨄181"><span class="stdlib-operator">&#x2A04;</span></a> <span class="stdlib-ident">C</span><span class="stdlib-operator">)</span>
<span class="stdlib-keyword">proof</span>
  <span class="stdlib-keyword">arbitrary</span> <span class="stdlib-ident">T</span><span class="stdlib-operator">:</span><span class="stdlib-type">type</span>
  <span class="stdlib-keyword">arbitrary</span> <span class="stdlib-ident">A</span><span class="stdlib-operator">:</span><a href="MultiSet.pf.html#MultiSet178"><span class="stdlib-union">MultiSet</span></a><a href="Nat.pf.html#operator<199"><span class="stdlib-operator">&lt;</span></a><span class="stdlib-ident">T</span><a href="Nat.pf.html#operator>200"><span class="stdlib-operator">&gt;</span></a><span class="stdlib-operator">,</span> <span class="stdlib-ident">B</span><span class="stdlib-operator">:</span><a href="MultiSet.pf.html#MultiSet178"><span class="stdlib-union">MultiSet</span></a><a href="Nat.pf.html#operator<199"><span class="stdlib-operator">&lt;</span></a><span class="stdlib-ident">T</span><a href="Nat.pf.html#operator>200"><span class="stdlib-operator">&gt;</span></a><span class="stdlib-operator">,</span> <span class="stdlib-ident">C</span><span class="stdlib-operator">:</span><a href="MultiSet.pf.html#MultiSet178"><span class="stdlib-union">MultiSet</span></a><a href="Nat.pf.html#operator<199"><span class="stdlib-operator">&lt;</span></a><span class="stdlib-ident">T</span><a href="Nat.pf.html#operator>200"><span class="stdlib-operator">&gt;</span></a>
  <span class="stdlib-keyword">switch</span> <span class="stdlib-ident">A</span> <span class="stdlib-keyword">for</span> <a href="MultiSet.pf.html#operator⨄181"><span class="stdlib-function">operator ⨄</span></a> <span class="stdlib-operator">{</span>
    <span class="stdlib-keyword">case</span> <a href="MultiSet.pf.html#MultiSet178"><span class="stdlib-constructor">m_fun</span></a><span class="stdlib-operator">(</span><span class="stdlib-ident">f</span><span class="stdlib-operator">)</span> <span class="stdlib-operator">{</span>
      <span class="stdlib-keyword">switch</span> <span class="stdlib-ident">B</span> <span class="stdlib-operator">{</span>
	      <span class="stdlib-keyword">case</span> <a href="MultiSet.pf.html#MultiSet178"><span class="stdlib-constructor">m_fun</span></a><span class="stdlib-operator">(</span><span class="stdlib-ident">g</span><span class="stdlib-operator">)</span> <span class="stdlib-operator">{</span>
	        <span class="stdlib-keyword">switch</span> <span class="stdlib-ident">C</span> <span class="stdlib-operator">{</span>
	          <span class="stdlib-keyword">case</span> <a href="MultiSet.pf.html#MultiSet178"><span class="stdlib-constructor">m_fun</span></a><span class="stdlib-operator">(</span><span class="stdlib-ident">h</span><span class="stdlib-operator">)</span> <span class="stdlib-operator">{</span>
	            <span class="stdlib-keyword">suffices</span> <a href="MultiSet.pf.html#MultiSet178"><span class="stdlib-constructor">m_fun</span></a><span class="stdlib-operator">(</span><span class="stdlib-operator">&#x03BB;</span><span class="stdlib-ident">x</span><span class="stdlib-operator">:</span><span class="stdlib-ident">T</span><span class="stdlib-operator">{</span><span class="stdlib-operator">(</span><span class="stdlib-ident">f</span><span class="stdlib-operator">(</span><span class="stdlib-ident">x</span><span class="stdlib-operator">)</span> <a href="Nat.pf.html#operator+193"><span class="stdlib-operator">+</span></a> <span class="stdlib-ident">g</span><span class="stdlib-operator">(</span><span class="stdlib-ident">x</span><span class="stdlib-operator">)</span><span class="stdlib-operator">)</span> <a href="Nat.pf.html#operator+193"><span class="stdlib-operator">+</span></a> <span class="stdlib-ident">h</span><span class="stdlib-operator">(</span><span class="stdlib-ident">x</span><span class="stdlib-operator">)</span><span class="stdlib-operator">}</span><span class="stdlib-operator">)</span>
                     <span class="stdlib-operator">=</span> <a href="MultiSet.pf.html#MultiSet178"><span class="stdlib-constructor">m_fun</span></a><span class="stdlib-operator">(</span><span class="stdlib-operator">&#x03BB;</span><span class="stdlib-ident">x</span><span class="stdlib-operator">:</span><span class="stdlib-ident">T</span><span class="stdlib-operator">{</span><span class="stdlib-ident">f</span><span class="stdlib-operator">(</span><span class="stdlib-ident">x</span><span class="stdlib-operator">)</span> <a href="Nat.pf.html#operator+193"><span class="stdlib-operator">+</span></a> <span class="stdlib-operator">(</span><span class="stdlib-ident">g</span><span class="stdlib-operator">(</span><span class="stdlib-ident">x</span><span class="stdlib-operator">)</span> <a href="Nat.pf.html#operator+193"><span class="stdlib-operator">+</span></a> <span class="stdlib-ident">h</span><span class="stdlib-operator">(</span><span class="stdlib-ident">x</span><span class="stdlib-operator">)</span><span class="stdlib-operator">)</span><span class="stdlib-operator">}</span><span class="stdlib-operator">)</span>
                  <span class="stdlib-keyword">by</span> <span class="stdlib-keyword">definition</span> <a href="MultiSet.pf.html#cnt179"><span class="stdlib-function">cnt</span></a>
              <span class="stdlib-operator">.</span>
	          <span class="stdlib-operator">}</span>
	        <span class="stdlib-operator">}</span>
	      <span class="stdlib-operator">}</span>
      <span class="stdlib-operator">}</span>
    <span class="stdlib-operator">}</span>
  <span class="stdlib-operator">}</span>
<span class="stdlib-keyword">end</span>

<span class="stdlib-keyword">define</span> <a href="MultiSet.pf.html#set_of_mset189"><span id="set_of_mset189" class="stdlib-function">set_of_mset</span></a> <span class="stdlib-operator">:</span> <span class="stdlib-type">fn</span><a href="Nat.pf.html#operator<199"><span class="stdlib-operator">&lt;</span></a><span class="stdlib-ident">T</span><a href="Nat.pf.html#operator>200"><span class="stdlib-operator">&gt;</span></a> <a href="MultiSet.pf.html#MultiSet178"><span class="stdlib-union">MultiSet</span></a><a href="Nat.pf.html#operator<199"><span class="stdlib-operator">&lt;</span></a><span class="stdlib-ident">T</span><a href="Nat.pf.html#operator>200"><span class="stdlib-operator">&gt;</span></a> <span class="stdlib-operator">-&gt;</span> <a href="Set.pf.html#Set346"><span class="stdlib-union">Set</span></a><a href="Nat.pf.html#operator<199"><span class="stdlib-operator">&lt;</span></a><span class="stdlib-ident">T</span><a href="Nat.pf.html#operator>200"><span class="stdlib-operator">&gt;</span></a>
  <span class="stdlib-operator">=</span> <span class="stdlib-keyword">generic</span> <span class="stdlib-ident">T</span> <span class="stdlib-operator">{</span><span class="stdlib-operator">&#x03BB;</span><span class="stdlib-ident">M</span><span class="stdlib-operator">{</span><a href="Set.pf.html#Set346"><span class="stdlib-constructor">char_fun</span></a><span class="stdlib-operator">(</span><span class="stdlib-operator">&#x03BB;</span><span class="stdlib-ident">x</span><span class="stdlib-operator">{</span> <span class="stdlib-keyword">if</span> <a href="MultiSet.pf.html#cnt179"><span class="stdlib-function">cnt</span></a><span class="stdlib-operator">(</span><span class="stdlib-ident">M</span><span class="stdlib-operator">)</span><span class="stdlib-operator">(</span><span class="stdlib-ident">x</span><span class="stdlib-operator">)</span> <span class="stdlib-operator">=</span> <span class="stdlib-prim">0</span> <span class="stdlib-keyword">then</span> <span class="stdlib-prim">false</span> <span class="stdlib-keyword">else</span> <span class="stdlib-prim">true</span> <span class="stdlib-operator">}</span><span class="stdlib-operator">)</span><span class="stdlib-operator">}</span><span class="stdlib-operator">}</span>

<span class="stdlib-keyword">theorem</span> <a href="MultiSet.pf.html#som_one_single190"><span id="som_one_single190" class="stdlib-theorem">som_one_single</span></a><span class="stdlib-operator">:</span> <span class="stdlib-keyword">all</span> <span class="stdlib-ident">T</span><span class="stdlib-operator">:</span><span class="stdlib-type">type</span><span class="stdlib-operator">.</span> <span class="stdlib-keyword">all</span> <span class="stdlib-ident">x</span><span class="stdlib-operator">:</span><span class="stdlib-ident">T</span><span class="stdlib-operator">.</span>
  <a href="MultiSet.pf.html#set_of_mset189"><span class="stdlib-function">set_of_mset</span></a><span class="stdlib-operator">(</span><a href="MultiSet.pf.html#m_one180"><span class="stdlib-function">m_one</span></a><span class="stdlib-operator">(</span><span class="stdlib-ident">x</span><span class="stdlib-operator">)</span><span class="stdlib-operator">)</span> <span class="stdlib-operator">=</span> <a href="Set.pf.html#single348"><span class="stdlib-function">single</span></a><span class="stdlib-operator">(</span><span class="stdlib-ident">x</span><span class="stdlib-operator">)</span>
<span class="stdlib-keyword">proof</span>
  <span class="stdlib-keyword">arbitrary</span> <span class="stdlib-ident">T</span><span class="stdlib-operator">:</span><span class="stdlib-type">type</span>
  <span class="stdlib-keyword">arbitrary</span> <span class="stdlib-ident">z</span><span class="stdlib-operator">:</span><span class="stdlib-ident">T</span>
  <span class="stdlib-keyword">have</span> <span class="stdlib-ident">eq</span><span class="stdlib-operator">:</span> <span class="stdlib-operator">&#x03BB;</span><span class="stdlib-ident">x</span><span class="stdlib-operator">:</span><span class="stdlib-ident">T</span><span class="stdlib-operator">{</span><span class="stdlib-operator">(</span><span class="stdlib-keyword">if</span> <a href="MultiSet.pf.html#cnt179"><span class="stdlib-function">cnt</span></a><span class="stdlib-operator">(</span><a href="MultiSet.pf.html#MultiSet178"><span class="stdlib-constructor">m_fun</span></a><span class="stdlib-operator">(</span><span class="stdlib-operator">&#x03BB;</span><span class="stdlib-ident">y</span><span class="stdlib-operator">:</span><span class="stdlib-ident">T</span><span class="stdlib-operator">{</span><span class="stdlib-operator">(</span><span class="stdlib-keyword">if</span> <span class="stdlib-ident">z</span> <span class="stdlib-operator">=</span> <span class="stdlib-ident">y</span> <span class="stdlib-keyword">then</span> <span class="stdlib-prim">1</span> <span class="stdlib-keyword">else</span> <span class="stdlib-prim">0</span><span class="stdlib-operator">)</span><span class="stdlib-operator">}</span><span class="stdlib-operator">)</span><span class="stdlib-operator">)</span><span class="stdlib-operator">(</span><span class="stdlib-ident">x</span><span class="stdlib-operator">)</span> <span class="stdlib-operator">=</span> <span class="stdlib-prim">0</span>
               <span class="stdlib-keyword">then</span> <span class="stdlib-prim">false</span> <span class="stdlib-keyword">else</span> <span class="stdlib-prim">true</span><span class="stdlib-operator">)</span><span class="stdlib-operator">}</span>
           <span class="stdlib-operator">=</span> <span class="stdlib-operator">&#x03BB;</span><span class="stdlib-ident">y</span><span class="stdlib-operator">{</span><span class="stdlib-ident">z</span> <span class="stdlib-operator">=</span> <span class="stdlib-ident">y</span><span class="stdlib-operator">}</span>
    <span class="stdlib-keyword">by</span> <span class="stdlib-keyword">extensionality</span>
       <span class="stdlib-keyword">arbitrary</span> <span class="stdlib-ident">y</span><span class="stdlib-operator">:</span><span class="stdlib-ident">T</span>
       <span class="stdlib-keyword">switch</span> <span class="stdlib-ident">y</span> <span class="stdlib-operator">=</span> <span class="stdlib-ident">z</span> <span class="stdlib-keyword">for</span> <a href="MultiSet.pf.html#cnt179"><span class="stdlib-function">cnt</span></a> <span class="stdlib-operator">{</span>
         <span class="stdlib-keyword">case</span> <span class="stdlib-prim">true</span> <span class="stdlib-keyword">suppose</span> <span class="stdlib-ident">yz_true</span> <span class="stdlib-operator">{</span>
	   <span class="stdlib-keyword">have</span> <span class="stdlib-ident">z_y</span><span class="stdlib-operator">:</span> <span class="stdlib-ident">z</span> <span class="stdlib-operator">=</span> <span class="stdlib-ident">y</span>
	     <span class="stdlib-keyword">by</span> <span class="stdlib-keyword">symmetric</span> <span class="stdlib-keyword">rewrite</span> <span class="stdlib-ident">yz_true</span>
	   <span class="stdlib-keyword">rewrite</span> <span class="stdlib-ident">z_y</span>
	 <span class="stdlib-operator">}</span>
	 <span class="stdlib-keyword">case</span> <span class="stdlib-prim">false</span> <span class="stdlib-keyword">suppose</span> <span class="stdlib-ident">yz_false</span> <span class="stdlib-operator">{</span>
	   <span class="stdlib-keyword">have</span> <span class="stdlib-ident">not_zy</span><span class="stdlib-operator">:</span> <span class="stdlib-keyword">not</span> <span class="stdlib-operator">(</span><span class="stdlib-ident">z</span> <span class="stdlib-operator">=</span> <span class="stdlib-ident">y</span><span class="stdlib-operator">)</span>
	     <span class="stdlib-keyword">by</span> <span class="stdlib-keyword">suppose</span> <span class="stdlib-ident">zy</span>
	        <span class="stdlib-keyword">rewrite</span> <span class="stdlib-ident">yz_false</span> <span class="stdlib-keyword">in</span> <span class="stdlib-keyword">symmetric</span> <span class="stdlib-ident">zy</span>
	   <span class="stdlib-keyword">rewrite</span> <span class="stdlib-operator">(</span><span class="stdlib-keyword">apply</span> <a href="Base.pf.html#eq_false6"><span class="stdlib-theorem">eq_false</span></a> <span class="stdlib-keyword">to</span> <span class="stdlib-ident">not_zy</span><span class="stdlib-operator">)</span>
	 <span class="stdlib-operator">}</span>
       <span class="stdlib-operator">}</span>
  <span class="stdlib-keyword">definition</span> <span class="stdlib-operator">{</span><a href="MultiSet.pf.html#m_one180"><span class="stdlib-function">m_one</span></a><span class="stdlib-operator">,</span> <a href="Set.pf.html#single348"><span class="stdlib-function">single</span></a><span class="stdlib-operator">,</span> <a href="MultiSet.pf.html#set_of_mset189"><span class="stdlib-function">set_of_mset</span></a><span class="stdlib-operator">}</span>
  <span class="stdlib-keyword">and</span> <span class="stdlib-keyword">rewrite</span> <span class="stdlib-ident">eq</span>
<span class="stdlib-keyword">end</span>

<span class="stdlib-keyword">theorem</span> <a href="MultiSet.pf.html#som_union191"><span id="som_union191" class="stdlib-theorem">som_union</span></a><span class="stdlib-operator">:</span> <span class="stdlib-keyword">all</span> <span class="stdlib-ident">T</span><span class="stdlib-operator">:</span><span class="stdlib-type">type</span><span class="stdlib-operator">.</span> <span class="stdlib-keyword">all</span> <span class="stdlib-ident">A</span><span class="stdlib-operator">:</span><a href="MultiSet.pf.html#MultiSet178"><span class="stdlib-union">MultiSet</span></a><a href="Nat.pf.html#operator<199"><span class="stdlib-operator">&lt;</span></a><span class="stdlib-ident">T</span><a href="Nat.pf.html#operator>200"><span class="stdlib-operator">&gt;</span></a><span class="stdlib-operator">,</span> <span class="stdlib-ident">B</span><span class="stdlib-operator">:</span><a href="MultiSet.pf.html#MultiSet178"><span class="stdlib-union">MultiSet</span></a><a href="Nat.pf.html#operator<199"><span class="stdlib-operator">&lt;</span></a><span class="stdlib-ident">T</span><a href="Nat.pf.html#operator>200"><span class="stdlib-operator">&gt;</span></a><span class="stdlib-operator">.</span>
  <a href="MultiSet.pf.html#set_of_mset189"><span class="stdlib-function">set_of_mset</span></a><span class="stdlib-operator">(</span><span class="stdlib-ident">A</span> <a href="MultiSet.pf.html#operator⨄181"><span class="stdlib-operator">&#x2A04;</span></a> <span class="stdlib-ident">B</span><span class="stdlib-operator">)</span> <span class="stdlib-operator">=</span> <a href="MultiSet.pf.html#set_of_mset189"><span class="stdlib-function">set_of_mset</span></a><span class="stdlib-operator">(</span><span class="stdlib-ident">A</span><span class="stdlib-operator">)</span> <a href="Set.pf.html#operator∪349"><span class="stdlib-operator">&#x222A;</span></a> <a href="MultiSet.pf.html#set_of_mset189"><span class="stdlib-function">set_of_mset</span></a><span class="stdlib-operator">(</span><span class="stdlib-ident">B</span><span class="stdlib-operator">)</span>
<span class="stdlib-keyword">proof</span>
  <span class="stdlib-keyword">arbitrary</span> <span class="stdlib-ident">T</span><span class="stdlib-operator">:</span><span class="stdlib-type">type</span>
  <span class="stdlib-keyword">arbitrary</span> <span class="stdlib-ident">A</span><span class="stdlib-operator">:</span><a href="MultiSet.pf.html#MultiSet178"><span class="stdlib-union">MultiSet</span></a><a href="Nat.pf.html#operator<199"><span class="stdlib-operator">&lt;</span></a><span class="stdlib-ident">T</span><a href="Nat.pf.html#operator>200"><span class="stdlib-operator">&gt;</span></a><span class="stdlib-operator">,</span> <span class="stdlib-ident">B</span><span class="stdlib-operator">:</span><a href="MultiSet.pf.html#MultiSet178"><span class="stdlib-union">MultiSet</span></a><a href="Nat.pf.html#operator<199"><span class="stdlib-operator">&lt;</span></a><span class="stdlib-ident">T</span><a href="Nat.pf.html#operator>200"><span class="stdlib-operator">&gt;</span></a>
  <span class="stdlib-keyword">have</span> <span class="stdlib-ident">eq</span><span class="stdlib-operator">:</span> <span class="stdlib-operator">&#x03BB;</span><span class="stdlib-ident">x</span><span class="stdlib-operator">:</span><span class="stdlib-ident">T</span><span class="stdlib-operator">{</span><span class="stdlib-operator">(</span><span class="stdlib-keyword">if</span> <a href="MultiSet.pf.html#cnt179"><span class="stdlib-function">cnt</span></a><span class="stdlib-operator">(</span><span class="stdlib-ident">A</span><span class="stdlib-operator">)</span><span class="stdlib-operator">(</span><span class="stdlib-ident">x</span><span class="stdlib-operator">)</span> <a href="Nat.pf.html#operator+193"><span class="stdlib-operator">+</span></a> <a href="MultiSet.pf.html#cnt179"><span class="stdlib-function">cnt</span></a><span class="stdlib-operator">(</span><span class="stdlib-ident">B</span><span class="stdlib-operator">)</span><span class="stdlib-operator">(</span><span class="stdlib-ident">x</span><span class="stdlib-operator">)</span> <span class="stdlib-operator">=</span> <span class="stdlib-prim">0</span> <span class="stdlib-keyword">then</span> <span class="stdlib-prim">false</span> <span class="stdlib-keyword">else</span> <span class="stdlib-prim">true</span><span class="stdlib-operator">)</span><span class="stdlib-operator">}</span>
         <span class="stdlib-operator">=</span> <span class="stdlib-operator">&#x03BB;</span><span class="stdlib-ident">x</span><span class="stdlib-operator">:</span><span class="stdlib-ident">T</span><span class="stdlib-operator">{</span><span class="stdlib-operator">(</span><span class="stdlib-operator">(</span><span class="stdlib-keyword">if</span> <a href="MultiSet.pf.html#cnt179"><span class="stdlib-function">cnt</span></a><span class="stdlib-operator">(</span><span class="stdlib-ident">A</span><span class="stdlib-operator">)</span><span class="stdlib-operator">(</span><span class="stdlib-ident">x</span><span class="stdlib-operator">)</span> <span class="stdlib-operator">=</span> <span class="stdlib-prim">0</span> <span class="stdlib-keyword">then</span> <span class="stdlib-prim">false</span> <span class="stdlib-keyword">else</span> <span class="stdlib-prim">true</span><span class="stdlib-operator">)</span>
                <span class="stdlib-keyword">or</span> <span class="stdlib-operator">(</span><span class="stdlib-keyword">if</span> <a href="MultiSet.pf.html#cnt179"><span class="stdlib-function">cnt</span></a><span class="stdlib-operator">(</span><span class="stdlib-ident">B</span><span class="stdlib-operator">)</span><span class="stdlib-operator">(</span><span class="stdlib-ident">x</span><span class="stdlib-operator">)</span> <span class="stdlib-operator">=</span> <span class="stdlib-prim">0</span> <span class="stdlib-keyword">then</span> <span class="stdlib-prim">false</span> <span class="stdlib-keyword">else</span> <span class="stdlib-prim">true</span><span class="stdlib-operator">)</span><span class="stdlib-operator">)</span><span class="stdlib-operator">}</span>
    <span class="stdlib-keyword">by</span> <span class="stdlib-keyword">extensionality</span>  <span class="stdlib-keyword">arbitrary</span> <span class="stdlib-ident">x</span><span class="stdlib-operator">:</span><span class="stdlib-ident">T</span>
       <span class="stdlib-keyword">switch</span> <a href="MultiSet.pf.html#cnt179"><span class="stdlib-function">cnt</span></a><span class="stdlib-operator">(</span><span class="stdlib-ident">A</span><span class="stdlib-operator">)</span><span class="stdlib-operator">(</span><span class="stdlib-ident">x</span><span class="stdlib-operator">)</span> <span class="stdlib-operator">{</span>
         <span class="stdlib-keyword">case</span> <span class="stdlib-prim">0</span> <span class="stdlib-keyword">suppose</span> <span class="stdlib-ident">Ax_z</span> <span class="stdlib-operator">{</span>
	   <span class="stdlib-keyword">suffices</span> <span class="stdlib-operator">(</span><span class="stdlib-keyword">if</span> <span class="stdlib-prim">0</span> <a href="Nat.pf.html#operator+193"><span class="stdlib-operator">+</span></a> <a href="MultiSet.pf.html#cnt179"><span class="stdlib-function">cnt</span></a><span class="stdlib-operator">(</span><span class="stdlib-ident">B</span><span class="stdlib-operator">)</span><span class="stdlib-operator">(</span><span class="stdlib-ident">x</span><span class="stdlib-operator">)</span> <span class="stdlib-operator">=</span> <span class="stdlib-prim">0</span> <span class="stdlib-keyword">then</span> <span class="stdlib-prim">false</span> <span class="stdlib-keyword">else</span> <span class="stdlib-prim">true</span><span class="stdlib-operator">)</span>
                  <span class="stdlib-operator">=</span> <span class="stdlib-operator">(</span><span class="stdlib-keyword">if</span> <a href="MultiSet.pf.html#cnt179"><span class="stdlib-function">cnt</span></a><span class="stdlib-operator">(</span><span class="stdlib-ident">B</span><span class="stdlib-operator">)</span><span class="stdlib-operator">(</span><span class="stdlib-ident">x</span><span class="stdlib-operator">)</span> <span class="stdlib-operator">=</span> <span class="stdlib-prim">0</span> <span class="stdlib-keyword">then</span> <span class="stdlib-prim">false</span> <span class="stdlib-keyword">else</span> <span class="stdlib-prim">true</span><span class="stdlib-operator">)</span> <span class="stdlib-keyword">by</span> <span class="stdlib-keyword">rewrite</span> <span class="stdlib-ident">Ax_z</span>
	   <span class="stdlib-keyword">definition</span> <a href="Nat.pf.html#operator+193"><span class="stdlib-function">operator +</span></a>
	 <span class="stdlib-operator">}</span>
	 <span class="stdlib-keyword">case</span> <a href="Nat.pf.html#Nat192"><span class="stdlib-constructor">suc</span></a><span class="stdlib-operator">(</span><span class="stdlib-ident">Ax</span><span class="stdlib-operator">)</span> <span class="stdlib-keyword">suppose</span> <span class="stdlib-ident">Ax_s</span> <span class="stdlib-operator">{</span>
	   <span class="stdlib-keyword">suffices</span> <span class="stdlib-operator">(</span><span class="stdlib-keyword">if</span> <a href="Nat.pf.html#Nat192"><span class="stdlib-constructor">suc</span></a><span class="stdlib-operator">(</span><span class="stdlib-ident">Ax</span><span class="stdlib-operator">)</span> <a href="Nat.pf.html#operator+193"><span class="stdlib-operator">+</span></a> <a href="MultiSet.pf.html#cnt179"><span class="stdlib-function">cnt</span></a><span class="stdlib-operator">(</span><span class="stdlib-ident">B</span><span class="stdlib-operator">)</span><span class="stdlib-operator">(</span><span class="stdlib-ident">x</span><span class="stdlib-operator">)</span> <span class="stdlib-operator">=</span> <span class="stdlib-prim">0</span> <span class="stdlib-keyword">then</span> <span class="stdlib-prim">false</span> <span class="stdlib-keyword">else</span> <span class="stdlib-prim">true</span><span class="stdlib-operator">)</span> <span class="stdlib-operator">=</span> <span class="stdlib-prim">true</span>
               <span class="stdlib-keyword">by</span> <span class="stdlib-keyword">rewrite</span> <span class="stdlib-ident">Ax_s</span>
	   <span class="stdlib-keyword">definition</span> <a href="Nat.pf.html#operator+193"><span class="stdlib-function">operator +</span></a>
	 <span class="stdlib-operator">}</span>
       <span class="stdlib-operator">}</span>
  <span class="stdlib-keyword">definition</span> <span class="stdlib-operator">{</span><a href="MultiSet.pf.html#set_of_mset189"><span class="stdlib-function">set_of_mset</span></a><span class="stdlib-operator">,</span> <a href="Set.pf.html#operator∪349"><span class="stdlib-function">operator ∪</span></a><span class="stdlib-operator">,</span> <a href="MultiSet.pf.html#operator⨄181"><span class="stdlib-function">operator ⨄</span></a><span class="stdlib-operator">,</span> <a href="MultiSet.pf.html#cnt179"><span class="stdlib-function">cnt</span></a><span class="stdlib-operator">,</span> <a href="Set.pf.html#rep347"><span class="stdlib-function">rep</span></a><span class="stdlib-operator">}</span>
  <span class="stdlib-keyword">and</span> <span class="stdlib-keyword">rewrite</span> <span class="stdlib-ident">eq</span>
<span class="stdlib-keyword">end</span>

    </code></pre>
</body>
</html>