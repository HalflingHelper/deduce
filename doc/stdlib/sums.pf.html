
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>

    <link rel="stylesheet" href="stdlib.css">
</head>
<body>
    <pre><code><span style="color: gray">// Proofs of summation formulae</span>
<span style="color: gray">// I don't know if this is something fun to add as an example somewhere?</span>
<span style="color: #d85311">import</span> <a href="Nat.pf.html"><span style="color: #0f95af">Nat</span></a>

<span style="color: #d85311">lemma</span> <a href="sums.pf.html#n_le_nn1"><span id="n_le_nn1" style="color: #086c3c">n_le_nn</span></a> <span style="color: #2e2d31">:</span> <span style="color: #d85311">all</span> <span style="color: black">n</span> <span style="color: #2e2d31">:</span> <a href="Nat.pf.html#Nat211"><span style="color: #0f95af">Nat</span></a><span style="color: #2e2d31">.</span> <span style="color: black">n</span> <span style="color: #2e2d31">&lt;=</span> <span style="color: black">n</span> <span style="color: #2e2d31">*</span> <span style="color: black">n</span>
<span style="color: #d85311">proof</span>
    <span style="color: #d85311">induction</span> <a href="Nat.pf.html#Nat211"><span style="color: #0f95af">Nat</span></a>
    <span style="color: #d85311">case</span> <span style="color: black">zero</span> <span style="color: #2e2d31">{</span>
        <span style="color: #d85311">definition</span> <span style="color: #2e2d31">{</span><a href="Nat.pf.html#operator*213"><span style="color: #086c3c">operator*</span></a><span style="color: #2e2d31">,</span> <span style="color: #d85311">operator</span> <span style="color: #2e2d31">&lt;=</span><span style="color: #2e2d31">}</span>
    <span style="color: #2e2d31">}</span>
    <span style="color: #d85311">case</span> <span style="color: black">suc</span><span style="color: #2e2d31">(</span><span style="color: black">n'</span><span style="color: #2e2d31">)</span> <span style="color: #d85311">suppose</span> <span style="color: black">IH</span> <span style="color: #2e2d31">{</span>
        <span style="color: #d85311">suffices</span> <span style="color: black">suc</span><span style="color: #2e2d31">(</span><span style="color: black">n'</span><span style="color: #2e2d31">)</span> <span style="color: #2e2d31">+</span> <span style="color: #9329ab">0</span> <span style="color: #2e2d31">&#x2264;</span> <span style="color: black">suc</span><span style="color: #2e2d31">(</span><span style="color: black">n'</span><span style="color: #2e2d31">)</span> <span style="color: #2e2d31">+</span> <span style="color: #2e2d31">(</span><span style="color: #9329ab">0</span> <span style="color: #2e2d31">+</span> <span style="color: black">n'</span> <span style="color: #2e2d31">*</span> <span style="color: #2e2d31">(</span><span style="color: black">suc</span><span style="color: #2e2d31">(</span><span style="color: black">n'</span><span style="color: #2e2d31">)</span> <span style="color: #2e2d31">+</span> <span style="color: #9329ab">0</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">)</span>
            <span style="color: #d85311">by</span> <span style="color: #d85311">definition</span> <a href="Nat.pf.html#operator*213"><span style="color: #086c3c">operator *</span></a>
            <span style="color: #d85311">and</span> <span style="color: #d85311">rewrite</span> <span style="color: #d85311">symmetric</span> <a href="Nat.pf.html#add_zero232"><span style="color: #086c3c">add_zero</span></a><span style="color: #2e2d31">[</span><span style="color: black">suc</span><span style="color: #2e2d31">(</span><span style="color: black">n'</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">]</span>
        <span style="color: #d85311">have</span> <span style="color: black">zero_le_any</span><span style="color: #2e2d31">:</span> <span style="color: #9329ab">0</span> <span style="color: #2e2d31">&lt;=</span> <span style="color: #2e2d31">(</span><span style="color: #9329ab">0</span> <span style="color: #2e2d31">+</span> <span style="color: black">n'</span> <span style="color: #2e2d31">*</span> <span style="color: #2e2d31">(</span><span style="color: black">suc</span><span style="color: #2e2d31">(</span><span style="color: black">n'</span><span style="color: #2e2d31">)</span> <span style="color: #2e2d31">+</span> <span style="color: #9329ab">0</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">)</span>
            <span style="color: #d85311">by</span> <span style="color: #d85311">definition</span> <span style="color: #d85311">operator</span> <span style="color: #2e2d31">&lt;=</span>
        <span style="color: #d85311">apply</span> <a href="Nat.pf.html#less_equal_left_cancel297"><span style="color: #086c3c">less_equal_left_cancel</span></a><span style="color: #2e2d31">[</span><span style="color: black">suc</span><span style="color: #2e2d31">(</span><span style="color: black">n'</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">]</span><span style="color: #2e2d31">[</span><span style="color: #9329ab">0</span><span style="color: #2e2d31">,</span> <span style="color: #2e2d31">(</span><span style="color: #9329ab">0</span> <span style="color: #2e2d31">+</span> <span style="color: black">n'</span> <span style="color: #2e2d31">*</span> <span style="color: #2e2d31">(</span><span style="color: black">suc</span><span style="color: #2e2d31">(</span><span style="color: black">n'</span><span style="color: #2e2d31">)</span> <span style="color: #2e2d31">+</span> <span style="color: #9329ab">0</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">]</span>
            <span style="color: #d85311">to</span> <span style="color: black">zero_le_any</span>
    <span style="color: #2e2d31">}</span>
<span style="color: #d85311">end</span>

<span style="color: #d85311">lemma</span> <a href="sums.pf.html#blah2"><span id="blah2" style="color: #086c3c">blah</span></a> <span style="color: #2e2d31">:</span> <span style="color: #d85311">all</span> <span style="color: black">n</span> <span style="color: #2e2d31">:</span> <a href="Nat.pf.html#Nat211"><span style="color: #0f95af">Nat</span></a><span style="color: #2e2d31">.</span>
    <span style="color: black">n</span> <span style="color: #2e2d31">*</span> <span style="color: #2e2d31">(</span><span style="color: black">n</span> <span style="color: #2e2d31">-</span> <span style="color: #9329ab">1</span><span style="color: #2e2d31">)</span> <span style="color: #2e2d31">=</span> <span style="color: black">n</span> <span style="color: #2e2d31">*</span> <span style="color: black">n</span> <span style="color: #2e2d31">-</span> <span style="color: black">n</span>
<span style="color: #d85311">proof</span>
    <span style="color: #d85311">induction</span> <a href="Nat.pf.html#Nat211"><span style="color: #0f95af">Nat</span></a>
    <span style="color: #d85311">case</span> <span style="color: black">zero</span> <span style="color: #2e2d31">{</span>
        <span style="color: #d85311">definition</span> <span style="color: #2e2d31">{</span><a href="Nat.pf.html#operator-216"><span style="color: #086c3c">operator-</span></a><span style="color: #2e2d31">,</span> <a href="Nat.pf.html#operator*213"><span style="color: #086c3c">operator*</span></a><span style="color: #2e2d31">}</span>
    <span style="color: #2e2d31">}</span>
    <span style="color: #d85311">case</span> <span style="color: black">suc</span><span style="color: #2e2d31">(</span><span style="color: black">n'</span><span style="color: #2e2d31">)</span> <span style="color: #d85311">suppose</span> <span style="color: black">IH</span> <span style="color: #2e2d31">{</span>
        <span style="color: #d85311">suffices</span> <span style="color: black">n'</span> <span style="color: #2e2d31">+</span> <span style="color: black">n'</span> <span style="color: #2e2d31">*</span> <span style="color: black">n'</span> <span style="color: #2e2d31">=</span> <span style="color: black">suc</span><span style="color: #2e2d31">(</span><span style="color: black">n'</span><span style="color: #2e2d31">)</span> <span style="color: #2e2d31">*</span> <span style="color: black">n'</span>  <span style="color: #d85311">by</span> <span style="color: #d85311">definition</span> <span style="color: #2e2d31">{</span><a href="Nat.pf.html#operator*213"><span style="color: #086c3c">operator*</span></a><span style="color: #2e2d31">,</span> <a href="Nat.pf.html#operator-216"><span style="color: #086c3c">operator-</span></a><span style="color: #2e2d31">}</span>
        <span style="color: #d85311">and</span> <span style="color: #d85311">rewrite</span> <a href="Nat.pf.html#sub_zero246"><span style="color: #086c3c">sub_zero</span></a><span style="color: #2e2d31">[</span><span style="color: black">n'</span><span style="color: #2e2d31">]</span>
                  <span style="color: #2e2d31">|</span> <a href="Nat.pf.html#add_sub_identity249"><span style="color: #086c3c">add_sub_identity</span></a><span style="color: #2e2d31">[</span><span style="color: black">suc</span><span style="color: #2e2d31">(</span><span style="color: black">n'</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">]</span><span style="color: #2e2d31">[</span><span style="color: black">n'</span> <span style="color: #2e2d31">*</span> <span style="color: black">suc</span><span style="color: #2e2d31">(</span><span style="color: black">n'</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">]</span>
                  <span style="color: #2e2d31">|</span> <a href="Nat.pf.html#mult_commute256"><span style="color: #086c3c">mult_commute</span></a><span style="color: #2e2d31">[</span><span style="color: black">n'</span><span style="color: #2e2d31">]</span><span style="color: #2e2d31">[</span><span style="color: black">suc</span><span style="color: #2e2d31">(</span><span style="color: black">n'</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">]</span>
        <span style="color: #d85311">definition</span> <a href="Nat.pf.html#operator*213"><span style="color: #086c3c">operator*</span></a>
    <span style="color: #2e2d31">}</span>
<span style="color: #d85311">end</span>


<span style="color: #d85311">theorem</span> <a href="sums.pf.html#sum_n3"><span id="sum_n3" style="color: #086c3c">sum_n</span></a> <span style="color: #2e2d31">:</span> <span style="color: #d85311">all</span> <span style="color: black">n</span> <span style="color: #2e2d31">:</span> <a href="Nat.pf.html#Nat211"><span style="color: #0f95af">Nat</span></a><span style="color: #2e2d31">.</span> 
    <span style="color: #9329ab">2</span> <span style="color: #2e2d31">*</span> <a href="Nat.pf.html#summation223"><span style="color: #086c3c">summation</span></a><span style="color: #2e2d31">(</span><span style="color: black">n</span><span style="color: #2e2d31">,</span> <span style="color: #9329ab">0</span><span style="color: #2e2d31">,</span> <span style="color: #2e2d31">&#x03BB;</span> <span style="color: black">x</span> <span style="color: #2e2d31">{</span><span style="color: black">x</span><span style="color: #2e2d31">}</span><span style="color: #2e2d31">)</span> <span style="color: #2e2d31">=</span> <span style="color: black">n</span> <span style="color: #2e2d31">*</span> <span style="color: #2e2d31">(</span><span style="color: black">n</span> <span style="color: #2e2d31">-</span> <span style="color: #9329ab">1</span><span style="color: #2e2d31">)</span>
<span style="color: #d85311">proof</span>
    <span style="color: #d85311">induction</span> <a href="Nat.pf.html#Nat211"><span style="color: #0f95af">Nat</span></a>
    <span style="color: #d85311">case</span> <span style="color: black">zero</span> <span style="color: #2e2d31">{</span>
        <span style="color: gray">// TODO: This is lame, use real thms.</span>
        <span style="color: #d85311">definition</span> <span style="color: #2e2d31">{</span><a href="Nat.pf.html#summation223"><span style="color: #086c3c">summation</span></a><span style="color: #2e2d31">,</span> <a href="Nat.pf.html#operator*213"><span style="color: #086c3c">operator*</span></a><span style="color: #2e2d31">,</span> <a href="Nat.pf.html#operator+212"><span style="color: #086c3c">operator+</span></a><span style="color: #2e2d31">,</span><a href="Nat.pf.html#operator*213"><span style="color: #086c3c">operator*</span></a><span style="color: #2e2d31">,</span> <a href="Nat.pf.html#operator*213"><span style="color: #086c3c">operator*</span></a><span style="color: #2e2d31">,</span><a href="Nat.pf.html#operator+212"><span style="color: #086c3c">operator+</span></a><span style="color: #2e2d31">}</span>
    <span style="color: #2e2d31">}</span>
    <span style="color: #d85311">case</span> <span style="color: black">suc</span><span style="color: #2e2d31">(</span><span style="color: black">n'</span><span style="color: #2e2d31">)</span> <span style="color: #d85311">suppose</span> <span style="color: black">IH</span> <span style="color: #2e2d31">{</span>
        <span style="color: #d85311">have</span> <span style="color: black">step1</span><span style="color: #2e2d31">:</span> <span style="color: #2e2d31">(</span><span style="color: #d85311">all</span> <span style="color: black">i</span><span style="color: #2e2d31">:</span><a href="Nat.pf.html#Nat211"><span style="color: #0f95af">Nat</span></a><span style="color: #2e2d31">.</span> <span style="color: #2e2d31">(</span><span style="color: #d85311">if</span> <span style="color: black">i</span> <span style="color: #2e2d31">&lt;</span> <span style="color: #9329ab">1</span> <span style="color: #d85311">then</span> <span style="color: black">n'</span> <span style="color: #2e2d31">+</span> <span style="color: black">i</span> <span style="color: #2e2d31">=</span> <span style="color: #9329ab">0</span> <span style="color: #2e2d31">+</span> <span style="color: #2e2d31">(</span><span style="color: black">n'</span> <span style="color: #2e2d31">+</span> <span style="color: black">i</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">)</span>
            <span style="color: #d85311">by</span> <span style="color: #d85311">arbitrary</span> <span style="color: black">i</span><span style="color: #2e2d31">:</span><a href="Nat.pf.html#Nat211"><span style="color: #0f95af">Nat</span></a>
                <span style="color: #d85311">suppose</span> <span style="color: black">prem</span> <span style="color: #2e2d31">:</span> <span style="color: black">i</span> <span style="color: #2e2d31">&lt;</span> <span style="color: #9329ab">1</span>
                <span style="color: #d85311">symmetric</span> <a href="Nat.pf.html#zero_add231"><span style="color: #086c3c">zero_add</span></a><span style="color: #2e2d31">[</span><span style="color: black">n'</span><span style="color: #2e2d31">+</span><span style="color: black">i</span><span style="color: #2e2d31">]</span>
        <span style="color: #d85311">suffices</span> <span style="color: black">n'</span> <span style="color: #2e2d31">*</span> <span style="color: #2e2d31">(</span><span style="color: black">n'</span> <span style="color: #2e2d31">-</span> <span style="color: #9329ab">1</span><span style="color: #2e2d31">)</span> <span style="color: #2e2d31">+</span> <span style="color: #9329ab">2</span> <span style="color: #2e2d31">*</span> <a href="Nat.pf.html#summation223"><span style="color: #086c3c">summation</span></a><span style="color: #2e2d31">(</span><span style="color: #9329ab">1</span><span style="color: #2e2d31">,</span> <span style="color: black">n'</span><span style="color: #2e2d31">,</span> <span style="color: #2e2d31">&#x03BB;</span><span style="color: black">n</span><span style="color: #2e2d31">{</span><span style="color: black">n</span><span style="color: #2e2d31">}</span><span style="color: #2e2d31">)</span> <span style="color: #2e2d31">=</span> <span style="color: #2e2d31">(</span><span style="color: black">n'</span> <span style="color: #2e2d31">+</span> <span style="color: #9329ab">1</span><span style="color: #2e2d31">)</span> <span style="color: #2e2d31">*</span> <span style="color: #2e2d31">(</span><span style="color: #2e2d31">(</span><span style="color: black">n'</span> <span style="color: #2e2d31">+</span> <span style="color: #9329ab">1</span><span style="color: #2e2d31">)</span> <span style="color: #2e2d31">-</span> <span style="color: #9329ab">1</span><span style="color: #2e2d31">)</span>
            <span style="color: #d85311">by</span> <span style="color: #d85311">rewrite</span> <span style="color: #d85311">symmetric</span> <a href="Nat.pf.html#one_add239"><span style="color: #086c3c">one_add</span></a><span style="color: #2e2d31">[</span><span style="color: black">n'</span><span style="color: #2e2d31">]</span> <span style="color: #2e2d31">|</span> <a href="Nat.pf.html#add_commute238"><span style="color: #086c3c">add_commute</span></a><span style="color: #2e2d31">[</span><span style="color: #9329ab">1</span><span style="color: #2e2d31">]</span><span style="color: #2e2d31">[</span><span style="color: black">n'</span><span style="color: #2e2d31">]</span>
            <span style="color: #2e2d31">|</span> <span style="color: #d85311">apply</span> <a href="Nat.pf.html#summation_add331"><span style="color: #086c3c">summation_add</span></a><span style="color: #2e2d31">[</span><span style="color: black">n'</span><span style="color: #2e2d31">]</span><span style="color: #2e2d31">[</span><span style="color: #9329ab">1</span><span style="color: #2e2d31">,</span> <span style="color: #9329ab">0</span><span style="color: #2e2d31">,</span> <span style="color: black">n'</span><span style="color: #2e2d31">,</span> <span style="color: #2e2d31">&#x03BB;</span><span style="color: black">n</span><span style="color: #2e2d31">{</span><span style="color: black">n</span><span style="color: #2e2d31">}</span><span style="color: #2e2d31">,</span> <span style="color: #2e2d31">&#x03BB;</span><span style="color: black">n</span><span style="color: #2e2d31">{</span><span style="color: black">n</span><span style="color: #2e2d31">}</span><span style="color: #2e2d31">,</span> <span style="color: #2e2d31">&#x03BB;</span><span style="color: black">n</span><span style="color: #2e2d31">{</span><span style="color: black">n</span><span style="color: #2e2d31">}</span><span style="color: #2e2d31">]</span> <span style="color: #d85311">to</span> <span style="color: black">step1</span>
            <span style="color: #2e2d31">|</span> <a href="Nat.pf.html#dist_mult_add260"><span style="color: #086c3c">dist_mult_add</span></a><span style="color: #2e2d31">[</span><span style="color: #9329ab">2</span><span style="color: #2e2d31">]</span><span style="color: #2e2d31">[</span><a href="Nat.pf.html#summation223"><span style="color: #086c3c">summation</span></a><span style="color: #2e2d31">(</span><span style="color: black">n'</span><span style="color: #2e2d31">,</span> <span style="color: #9329ab">0</span><span style="color: #2e2d31">,</span> <span style="color: #2e2d31">&#x03BB;</span><span style="color: black">n</span><span style="color: #2e2d31">{</span><span style="color: black">n</span><span style="color: #2e2d31">}</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">,</span> <a href="Nat.pf.html#summation223"><span style="color: #086c3c">summation</span></a><span style="color: #2e2d31">(</span><span style="color: #9329ab">1</span><span style="color: #2e2d31">,</span> <span style="color: black">n'</span><span style="color: #2e2d31">,</span> <span style="color: #2e2d31">&#x03BB;</span><span style="color: black">n</span><span style="color: #2e2d31">{</span><span style="color: black">n</span><span style="color: #2e2d31">}</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">]</span>
            <span style="color: #2e2d31">|</span> <span style="color: black">IH</span>
        <span style="color: #d85311">suffices</span> <span style="color: black">n'</span> <span style="color: #2e2d31">*</span> <span style="color: #2e2d31">(</span><span style="color: black">n'</span> <span style="color: #2e2d31">-</span> <span style="color: #9329ab">1</span><span style="color: #2e2d31">)</span> <span style="color: #2e2d31">+</span> <span style="color: #9329ab">2</span> <span style="color: #2e2d31">*</span> <span style="color: #2e2d31">(</span><span style="color: black">n'</span> <span style="color: #2e2d31">+</span> <span style="color: #9329ab">0</span><span style="color: #2e2d31">)</span> <span style="color: #2e2d31">=</span> <span style="color: #2e2d31">(</span><span style="color: black">n'</span> <span style="color: #2e2d31">+</span> <span style="color: #9329ab">1</span><span style="color: #2e2d31">)</span> <span style="color: #2e2d31">*</span> <span style="color: #2e2d31">(</span><span style="color: #2e2d31">(</span><span style="color: black">n'</span> <span style="color: #2e2d31">+</span> <span style="color: #9329ab">1</span><span style="color: #2e2d31">)</span> <span style="color: #2e2d31">-</span> <span style="color: #9329ab">1</span><span style="color: #2e2d31">)</span>
            <span style="color: #d85311">by</span> <span style="color: #d85311">definition</span> <span style="color: #2e2d31">{</span><a href="Nat.pf.html#summation223"><span style="color: #086c3c">summation</span></a><span style="color: #2e2d31">,</span> <a href="Nat.pf.html#summation223"><span style="color: #086c3c">summation</span></a><span style="color: #2e2d31">}</span>
        <span style="color: #d85311">suffices</span> <span style="color: black">n'</span> <span style="color: #2e2d31">*</span> <span style="color: #2e2d31">(</span><span style="color: black">n'</span> <span style="color: #2e2d31">-</span> <span style="color: #9329ab">1</span><span style="color: #2e2d31">)</span> <span style="color: #2e2d31">+</span> <span style="color: #9329ab">2</span> <span style="color: #2e2d31">*</span> <span style="color: black">n'</span> <span style="color: #2e2d31">=</span> <span style="color: black">suc</span><span style="color: #2e2d31">(</span><span style="color: black">n'</span><span style="color: #2e2d31">)</span> <span style="color: #2e2d31">*</span> <span style="color: #2e2d31">(</span><span style="color: black">suc</span><span style="color: #2e2d31">(</span><span style="color: black">n'</span><span style="color: #2e2d31">)</span> <span style="color: #2e2d31">-</span> <span style="color: #9329ab">1</span><span style="color: #2e2d31">)</span>
              <span style="color: #d85311">by</span> <span style="color: #d85311">rewrite</span> <a href="Nat.pf.html#add_one240"><span style="color: #086c3c">add_one</span></a><span style="color: #2e2d31">[</span><span style="color: black">n'</span><span style="color: #2e2d31">]</span> <span style="color: #2e2d31">|</span> <a href="Nat.pf.html#add_zero232"><span style="color: #086c3c">add_zero</span></a><span style="color: #2e2d31">[</span><span style="color: black">n'</span><span style="color: #2e2d31">]</span>
        <span style="color: #d85311">suffices</span> <span style="color: #2e2d31">(</span><span style="color: black">n'</span> <span style="color: #2e2d31">*</span> <span style="color: black">n'</span> <span style="color: #2e2d31">-</span> <span style="color: black">n'</span><span style="color: #2e2d31">)</span> <span style="color: #2e2d31">+</span> <span style="color: #2e2d31">(</span><span style="color: black">n'</span> <span style="color: #2e2d31">+</span> <span style="color: black">n'</span><span style="color: #2e2d31">)</span> <span style="color: #2e2d31">=</span> <span style="color: black">suc</span><span style="color: #2e2d31">(</span><span style="color: black">n'</span><span style="color: #2e2d31">)</span> <span style="color: #2e2d31">*</span> <span style="color: black">n'</span>
              <span style="color: #d85311">by</span> <span style="color: #d85311">definition</span> <span style="color: #2e2d31">{</span><a href="Nat.pf.html#operator-216"><span style="color: #086c3c">operator-</span></a><span style="color: #2e2d31">}</span>
              <span style="color: #d85311">and</span> <span style="color: #d85311">rewrite</span> <a href="Nat.pf.html#sub_zero246"><span style="color: #086c3c">sub_zero</span></a><span style="color: #2e2d31">[</span><span style="color: black">n'</span><span style="color: #2e2d31">]</span> <span style="color: #2e2d31">|</span> <a href="sums.pf.html#blah2"><span style="color: #086c3c">blah</span></a><span style="color: #2e2d31">[</span><span style="color: black">n'</span><span style="color: #2e2d31">]</span> <span style="color: #2e2d31">|</span> <a href="Nat.pf.html#two_mult259"><span style="color: #086c3c">two_mult</span></a><span style="color: #2e2d31">[</span><span style="color: black">n'</span><span style="color: #2e2d31">]</span>
        <span style="color: #d85311">suffices</span> <span style="color: #2e2d31">(</span><span style="color: #2e2d31">(</span><span style="color: black">n'</span> <span style="color: #2e2d31">*</span> <span style="color: black">n'</span> <span style="color: #2e2d31">-</span> <span style="color: black">n'</span><span style="color: #2e2d31">)</span> <span style="color: #2e2d31">+</span> <span style="color: black">n'</span><span style="color: #2e2d31">)</span> <span style="color: #2e2d31">+</span> <span style="color: black">n'</span> <span style="color: #2e2d31">=</span> <span style="color: black">n'</span> <span style="color: #2e2d31">+</span> <span style="color: black">n'</span> <span style="color: #2e2d31">*</span> <span style="color: black">n'</span> <span style="color: #d85311">by</span> <span style="color: #d85311">definition</span> <a href="Nat.pf.html#operator*213"><span style="color: #086c3c">operator*</span></a>
        <span style="color: #d85311">suffices</span> <span style="color: black">n'</span> <span style="color: #2e2d31">*</span> <span style="color: black">n'</span> <span style="color: #2e2d31">+</span> <span style="color: black">n'</span> <span style="color: #2e2d31">=</span> <span style="color: black">n'</span> <span style="color: #2e2d31">+</span> <span style="color: black">n'</span> <span style="color: #2e2d31">*</span> <span style="color: black">n'</span> <span style="color: #d85311">by</span> 
            <span style="color: #d85311">rewrite</span> <a href="Nat.pf.html#add_commute238"><span style="color: #086c3c">add_commute</span></a><span style="color: #2e2d31">[</span><span style="color: #2e2d31">(</span><span style="color: black">n'</span> <span style="color: #2e2d31">*</span> <span style="color: black">n'</span> <span style="color: #2e2d31">-</span> <span style="color: black">n'</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">]</span><span style="color: #2e2d31">[</span><span style="color: black">n'</span><span style="color: #2e2d31">]</span>
            <span style="color: #2e2d31">|</span> <span style="color: #d85311">apply</span> <a href="Nat.pf.html#sub_add_identity302"><span style="color: #086c3c">sub_add_identity</span></a><span style="color: #2e2d31">[</span><span style="color: black">n'</span><span style="color: #2e2d31">*</span><span style="color: black">n'</span><span style="color: #2e2d31">]</span><span style="color: #2e2d31">[</span><span style="color: black">n'</span><span style="color: #2e2d31">]</span> <span style="color: #d85311">to</span> <a href="sums.pf.html#n_le_nn1"><span style="color: #086c3c">n_le_nn</span></a><span style="color: #2e2d31">[</span><span style="color: black">n'</span><span style="color: #2e2d31">]</span>
        <a href="Nat.pf.html#add_commute238"><span style="color: #086c3c">add_commute</span></a><span style="color: #2e2d31">[</span><span style="color: black">n'</span> <span style="color: #2e2d31">*</span> <span style="color: black">n'</span><span style="color: #2e2d31">]</span><span style="color: #2e2d31">[</span><span style="color: black">n'</span><span style="color: #2e2d31">]</span>
    <span style="color: #2e2d31">}</span>
<span style="color: #d85311">end</span>

<span style="color: #d85311">theorem</span> <a href="sums.pf.html#sum_n'4"><span id="sum_n'4" style="color: #086c3c">sum_n'</span></a> <span style="color: #2e2d31">:</span> <span style="color: #d85311">all</span> <span style="color: black">n</span> <span style="color: #2e2d31">:</span> <a href="Nat.pf.html#Nat211"><span style="color: #0f95af">Nat</span></a><span style="color: #2e2d31">.</span> 
    <span style="color: #9329ab">2</span> <span style="color: #2e2d31">*</span> <a href="Nat.pf.html#summation223"><span style="color: #086c3c">summation</span></a><span style="color: #2e2d31">(</span><span style="color: black">suc</span><span style="color: #2e2d31">(</span><span style="color: black">n</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">,</span> <span style="color: #9329ab">0</span><span style="color: #2e2d31">,</span> <span style="color: #2e2d31">&#x03BB;</span> <span style="color: black">x</span> <span style="color: #2e2d31">{</span><span style="color: black">x</span><span style="color: #2e2d31">}</span><span style="color: #2e2d31">)</span> <span style="color: #2e2d31">=</span> <span style="color: black">n</span> <span style="color: #2e2d31">*</span> <span style="color: #2e2d31">(</span><span style="color: black">n</span> <span style="color: #2e2d31">+</span> <span style="color: #9329ab">1</span><span style="color: #2e2d31">)</span>
<span style="color: #d85311">proof</span>
    <span style="color: #d85311">induction</span> <a href="Nat.pf.html#Nat211"><span style="color: #0f95af">Nat</span></a>
    <span style="color: #d85311">case</span> <span style="color: black">zero</span> <span style="color: #2e2d31">{</span>
        <span style="color: #d85311">definition</span> <span style="color: #2e2d31">{</span><a href="Nat.pf.html#summation223"><span style="color: #086c3c">summation</span></a><span style="color: #2e2d31">,</span> <a href="Nat.pf.html#summation223"><span style="color: #086c3c">summation</span></a><span style="color: #2e2d31">,</span> <a href="Nat.pf.html#operator+212"><span style="color: #086c3c">operator+</span></a><span style="color: #2e2d31">}</span>
        <span style="color: #d85311">and</span> <span style="color: #d85311">rewrite</span> <a href="Nat.pf.html#mult_zero253"><span style="color: #086c3c">mult_zero</span></a><span style="color: #2e2d31">[</span><span style="color: #9329ab">2</span><span style="color: #2e2d31">]</span> <span style="color: #2e2d31">|</span> <a href="Nat.pf.html#zero_mult252"><span style="color: #086c3c">zero_mult</span></a><span style="color: #2e2d31">[</span><span style="color: #9329ab">1</span><span style="color: #2e2d31">]</span>
    <span style="color: #2e2d31">}</span>
    <span style="color: #d85311">case</span> <span style="color: black">suc</span><span style="color: #2e2d31">(</span><span style="color: black">n'</span><span style="color: #2e2d31">)</span> <span style="color: #d85311">suppose</span> <span style="color: black">IH</span> <span style="color: #2e2d31">{</span>
        <span style="color: #d85311">have</span> <span style="color: black">step1</span><span style="color: #2e2d31">:</span> <span style="color: #2e2d31">(</span><span style="color: #d85311">all</span> <span style="color: black">i</span><span style="color: #2e2d31">:</span><a href="Nat.pf.html#Nat211"><span style="color: #0f95af">Nat</span></a><span style="color: #2e2d31">.</span> <span style="color: #2e2d31">(</span><span style="color: #d85311">if</span> <span style="color: black">i</span> <span style="color: #2e2d31">&lt;</span> <span style="color: #9329ab">1</span> <span style="color: #d85311">then</span> <span style="color: black">suc</span><span style="color: #2e2d31">(</span><span style="color: black">n'</span><span style="color: #2e2d31">)</span> <span style="color: #2e2d31">+</span> <span style="color: black">i</span> <span style="color: #2e2d31">=</span> <span style="color: #9329ab">0</span> <span style="color: #2e2d31">+</span> <span style="color: #2e2d31">(</span><span style="color: black">suc</span><span style="color: #2e2d31">(</span><span style="color: black">n'</span><span style="color: #2e2d31">)</span> <span style="color: #2e2d31">+</span> <span style="color: black">i</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">)</span>
            <span style="color: #d85311">by</span> <span style="color: #d85311">arbitrary</span> <span style="color: black">i</span><span style="color: #2e2d31">:</span><a href="Nat.pf.html#Nat211"><span style="color: #0f95af">Nat</span></a>
                <span style="color: #d85311">suppose</span> <span style="color: black">prem</span> <span style="color: #2e2d31">:</span> <span style="color: black">i</span> <span style="color: #2e2d31">&lt;</span> <span style="color: #9329ab">1</span>
                <span style="color: #d85311">symmetric</span> <a href="Nat.pf.html#zero_add231"><span style="color: #086c3c">zero_add</span></a><span style="color: #2e2d31">[</span><span style="color: black">suc</span><span style="color: #2e2d31">(</span><span style="color: black">n'</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">+</span><span style="color: black">i</span><span style="color: #2e2d31">]</span>
        <span style="color: #d85311">suffices</span> <span style="color: black">n'</span> <span style="color: #2e2d31">*</span> <span style="color: #2e2d31">(</span><span style="color: black">n'</span> <span style="color: #2e2d31">+</span> <span style="color: #9329ab">1</span><span style="color: #2e2d31">)</span> <span style="color: #2e2d31">+</span> <span style="color: #9329ab">2</span> <span style="color: #2e2d31">*</span> <a href="Nat.pf.html#summation223"><span style="color: #086c3c">summation</span></a><span style="color: #2e2d31">(</span><span style="color: #9329ab">1</span><span style="color: #2e2d31">,</span> <span style="color: black">suc</span><span style="color: #2e2d31">(</span><span style="color: black">n'</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">,</span> <span style="color: #2e2d31">&#x03BB;</span><span style="color: black">n</span><span style="color: #2e2d31">{</span><span style="color: black">n</span><span style="color: #2e2d31">}</span><span style="color: #2e2d31">)</span> <span style="color: #2e2d31">=</span> <span style="color: black">suc</span><span style="color: #2e2d31">(</span><span style="color: black">n'</span><span style="color: #2e2d31">)</span> <span style="color: #2e2d31">*</span> <span style="color: #2e2d31">(</span><span style="color: black">suc</span><span style="color: #2e2d31">(</span><span style="color: black">n'</span><span style="color: #2e2d31">)</span> <span style="color: #2e2d31">+</span> <span style="color: #9329ab">1</span><span style="color: #2e2d31">)</span>
            <span style="color: #d85311">by</span> <span style="color: #d85311">rewrite</span> <span style="color: #d85311">symmetric</span> <a href="Nat.pf.html#one_add239"><span style="color: #086c3c">one_add</span></a><span style="color: #2e2d31">[</span><span style="color: black">n'</span><span style="color: #2e2d31">]</span> <span style="color: #2e2d31">|</span> <a href="Nat.pf.html#add_commute238"><span style="color: #086c3c">add_commute</span></a><span style="color: #2e2d31">[</span><span style="color: #9329ab">1</span><span style="color: #2e2d31">]</span><span style="color: #2e2d31">[</span><span style="color: black">n'</span><span style="color: #2e2d31">]</span>
               <span style="color: #2e2d31">|</span> <span style="color: #d85311">symmetric</span> <a href="Nat.pf.html#add_one240"><span style="color: #086c3c">add_one</span></a><span style="color: #2e2d31">[</span><span style="color: black">n'</span> <span style="color: #2e2d31">+</span> <span style="color: #9329ab">1</span><span style="color: #2e2d31">]</span> <span style="color: #2e2d31">|</span> <a href="Nat.pf.html#add_one240"><span style="color: #086c3c">add_one</span></a><span style="color: #2e2d31">[</span><span style="color: black">n'</span><span style="color: #2e2d31">]</span>
               <span style="color: #2e2d31">|</span>  <span style="color: #d85311">apply</span> <a href="Nat.pf.html#summation_add331"><span style="color: #086c3c">summation_add</span></a><span style="color: #2e2d31">[</span><span style="color: black">suc</span><span style="color: #2e2d31">(</span><span style="color: black">n'</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">]</span><span style="color: #2e2d31">[</span><span style="color: #9329ab">1</span><span style="color: #2e2d31">,</span> <span style="color: #9329ab">0</span><span style="color: #2e2d31">,</span> <span style="color: black">suc</span><span style="color: #2e2d31">(</span><span style="color: black">n'</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">,</span> <span style="color: #2e2d31">&#x03BB;</span><span style="color: black">n</span><span style="color: #2e2d31">{</span><span style="color: black">n</span><span style="color: #2e2d31">}</span><span style="color: #2e2d31">,</span> <span style="color: #2e2d31">&#x03BB;</span><span style="color: black">n</span><span style="color: #2e2d31">{</span><span style="color: black">n</span><span style="color: #2e2d31">}</span><span style="color: #2e2d31">,</span> <span style="color: #2e2d31">&#x03BB;</span><span style="color: black">n</span><span style="color: #2e2d31">{</span><span style="color: black">n</span><span style="color: #2e2d31">}</span><span style="color: #2e2d31">]</span> <span style="color: #d85311">to</span> <span style="color: black">step1</span>
               <span style="color: #2e2d31">|</span> <a href="Nat.pf.html#dist_mult_add260"><span style="color: #086c3c">dist_mult_add</span></a><span style="color: #2e2d31">[</span><span style="color: #9329ab">2</span><span style="color: #2e2d31">]</span><span style="color: #2e2d31">[</span><a href="Nat.pf.html#summation223"><span style="color: #086c3c">summation</span></a><span style="color: #2e2d31">(</span><span style="color: black">suc</span><span style="color: #2e2d31">(</span><span style="color: black">n'</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">,</span> <span style="color: #9329ab">0</span><span style="color: #2e2d31">,</span> <span style="color: #2e2d31">&#x03BB;</span><span style="color: black">n</span><span style="color: #2e2d31">{</span><span style="color: black">n</span><span style="color: #2e2d31">}</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">,</span> <a href="Nat.pf.html#summation223"><span style="color: #086c3c">summation</span></a><span style="color: #2e2d31">(</span><span style="color: #9329ab">1</span><span style="color: #2e2d31">,</span> <span style="color: black">suc</span><span style="color: #2e2d31">(</span><span style="color: black">n'</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">,</span> <span style="color: #2e2d31">&#x03BB;</span><span style="color: black">n</span><span style="color: #2e2d31">{</span><span style="color: black">n</span><span style="color: #2e2d31">}</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">]</span>
               <span style="color: #2e2d31">|</span> <span style="color: black">IH</span>
        <span style="color: #d85311">suffices</span> <span style="color: black">n'</span> <span style="color: #2e2d31">*</span> <span style="color: #2e2d31">(</span><span style="color: black">n'</span> <span style="color: #2e2d31">+</span> <span style="color: #9329ab">1</span><span style="color: #2e2d31">)</span> <span style="color: #2e2d31">+</span> <span style="color: #2e2d31">(</span><span style="color: #2e2d31">(</span><span style="color: black">n'</span> <span style="color: #2e2d31">+</span> <span style="color: #9329ab">1</span><span style="color: #2e2d31">)</span> <span style="color: #2e2d31">+</span> <span style="color: #2e2d31">(</span><span style="color: black">n'</span> <span style="color: #2e2d31">+</span> <span style="color: #9329ab">1</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">)</span> <span style="color: #2e2d31">=</span> <span style="color: #2e2d31">(</span><span style="color: black">n'</span> <span style="color: #2e2d31">+</span> <span style="color: #9329ab">1</span><span style="color: #2e2d31">)</span> <span style="color: #2e2d31">*</span> <span style="color: #2e2d31">(</span><span style="color: #2e2d31">(</span><span style="color: black">n'</span> <span style="color: #2e2d31">+</span> <span style="color: #9329ab">1</span><span style="color: #2e2d31">)</span> <span style="color: #2e2d31">+</span> <span style="color: #9329ab">1</span><span style="color: #2e2d31">)</span>
            <span style="color: #d85311">by</span> <span style="color: #d85311">definition</span> <span style="color: #2e2d31">{</span><a href="Nat.pf.html#summation223"><span style="color: #086c3c">summation</span></a><span style="color: #2e2d31">,</span> <a href="Nat.pf.html#summation223"><span style="color: #086c3c">summation</span></a> <span style="color: #2e2d31">}</span>
            <span style="color: #d85311">and</span> <span style="color: #d85311">rewrite</span> <a href="Nat.pf.html#add_zero232"><span style="color: #086c3c">add_zero</span></a><span style="color: #2e2d31">[</span><span style="color: black">suc</span><span style="color: #2e2d31">(</span><span style="color: black">n'</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">]</span> <span style="color: #2e2d31">|</span> <a href="Nat.pf.html#two_mult259"><span style="color: #086c3c">two_mult</span></a><span style="color: #2e2d31">[</span><span style="color: black">suc</span><span style="color: #2e2d31">(</span><span style="color: black">n'</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">]</span> <span style="color: #2e2d31">|</span> <span style="color: #d85311">symmetric</span> <a href="Nat.pf.html#add_one240"><span style="color: #086c3c">add_one</span></a><span style="color: #2e2d31">[</span><span style="color: black">n'</span><span style="color: #2e2d31">]</span>
        <span style="color: #d85311">suffices</span> <span style="color: #2e2d31">(</span><span style="color: black">n'</span> <span style="color: #2e2d31">*</span> <span style="color: black">n'</span> <span style="color: #2e2d31">+</span> <span style="color: black">n'</span><span style="color: #2e2d31">)</span> <span style="color: #2e2d31">+</span> <span style="color: #2e2d31">(</span><span style="color: #2e2d31">(</span><span style="color: black">n'</span> <span style="color: #2e2d31">+</span> <span style="color: #9329ab">1</span><span style="color: #2e2d31">)</span> <span style="color: #2e2d31">+</span> <span style="color: #2e2d31">(</span><span style="color: black">n'</span> <span style="color: #2e2d31">+</span> <span style="color: #9329ab">1</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">)</span> <span style="color: #2e2d31">=</span> <span style="color: #2e2d31">(</span><span style="color: #2e2d31">(</span><span style="color: black">n'</span> <span style="color: #2e2d31">*</span> <span style="color: black">n'</span> <span style="color: #2e2d31">+</span> <span style="color: black">n'</span><span style="color: #2e2d31">)</span> <span style="color: #2e2d31">+</span> <span style="color: #2e2d31">(</span><span style="color: black">n'</span> <span style="color: #2e2d31">+</span> <span style="color: #9329ab">1</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">)</span> <span style="color: #2e2d31">+</span> <span style="color: #2e2d31">(</span><span style="color: black">n'</span> <span style="color: #2e2d31">+</span> <span style="color: #9329ab">1</span><span style="color: #2e2d31">)</span> <span style="color: #d85311">by</span> 
         <span style="color: #d85311">rewrite</span> <a href="Nat.pf.html#dist_mult_add260"><span style="color: #086c3c">dist_mult_add</span></a><span style="color: #2e2d31">[</span><span style="color: black">n'</span> <span style="color: #2e2d31">+</span> <span style="color: #9329ab">1</span><span style="color: #2e2d31">]</span><span style="color: #2e2d31">[</span><span style="color: black">n'</span> <span style="color: #2e2d31">+</span> <span style="color: #9329ab">1</span><span style="color: #2e2d31">,</span> <span style="color: #9329ab">1</span><span style="color: #2e2d31">]</span>  
               <span style="color: #2e2d31">|</span> <a href="Nat.pf.html#dist_mult_add260"><span style="color: #086c3c">dist_mult_add</span></a><span style="color: #2e2d31">[</span><span style="color: black">n'</span><span style="color: #2e2d31">]</span><span style="color: #2e2d31">[</span><span style="color: black">n'</span><span style="color: #2e2d31">,</span> <span style="color: #9329ab">1</span><span style="color: #2e2d31">]</span>
               <span style="color: #2e2d31">|</span> <a href="Nat.pf.html#dist_mult_add260"><span style="color: #086c3c">dist_mult_add</span></a><span style="color: #2e2d31">[</span><span style="color: black">n'</span> <span style="color: #2e2d31">+</span> <span style="color: #9329ab">1</span><span style="color: #2e2d31">]</span><span style="color: #2e2d31">[</span><span style="color: black">n'</span><span style="color: #2e2d31">,</span> <span style="color: #9329ab">1</span><span style="color: #2e2d31">]</span>
               <span style="color: #2e2d31">|</span> <a href="Nat.pf.html#dist_mult_add_right261"><span style="color: #086c3c">dist_mult_add_right</span></a><span style="color: #2e2d31">[</span><span style="color: black">n'</span><span style="color: #2e2d31">,</span> <span style="color: #9329ab">1</span><span style="color: #2e2d31">,</span> <span style="color: black">n'</span><span style="color: #2e2d31">]</span>
               <span style="color: #2e2d31">|</span> <a href="Nat.pf.html#mult_one258"><span style="color: #086c3c">mult_one</span></a><span style="color: #2e2d31">[</span><span style="color: black">n'</span><span style="color: #2e2d31">+</span><span style="color: #9329ab">1</span><span style="color: #2e2d31">]</span>
               <span style="color: #2e2d31">|</span> <a href="Nat.pf.html#mult_one258"><span style="color: #086c3c">mult_one</span></a><span style="color: #2e2d31">[</span><span style="color: black">n'</span><span style="color: #2e2d31">]</span> <span style="color: #2e2d31">|</span> <a href="Nat.pf.html#one_mult257"><span style="color: #086c3c">one_mult</span></a><span style="color: #2e2d31">[</span><span style="color: black">n'</span><span style="color: #2e2d31">]</span>
        <span style="color: #2e2d31">.</span>
    <span style="color: #2e2d31">}</span>
<span style="color: #d85311">end</span>

    </code></pre>
</body>
</html>