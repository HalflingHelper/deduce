
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>

    <link rel="stylesheet" href="stdlib.css">
</head>
<body>
    <pre><code><span style="color: #d85311">import</span> <a href="Base.pf.html"><span style="color: #0f95af">Base</span></a>
<span style="color: #d85311">import</span> <a href="Nat.pf.html"><span style="color: #0f95af">Nat</span></a>
<span style="color: #d85311">import</span> <a href="Option.pf.html"><span style="color: #0f95af">Option</span></a>
<span style="color: #d85311">import</span> <a href="Set.pf.html"><span style="color: #0f95af">Set</span></a>
<span style="color: #d85311">import</span> <a href="MultiSet.pf.html"><span style="color: #0f95af">MultiSet</span></a>
<span style="color: #d85311">import</span> <a href="Pair.pf.html"><span style="color: #0f95af">Pair</span></a>
<span style="color: #d85311">import</span> <a href="Maps.pf.html"><span style="color: #0f95af">Maps</span></a>

<span style="color: #d85311">union</span> <a href="List.pf.html#List36"><span id="List36" style="color: #0f95af">List</span></a><span style="color: #2e2d31">&lt;</span><span style="color: black">T</span><span style="color: #2e2d31">&gt;</span> <span style="color: #2e2d31">{</span>
  <span style="color: black">empty</span>
  <span style="color: black">node</span><span style="color: #2e2d31">(</span><span style="color: black">T</span><span style="color: #2e2d31">,</span> <a href="List.pf.html#List36"><span style="color: #0f95af">List</span></a><span style="color: #2e2d31">&lt;</span><span style="color: black">T</span><span style="color: #2e2d31">&gt;</span><span style="color: #2e2d31">)</span>
<span style="color: #2e2d31">}</span>

<span style="color: #d85311">function</span> <a href="List.pf.html#length37"><span id="length37" style="color: #086c3c">length</span></a><span style="color: #2e2d31">&lt;</span><span style="color: black">E</span><span style="color: #2e2d31">&gt;</span><span style="color: #2e2d31">(</span><a href="List.pf.html#List36"><span style="color: #0f95af">List</span></a><span style="color: #2e2d31">&lt;</span><span style="color: black">E</span><span style="color: #2e2d31">&gt;</span><span style="color: #2e2d31">)</span> <span style="color: #2e2d31">-&gt;</span> <a href="Nat.pf.html#Nat211"><span style="color: #0f95af">Nat</span></a> <span style="color: #2e2d31">{</span>
  <a href="List.pf.html#length37"><span style="color: #086c3c">length</span></a><span style="color: #2e2d31">(</span><span style="color: black">empty</span><span style="color: #2e2d31">)</span> <span style="color: #2e2d31">=</span> <span style="color: #9329ab">0</span>
  <a href="List.pf.html#length37"><span style="color: #086c3c">length</span></a><span style="color: #2e2d31">(</span><span style="color: black">node</span><span style="color: #2e2d31">(</span><span style="color: black">n</span><span style="color: #2e2d31">,</span> <span style="color: black">next</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">)</span> <span style="color: #2e2d31">=</span> <span style="color: #9329ab">1</span> <span style="color: #2e2d31">+</span> <a href="List.pf.html#length37"><span style="color: #086c3c">length</span></a><span style="color: #2e2d31">(</span><span style="color: black">next</span><span style="color: #2e2d31">)</span>
<span style="color: #2e2d31">}</span>

<span style="color: #d85311">function</span> <a href="List.pf.html#operator++38"><span id="operator++38" style="color: #086c3c">operator ++</span></a> <span style="color: #2e2d31">&lt;</span><span style="color: black">E</span><span style="color: #2e2d31">&gt;</span><span style="color: #2e2d31">(</span><a href="List.pf.html#List36"><span style="color: #0f95af">List</span></a><span style="color: #2e2d31">&lt;</span><span style="color: black">E</span><span style="color: #2e2d31">&gt;</span><span style="color: #2e2d31">,</span> <a href="List.pf.html#List36"><span style="color: #0f95af">List</span></a><span style="color: #2e2d31">&lt;</span><span style="color: black">E</span><span style="color: #2e2d31">&gt;</span><span style="color: #2e2d31">)</span> <span style="color: #2e2d31">-&gt;</span> <a href="List.pf.html#List36"><span style="color: #0f95af">List</span></a><span style="color: #2e2d31">&lt;</span><span style="color: black">E</span><span style="color: #2e2d31">&gt;</span> <span style="color: #2e2d31">{</span>
  <a href="List.pf.html#operator++38"><span style="color: #086c3c">operator ++</span></a><span style="color: #2e2d31">(</span><span style="color: #2e2d31">[</span><span style="color: #2e2d31">]</span><span style="color: #2e2d31">,</span> <span style="color: black">ys</span><span style="color: #2e2d31">)</span> <span style="color: #2e2d31">=</span> <span style="color: black">ys</span>
  <a href="List.pf.html#operator++38"><span style="color: #086c3c">operator ++</span></a><span style="color: #2e2d31">(</span><span style="color: black">node</span><span style="color: #2e2d31">(</span><span style="color: black">n</span><span style="color: #2e2d31">,</span> <span style="color: black">xs</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">,</span> <span style="color: black">ys</span><span style="color: #2e2d31">)</span> <span style="color: #2e2d31">=</span> <span style="color: black">node</span><span style="color: #2e2d31">(</span><span style="color: black">n</span><span style="color: #2e2d31">,</span> <span style="color: black">xs</span> <span style="color: #2e2d31">++</span> <span style="color: black">ys</span><span style="color: #2e2d31">)</span>
<span style="color: #2e2d31">}</span>

<span style="color: #d85311">function</span> <a href="List.pf.html#reverse39"><span id="reverse39" style="color: #086c3c">reverse</span></a><span style="color: #2e2d31">&lt;</span><span style="color: black">E</span><span style="color: #2e2d31">&gt;</span><span style="color: #2e2d31">(</span><a href="List.pf.html#List36"><span style="color: #0f95af">List</span></a><span style="color: #2e2d31">&lt;</span><span style="color: black">E</span><span style="color: #2e2d31">&gt;</span><span style="color: #2e2d31">)</span> <span style="color: #2e2d31">-&gt;</span> <a href="List.pf.html#List36"><span style="color: #0f95af">List</span></a><span style="color: #2e2d31">&lt;</span><span style="color: black">E</span><span style="color: #2e2d31">&gt;</span> <span style="color: #2e2d31">{</span>
  <a href="List.pf.html#reverse39"><span style="color: #086c3c">reverse</span></a><span style="color: #2e2d31">(</span><span style="color: #2e2d31">[</span><span style="color: #2e2d31">]</span><span style="color: #2e2d31">)</span> <span style="color: #2e2d31">=</span> <span style="color: #2e2d31">[</span><span style="color: #2e2d31">]</span>
  <a href="List.pf.html#reverse39"><span style="color: #086c3c">reverse</span></a><span style="color: #2e2d31">(</span><span style="color: black">node</span><span style="color: #2e2d31">(</span><span style="color: black">n</span><span style="color: #2e2d31">,</span> <span style="color: black">next</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">)</span> <span style="color: #2e2d31">=</span> <a href="List.pf.html#reverse39"><span style="color: #086c3c">reverse</span></a><span style="color: #2e2d31">(</span><span style="color: black">next</span><span style="color: #2e2d31">)</span> <span style="color: #2e2d31">++</span> <span style="color: #2e2d31">[</span><span style="color: black">n</span><span style="color: #2e2d31">]</span>
<span style="color: #2e2d31">}</span>

<span style="color: #d85311">function</span> <a href="List.pf.html#set_of40"><span id="set_of40" style="color: #086c3c">set_of</span></a><span style="color: #2e2d31">&lt;</span><span style="color: black">T</span><span style="color: #2e2d31">&gt;</span><span style="color: #2e2d31">(</span><a href="List.pf.html#List36"><span style="color: #0f95af">List</span></a><span style="color: #2e2d31">&lt;</span><span style="color: black">T</span><span style="color: #2e2d31">&gt;</span><span style="color: #2e2d31">)</span> <span style="color: #2e2d31">-&gt;</span> <a href="Set.pf.html#Set164"><span style="color: #0f95af">Set</span></a><span style="color: #2e2d31">&lt;</span><span style="color: black">T</span><span style="color: #2e2d31">&gt;</span> <span style="color: #2e2d31">{</span>
  <a href="List.pf.html#set_of40"><span style="color: #086c3c">set_of</span></a><span style="color: #2e2d31">(</span><span style="color: black">empty</span><span style="color: #2e2d31">)</span> <span style="color: #2e2d31">=</span> <span style="color: #9329ab">&#x2205;</span>
  <a href="List.pf.html#set_of40"><span style="color: #086c3c">set_of</span></a><span style="color: #2e2d31">(</span><span style="color: black">node</span><span style="color: #2e2d31">(</span><span style="color: black">x</span><span style="color: #2e2d31">,</span> <span style="color: black">xs</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">)</span> <span style="color: #2e2d31">=</span> <a href="Set.pf.html#single166"><span style="color: #086c3c">single</span></a><span style="color: #2e2d31">(</span><span style="color: black">x</span><span style="color: #2e2d31">)</span> <span style="color: #2e2d31">&#x222A;</span> <a href="List.pf.html#set_of40"><span style="color: #086c3c">set_of</span></a><span style="color: #2e2d31">(</span><span style="color: black">xs</span><span style="color: #2e2d31">)</span>
<span style="color: #2e2d31">}</span>

<span style="color: #d85311">function</span> <a href="List.pf.html#mset_of41"><span id="mset_of41" style="color: #086c3c">mset_of</span></a><span style="color: #2e2d31">&lt;</span><span style="color: black">T</span><span style="color: #2e2d31">&gt;</span><span style="color: #2e2d31">(</span><a href="List.pf.html#List36"><span style="color: #0f95af">List</span></a><span style="color: #2e2d31">&lt;</span><span style="color: black">T</span><span style="color: #2e2d31">&gt;</span><span style="color: #2e2d31">)</span> <span style="color: #2e2d31">-&gt;</span> <a href="MultiSet.pf.html#MultiSet185"><span style="color: #0f95af">MultiSet</span></a><span style="color: #2e2d31">&lt;</span><span style="color: black">T</span><span style="color: #2e2d31">&gt;</span> <span style="color: #2e2d31">{</span>
  <a href="List.pf.html#mset_of41"><span style="color: #086c3c">mset_of</span></a><span style="color: #2e2d31">(</span><span style="color: black">empty</span><span style="color: #2e2d31">)</span> <span style="color: #2e2d31">=</span> <span style="color: black">m_fun</span><span style="color: #2e2d31">(</span><span style="color: #2e2d31">&#x03BB;</span><span style="color: black">x</span><span style="color: #2e2d31">{</span><span style="color: #9329ab">0</span><span style="color: #2e2d31">}</span><span style="color: #2e2d31">)</span>
  <a href="List.pf.html#mset_of41"><span style="color: #086c3c">mset_of</span></a><span style="color: #2e2d31">(</span><span style="color: black">node</span><span style="color: #2e2d31">(</span><span style="color: black">x</span><span style="color: #2e2d31">,</span> <span style="color: black">xs</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">)</span> <span style="color: #2e2d31">=</span> <span style="color: black">m_one</span><span style="color: #2e2d31">(</span><span style="color: black">x</span><span style="color: #2e2d31">)</span> <span style="color: #2e2d31">&#x2A04;</span> <a href="List.pf.html#mset_of41"><span style="color: #086c3c">mset_of</span></a><span style="color: #2e2d31">(</span><span style="color: black">xs</span><span style="color: #2e2d31">)</span>
<span style="color: #2e2d31">}</span>

<span style="color: #d85311">function</span> <a href="List.pf.html#map42"><span id="map42" style="color: #086c3c">map</span></a><span style="color: #2e2d31">&lt;</span><span style="color: black">T</span><span style="color: #2e2d31">,</span><span style="color: black">U</span><span style="color: #2e2d31">&gt;</span><span style="color: #2e2d31">(</span><a href="List.pf.html#List36"><span style="color: #0f95af">List</span></a><span style="color: #2e2d31">&lt;</span><span style="color: black">T</span><span style="color: #2e2d31">&gt;</span><span style="color: #2e2d31">,</span> <span style="color: #0f95af">fn</span> <span style="color: black">T</span><span style="color: #2e2d31">-&gt;</span><span style="color: black">U</span><span style="color: #2e2d31">)</span> <span style="color: #2e2d31">-&gt;</span> <a href="List.pf.html#List36"><span style="color: #0f95af">List</span></a><span style="color: #2e2d31">&lt;</span><span style="color: black">U</span><span style="color: #2e2d31">&gt;</span> <span style="color: #2e2d31">{</span>
  <a href="List.pf.html#map42"><span style="color: #086c3c">map</span></a><span style="color: #2e2d31">(</span><span style="color: black">empty</span><span style="color: #2e2d31">,</span> <span style="color: black">f</span><span style="color: #2e2d31">)</span> <span style="color: #2e2d31">=</span> <span style="color: black">empty</span>
  <a href="List.pf.html#map42"><span style="color: #086c3c">map</span></a><span style="color: #2e2d31">(</span><span style="color: black">node</span><span style="color: #2e2d31">(</span><span style="color: black">x</span><span style="color: #2e2d31">,</span> <span style="color: black">ls</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">,</span> <span style="color: black">f</span><span style="color: #2e2d31">)</span> <span style="color: #2e2d31">=</span> <span style="color: black">node</span><span style="color: #2e2d31">(</span><span style="color: black">f</span><span style="color: #2e2d31">(</span><span style="color: black">x</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">,</span> <a href="List.pf.html#map42"><span style="color: #086c3c">map</span></a><span style="color: #2e2d31">(</span><span style="color: black">ls</span><span style="color: #2e2d31">,</span> <span style="color: black">f</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">)</span>
<span style="color: #2e2d31">}</span>

<span style="color: #d85311">function</span> <a href="List.pf.html#foldr43"><span id="foldr43" style="color: #086c3c">foldr</span></a><span style="color: #2e2d31">&lt;</span><span style="color: black">T</span><span style="color: #2e2d31">,</span><span style="color: black">U</span><span style="color: #2e2d31">&gt;</span><span style="color: #2e2d31">(</span><a href="List.pf.html#List36"><span style="color: #0f95af">List</span></a><span style="color: #2e2d31">&lt;</span><span style="color: black">T</span><span style="color: #2e2d31">&gt;</span><span style="color: #2e2d31">,</span> <span style="color: black">U</span><span style="color: #2e2d31">,</span> <span style="color: #0f95af">fn</span> <span style="color: black">T</span><span style="color: #2e2d31">,</span><span style="color: black">U</span><span style="color: #2e2d31">-&gt;</span><span style="color: black">U</span><span style="color: #2e2d31">)</span> <span style="color: #2e2d31">-&gt;</span> <span style="color: black">U</span> <span style="color: #2e2d31">{</span>
  <a href="List.pf.html#foldr43"><span style="color: #086c3c">foldr</span></a><span style="color: #2e2d31">(</span><span style="color: black">empty</span><span style="color: #2e2d31">,</span> <span style="color: black">u</span><span style="color: #2e2d31">,</span> <span style="color: black">c</span><span style="color: #2e2d31">)</span> <span style="color: #2e2d31">=</span> <span style="color: black">u</span>
  <a href="List.pf.html#foldr43"><span style="color: #086c3c">foldr</span></a><span style="color: #2e2d31">(</span><span style="color: black">node</span><span style="color: #2e2d31">(</span><span style="color: black">t</span><span style="color: #2e2d31">,</span> <span style="color: black">ls</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">,</span> <span style="color: black">u</span><span style="color: #2e2d31">,</span> <span style="color: black">c</span><span style="color: #2e2d31">)</span> <span style="color: #2e2d31">=</span> <span style="color: black">c</span><span style="color: #2e2d31">(</span><span style="color: black">t</span><span style="color: #2e2d31">,</span> <a href="List.pf.html#foldr43"><span style="color: #086c3c">foldr</span></a><span style="color: #2e2d31">(</span><span style="color: black">ls</span><span style="color: #2e2d31">,</span> <span style="color: black">u</span><span style="color: #2e2d31">,</span> <span style="color: black">c</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">)</span>
<span style="color: #2e2d31">}</span>

<span style="color: #d85311">function</span> <a href="List.pf.html#foldl44"><span id="foldl44" style="color: #086c3c">foldl</span></a><span style="color: #2e2d31">&lt;</span><span style="color: black">T</span><span style="color: #2e2d31">,</span><span style="color: black">U</span><span style="color: #2e2d31">&gt;</span><span style="color: #2e2d31">(</span><a href="List.pf.html#List36"><span style="color: #0f95af">List</span></a><span style="color: #2e2d31">&lt;</span><span style="color: black">T</span><span style="color: #2e2d31">&gt;</span><span style="color: #2e2d31">,</span> <span style="color: black">U</span><span style="color: #2e2d31">,</span> <span style="color: #0f95af">fn</span> <span style="color: black">U</span><span style="color: #2e2d31">,</span><span style="color: black">T</span><span style="color: #2e2d31">-&gt;</span><span style="color: black">U</span><span style="color: #2e2d31">)</span> <span style="color: #2e2d31">-&gt;</span> <span style="color: black">U</span> <span style="color: #2e2d31">{</span>
  <a href="List.pf.html#foldl44"><span style="color: #086c3c">foldl</span></a><span style="color: #2e2d31">(</span><span style="color: black">empty</span><span style="color: #2e2d31">,</span> <span style="color: black">u</span><span style="color: #2e2d31">,</span> <span style="color: black">c</span><span style="color: #2e2d31">)</span> <span style="color: #2e2d31">=</span> <span style="color: black">u</span>
  <a href="List.pf.html#foldl44"><span style="color: #086c3c">foldl</span></a><span style="color: #2e2d31">(</span><span style="color: black">node</span><span style="color: #2e2d31">(</span><span style="color: black">t</span><span style="color: #2e2d31">,</span> <span style="color: black">ls</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">,</span> <span style="color: black">u</span><span style="color: #2e2d31">,</span> <span style="color: black">c</span><span style="color: #2e2d31">)</span> <span style="color: #2e2d31">=</span> <a href="List.pf.html#foldl44"><span style="color: #086c3c">foldl</span></a><span style="color: #2e2d31">(</span><span style="color: black">ls</span><span style="color: #2e2d31">,</span> <span style="color: black">c</span><span style="color: #2e2d31">(</span><span style="color: black">u</span><span style="color: #2e2d31">,</span> <span style="color: black">t</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">,</span> <span style="color: black">c</span><span style="color: #2e2d31">)</span>
<span style="color: #2e2d31">}</span>

<span style="color: #d85311">function</span> <a href="List.pf.html#down_from45"><span id="down_from45" style="color: #086c3c">down_from</span></a><span style="color: #2e2d31">(</span><a href="Nat.pf.html#Nat211"><span style="color: #0f95af">Nat</span></a><span style="color: #2e2d31">)</span> <span style="color: #2e2d31">-&gt;</span> <a href="List.pf.html#List36"><span style="color: #0f95af">List</span></a><span style="color: #2e2d31">&lt;</span><a href="Nat.pf.html#Nat211"><span style="color: #0f95af">Nat</span></a><span style="color: #2e2d31">&gt;</span> <span style="color: #2e2d31">{</span>
  <a href="List.pf.html#down_from45"><span style="color: #086c3c">down_from</span></a><span style="color: #2e2d31">(</span><span style="color: black">zero</span><span style="color: #2e2d31">)</span> <span style="color: #2e2d31">=</span> <span style="color: black">empty</span>
  <a href="List.pf.html#down_from45"><span style="color: #086c3c">down_from</span></a><span style="color: #2e2d31">(</span><span style="color: black">suc</span><span style="color: #2e2d31">(</span><span style="color: black">n</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">)</span> <span style="color: #2e2d31">=</span> <span style="color: black">node</span><span style="color: #2e2d31">(</span><span style="color: black">n</span><span style="color: #2e2d31">,</span> <a href="List.pf.html#down_from45"><span style="color: #086c3c">down_from</span></a><span style="color: #2e2d31">(</span><span style="color: black">n</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">)</span>
<span style="color: #2e2d31">}</span>

<span style="color: #d85311">define</span> <span style="color: black">up_to</span> <span style="color: #2e2d31">:</span> <span style="color: #0f95af">fn</span> <a href="Nat.pf.html#Nat211"><span style="color: #0f95af">Nat</span></a> <span style="color: #2e2d31">-&gt;</span> <a href="List.pf.html#List36"><span style="color: #0f95af">List</span></a><span style="color: #2e2d31">&lt;</span><a href="Nat.pf.html#Nat211"><span style="color: #0f95af">Nat</span></a><span style="color: #2e2d31">&gt;</span> <span style="color: #2e2d31">=</span> <span style="color: #2e2d31">&#x03BB;</span> <span style="color: black">n</span> <span style="color: #2e2d31">{</span> <a href="List.pf.html#reverse39"><span style="color: #086c3c">reverse</span></a><span style="color: #2e2d31">(</span><a href="List.pf.html#down_from45"><span style="color: #086c3c">down_from</span></a><span style="color: #2e2d31">(</span><span style="color: black">n</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">)</span> <span style="color: #2e2d31">}</span>

<span style="color: gray">/* interval(num, begin) returns the list of numbers in the half-open
   interval: [begin, begin+num).
*/</span>
<span style="color: #d85311">function</span> <a href="List.pf.html#interval46"><span id="interval46" style="color: #086c3c">interval</span></a><span style="color: #2e2d31">(</span><a href="Nat.pf.html#Nat211"><span style="color: #0f95af">Nat</span></a><span style="color: #2e2d31">,</span> <a href="Nat.pf.html#Nat211"><span style="color: #0f95af">Nat</span></a><span style="color: #2e2d31">)</span> <span style="color: #2e2d31">-&gt;</span> <a href="List.pf.html#List36"><span style="color: #0f95af">List</span></a><span style="color: #2e2d31">&lt;</span><a href="Nat.pf.html#Nat211"><span style="color: #0f95af">Nat</span></a><span style="color: #2e2d31">&gt;</span> <span style="color: #2e2d31">{</span>
  <a href="List.pf.html#interval46"><span style="color: #086c3c">interval</span></a><span style="color: #2e2d31">(</span><span style="color: black">zero</span><span style="color: #2e2d31">,</span> <span style="color: black">begin</span><span style="color: #2e2d31">)</span> <span style="color: #2e2d31">=</span> <span style="color: black">empty</span>
  <a href="List.pf.html#interval46"><span style="color: #086c3c">interval</span></a><span style="color: #2e2d31">(</span><span style="color: black">suc</span><span style="color: #2e2d31">(</span><span style="color: black">num</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">,</span> <span style="color: black">begin</span><span style="color: #2e2d31">)</span> <span style="color: #2e2d31">=</span> <span style="color: black">node</span><span style="color: #2e2d31">(</span><span style="color: black">begin</span><span style="color: #2e2d31">,</span> <a href="List.pf.html#interval46"><span style="color: #086c3c">interval</span></a><span style="color: #2e2d31">(</span><span style="color: black">num</span><span style="color: #2e2d31">,</span> <span style="color: black">suc</span><span style="color: #2e2d31">(</span><span style="color: black">begin</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">)</span>
<span style="color: #2e2d31">}</span>

<span style="color: gray">/* range(begin, end) returns the list of numbers in the half-open
   interval: [begin, end).
*/</span>
<span style="color: #d85311">define</span> <span style="color: black">range</span> <span style="color: #2e2d31">:</span> <span style="color: #0f95af">fn</span> <a href="Nat.pf.html#Nat211"><span style="color: #0f95af">Nat</span></a><span style="color: #2e2d31">,</span><a href="Nat.pf.html#Nat211"><span style="color: #0f95af">Nat</span></a> <span style="color: #2e2d31">-&gt;</span> <a href="List.pf.html#List36"><span style="color: #0f95af">List</span></a><span style="color: #2e2d31">&lt;</span><a href="Nat.pf.html#Nat211"><span style="color: #0f95af">Nat</span></a><span style="color: #2e2d31">&gt;</span> <span style="color: #2e2d31">=</span> <span style="color: #2e2d31">&#x03BB;</span> <span style="color: black">b</span><span style="color: #2e2d31">,</span> <span style="color: black">e</span> <span style="color: #2e2d31">{</span> <a href="List.pf.html#interval46"><span style="color: #086c3c">interval</span></a><span style="color: #2e2d31">(</span><span style="color: black">e</span> <span style="color: #2e2d31">-</span> <span style="color: black">b</span><span style="color: #2e2d31">,</span> <span style="color: black">b</span><span style="color: #2e2d31">)</span> <span style="color: #2e2d31">}</span>

<span style="color: #d85311">function</span> <a href="List.pf.html#zip47"><span id="zip47" style="color: #086c3c">zip</span></a><span style="color: #2e2d31">&lt;</span><span style="color: black">T</span><span style="color: #2e2d31">,</span><span style="color: black">U</span><span style="color: #2e2d31">&gt;</span><span style="color: #2e2d31">(</span><a href="List.pf.html#List36"><span style="color: #0f95af">List</span></a><span style="color: #2e2d31">&lt;</span><span style="color: black">T</span><span style="color: #2e2d31">&gt;</span><span style="color: #2e2d31">,</span> <a href="List.pf.html#List36"><span style="color: #0f95af">List</span></a><span style="color: #2e2d31">&lt;</span><span style="color: black">U</span><span style="color: #2e2d31">&gt;</span><span style="color: #2e2d31">)</span> <span style="color: #2e2d31">-&gt;</span> <a href="List.pf.html#List36"><span style="color: #0f95af">List</span></a><span style="color: #2e2d31">&lt;</span> <a href="Pair.pf.html#Pair33"><span style="color: #0f95af">Pair</span></a><span style="color: #2e2d31">&lt;</span><span style="color: black">T</span><span style="color: #2e2d31">,</span> <span style="color: black">U</span><span style="color: #2e2d31">&gt;</span> <span style="color: #2e2d31">&gt;</span> <span style="color: #2e2d31">{</span>
  <a href="List.pf.html#zip47"><span style="color: #086c3c">zip</span></a><span style="color: #2e2d31">(</span><span style="color: black">empty</span><span style="color: #2e2d31">,</span> <span style="color: black">ys</span><span style="color: #2e2d31">)</span> <span style="color: #2e2d31">=</span> <span style="color: black">empty</span>
  <a href="List.pf.html#zip47"><span style="color: #086c3c">zip</span></a><span style="color: #2e2d31">(</span><span style="color: black">node</span><span style="color: #2e2d31">(</span><span style="color: black">x</span><span style="color: #2e2d31">,</span> <span style="color: black">xs'</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">,</span> <span style="color: black">ys</span><span style="color: #2e2d31">)</span> <span style="color: #2e2d31">=</span>
    <span style="color: #d85311">switch</span> <span style="color: black">ys</span> <span style="color: #2e2d31">{</span>
      <span style="color: #d85311">case</span> <span style="color: black">empty</span> <span style="color: #2e2d31">{</span> <span style="color: black">empty</span> <span style="color: #2e2d31">}</span>
      <span style="color: #d85311">case</span> <span style="color: black">node</span><span style="color: #2e2d31">(</span><span style="color: black">y</span><span style="color: #2e2d31">,</span> <span style="color: black">ys'</span><span style="color: #2e2d31">)</span> <span style="color: #2e2d31">{</span> <span style="color: black">node</span><span style="color: #2e2d31">(</span><span style="color: black">pair</span><span style="color: #2e2d31">(</span><span style="color: black">x</span><span style="color: #2e2d31">,</span><span style="color: black">y</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">,</span> <a href="List.pf.html#zip47"><span style="color: #086c3c">zip</span></a><span style="color: #2e2d31">(</span><span style="color: black">xs'</span><span style="color: #2e2d31">,</span> <span style="color: black">ys'</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">)</span> <span style="color: #2e2d31">}</span>
    <span style="color: #2e2d31">}</span>
<span style="color: #2e2d31">}</span>

<span style="color: #d85311">function</span> <a href="List.pf.html#all_elements48"><span id="all_elements48" style="color: #086c3c">all_elements</span></a><span style="color: #2e2d31">&lt;</span><span style="color: black">T</span><span style="color: #2e2d31">&gt;</span><span style="color: #2e2d31">(</span><a href="List.pf.html#List36"><span style="color: #0f95af">List</span></a><span style="color: #2e2d31">&lt;</span><span style="color: black">T</span><span style="color: #2e2d31">&gt;</span><span style="color: #2e2d31">,</span> <span style="color: #0f95af">fn</span> <span style="color: #2e2d31">(</span><span style="color: black">T</span><span style="color: #2e2d31">)</span> <span style="color: #2e2d31">-&gt;</span> <span style="color: #0f95af">bool</span><span style="color: #2e2d31">)</span> <span style="color: #2e2d31">-&gt;</span> <span style="color: #0f95af">bool</span> <span style="color: #2e2d31">{</span>
  <a href="List.pf.html#all_elements48"><span style="color: #086c3c">all_elements</span></a><span style="color: #2e2d31">(</span><span style="color: black">empty</span><span style="color: #2e2d31">,</span> <span style="color: black">P</span><span style="color: #2e2d31">)</span> <span style="color: #2e2d31">=</span> <span style="color: #9329ab">true</span>
  <a href="List.pf.html#all_elements48"><span style="color: #086c3c">all_elements</span></a><span style="color: #2e2d31">(</span><span style="color: black">node</span><span style="color: #2e2d31">(</span><span style="color: black">x</span><span style="color: #2e2d31">,</span> <span style="color: black">xs'</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">,</span> <span style="color: black">P</span><span style="color: #2e2d31">)</span> <span style="color: #2e2d31">=</span> <span style="color: black">P</span><span style="color: #2e2d31">(</span><span style="color: black">x</span><span style="color: #2e2d31">)</span> <span style="color: #d85311">and</span> <a href="List.pf.html#all_elements48"><span style="color: #086c3c">all_elements</span></a><span style="color: #2e2d31">(</span><span style="color: black">xs'</span><span style="color: #2e2d31">,</span> <span style="color: black">P</span><span style="color: #2e2d31">)</span>
<span style="color: #2e2d31">}</span>

<span style="color: #d85311">function</span> <a href="List.pf.html#filter49"><span id="filter49" style="color: #086c3c">filter</span></a><span style="color: #2e2d31">&lt;</span><span style="color: black">E</span><span style="color: #2e2d31">&gt;</span><span style="color: #2e2d31">(</span><a href="List.pf.html#List36"><span style="color: #0f95af">List</span></a><span style="color: #2e2d31">&lt;</span><span style="color: black">E</span><span style="color: #2e2d31">&gt;</span><span style="color: #2e2d31">,</span> <span style="color: #0f95af">fn</span> <span style="color: #2e2d31">(</span><span style="color: black">E</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">-&gt;</span><span style="color: #0f95af">bool</span><span style="color: #2e2d31">)</span> <span style="color: #2e2d31">-&gt;</span> <a href="List.pf.html#List36"><span style="color: #0f95af">List</span></a><span style="color: #2e2d31">&lt;</span><span style="color: black">E</span><span style="color: #2e2d31">&gt;</span> <span style="color: #2e2d31">{</span>
  <a href="List.pf.html#filter49"><span style="color: #086c3c">filter</span></a><span style="color: #2e2d31">(</span><span style="color: black">empty</span><span style="color: #2e2d31">,</span> <span style="color: black">P</span><span style="color: #2e2d31">)</span> <span style="color: #2e2d31">=</span> <span style="color: black">empty</span>
  <a href="List.pf.html#filter49"><span style="color: #086c3c">filter</span></a><span style="color: #2e2d31">(</span><span style="color: black">node</span><span style="color: #2e2d31">(</span><span style="color: black">x</span><span style="color: #2e2d31">,</span> <span style="color: black">ls</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">,</span> <span style="color: black">P</span><span style="color: #2e2d31">)</span> <span style="color: #2e2d31">=</span>
    <span style="color: #d85311">if</span> <span style="color: black">P</span><span style="color: #2e2d31">(</span><span style="color: black">x</span><span style="color: #2e2d31">)</span> <span style="color: #d85311">then</span> <span style="color: black">node</span><span style="color: #2e2d31">(</span><span style="color: black">x</span><span style="color: #2e2d31">,</span> <a href="List.pf.html#filter49"><span style="color: #086c3c">filter</span></a><span style="color: #2e2d31">(</span><span style="color: black">ls</span><span style="color: #2e2d31">,</span> <span style="color: black">P</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">)</span>
    <span style="color: #d85311">else</span> <a href="List.pf.html#filter49"><span style="color: #086c3c">filter</span></a><span style="color: #2e2d31">(</span><span style="color: black">ls</span><span style="color: #2e2d31">,</span> <span style="color: black">P</span><span style="color: #2e2d31">)</span>
<span style="color: #2e2d31">}</span>

<span style="color: #d85311">function</span> <a href="List.pf.html#remove50"><span id="remove50" style="color: #086c3c">remove</span></a><span style="color: #2e2d31">&lt;</span><span style="color: black">T</span><span style="color: #2e2d31">&gt;</span><span style="color: #2e2d31">(</span><a href="List.pf.html#List36"><span style="color: #0f95af">List</span></a><span style="color: #2e2d31">&lt;</span><span style="color: black">T</span><span style="color: #2e2d31">&gt;</span><span style="color: #2e2d31">,</span> <span style="color: black">T</span><span style="color: #2e2d31">)</span> <span style="color: #2e2d31">-&gt;</span> <a href="List.pf.html#List36"><span style="color: #0f95af">List</span></a><span style="color: #2e2d31">&lt;</span><span style="color: black">T</span><span style="color: #2e2d31">&gt;</span> <span style="color: #2e2d31">{</span>
  <a href="List.pf.html#remove50"><span style="color: #086c3c">remove</span></a><span style="color: #2e2d31">(</span><span style="color: black">empty</span><span style="color: #2e2d31">,</span> <span style="color: black">y</span><span style="color: #2e2d31">)</span> <span style="color: #2e2d31">=</span> <span style="color: black">empty</span>
  <a href="List.pf.html#remove50"><span style="color: #086c3c">remove</span></a><span style="color: #2e2d31">(</span><span style="color: black">node</span><span style="color: #2e2d31">(</span><span style="color: black">x</span><span style="color: #2e2d31">,</span> <span style="color: black">xs'</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">,</span> <span style="color: black">y</span><span style="color: #2e2d31">)</span> <span style="color: #2e2d31">=</span>
    <span style="color: #d85311">if</span> <span style="color: black">x</span> <span style="color: #2e2d31">=</span> <span style="color: black">y</span> <span style="color: #d85311">then</span>
      <span style="color: black">xs'</span>
    <span style="color: #d85311">else</span>
      <span style="color: black">node</span><span style="color: #2e2d31">(</span><span style="color: black">x</span><span style="color: #2e2d31">,</span> <a href="List.pf.html#remove50"><span style="color: #086c3c">remove</span></a><span style="color: #2e2d31">(</span><span style="color: black">xs'</span><span style="color: #2e2d31">,</span> <span style="color: black">y</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">)</span>
<span style="color: #2e2d31">}</span>

<span style="color: #d85311">function</span> <a href="List.pf.html#remove_all51"><span id="remove_all51" style="color: #086c3c">remove_all</span></a><span style="color: #2e2d31">&lt;</span><span style="color: black">T</span><span style="color: #2e2d31">&gt;</span><span style="color: #2e2d31">(</span><a href="List.pf.html#List36"><span style="color: #0f95af">List</span></a><span style="color: #2e2d31">&lt;</span><span style="color: black">T</span><span style="color: #2e2d31">&gt;</span><span style="color: #2e2d31">,</span> <span style="color: black">T</span><span style="color: #2e2d31">)</span> <span style="color: #2e2d31">-&gt;</span> <a href="List.pf.html#List36"><span style="color: #0f95af">List</span></a><span style="color: #2e2d31">&lt;</span><span style="color: black">T</span><span style="color: #2e2d31">&gt;</span> <span style="color: #2e2d31">{</span>
  <a href="List.pf.html#remove_all51"><span style="color: #086c3c">remove_all</span></a><span style="color: #2e2d31">(</span><span style="color: black">empty</span><span style="color: #2e2d31">,</span> <span style="color: black">y</span><span style="color: #2e2d31">)</span> <span style="color: #2e2d31">=</span> <span style="color: black">empty</span>
  <a href="List.pf.html#remove_all51"><span style="color: #086c3c">remove_all</span></a><span style="color: #2e2d31">(</span><span style="color: black">node</span><span style="color: #2e2d31">(</span><span style="color: black">x</span><span style="color: #2e2d31">,</span> <span style="color: black">xs'</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">,</span> <span style="color: black">y</span><span style="color: #2e2d31">)</span> <span style="color: #2e2d31">=</span>
    <span style="color: #d85311">if</span> <span style="color: black">x</span> <span style="color: #2e2d31">=</span> <span style="color: black">y</span> <span style="color: #d85311">then</span>
      <a href="List.pf.html#remove_all51"><span style="color: #086c3c">remove_all</span></a><span style="color: #2e2d31">(</span><span style="color: black">xs'</span><span style="color: #2e2d31">,</span> <span style="color: black">y</span><span style="color: #2e2d31">)</span>
    <span style="color: #d85311">else</span>
      <span style="color: black">node</span><span style="color: #2e2d31">(</span><span style="color: black">x</span><span style="color: #2e2d31">,</span> <a href="List.pf.html#remove_all51"><span style="color: #086c3c">remove_all</span></a><span style="color: #2e2d31">(</span><span style="color: black">xs'</span><span style="color: #2e2d31">,</span> <span style="color: black">y</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">)</span>
<span style="color: #2e2d31">}</span>

<span style="color: #d85311">function</span> <a href="List.pf.html#nth52"><span id="nth52" style="color: #086c3c">nth</span></a><span style="color: #2e2d31">&lt;</span><span style="color: black">T</span><span style="color: #2e2d31">&gt;</span><span style="color: #2e2d31">(</span><a href="List.pf.html#List36"><span style="color: #0f95af">List</span></a><span style="color: #2e2d31">&lt;</span><span style="color: black">T</span><span style="color: #2e2d31">&gt;</span><span style="color: #2e2d31">,</span> <span style="color: black">T</span><span style="color: #2e2d31">)</span> <span style="color: #2e2d31">-&gt;</span> <span style="color: #2e2d31">(</span><span style="color: #0f95af">fn</span> <a href="Nat.pf.html#Nat211"><span style="color: #0f95af">Nat</span></a> <span style="color: #2e2d31">-&gt;</span> <span style="color: black">T</span><span style="color: #2e2d31">)</span> <span style="color: #2e2d31">{</span>
  <a href="List.pf.html#nth52"><span style="color: #086c3c">nth</span></a><span style="color: #2e2d31">(</span><span style="color: black">empty</span><span style="color: #2e2d31">,</span> <span style="color: black">def</span><span style="color: #2e2d31">)</span> <span style="color: #2e2d31">=</span> <span style="color: #2e2d31">&#x03BB;</span><span style="color: black">i</span><span style="color: #2e2d31">{</span><span style="color: black">def</span><span style="color: #2e2d31">}</span>
  <a href="List.pf.html#nth52"><span style="color: #086c3c">nth</span></a><span style="color: #2e2d31">(</span><span style="color: black">node</span><span style="color: #2e2d31">(</span><span style="color: black">x</span><span style="color: #2e2d31">,</span> <span style="color: black">xs</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">,</span> <span style="color: black">def</span><span style="color: #2e2d31">)</span> <span style="color: #2e2d31">=</span> <span style="color: #2e2d31">&#x03BB;</span><span style="color: black">i</span><span style="color: #2e2d31">{</span>
    <span style="color: #d85311">if</span> <span style="color: black">i</span> <span style="color: #2e2d31">=</span> <span style="color: #9329ab">0</span> <span style="color: #d85311">then</span>
      <span style="color: black">x</span>
    <span style="color: #d85311">else</span>
       <a href="List.pf.html#nth52"><span style="color: #086c3c">nth</span></a><span style="color: #2e2d31">(</span><span style="color: black">xs</span><span style="color: #2e2d31">,</span> <span style="color: black">def</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">(</span><a href="Nat.pf.html#pred215"><span style="color: #086c3c">pred</span></a><span style="color: #2e2d31">(</span><span style="color: black">i</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">)</span>
  <span style="color: #2e2d31">}</span>
<span style="color: #2e2d31">}</span>

<span style="color: #d85311">function</span> <a href="List.pf.html#get53"><span id="get53" style="color: #086c3c">get</span></a><span style="color: #2e2d31">&lt;</span><span style="color: black">T</span><span style="color: #2e2d31">&gt;</span><span style="color: #2e2d31">(</span><a href="List.pf.html#List36"><span style="color: #0f95af">List</span></a><span style="color: #2e2d31">&lt;</span><span style="color: black">T</span><span style="color: #2e2d31">&gt;</span><span style="color: #2e2d31">,</span> <a href="Nat.pf.html#Nat211"><span style="color: #0f95af">Nat</span></a><span style="color: #2e2d31">)</span> <span style="color: #2e2d31">-&gt;</span> <a href="Option.pf.html#Option96"><span style="color: #0f95af">Option</span></a><span style="color: #2e2d31">&lt;</span><span style="color: black">T</span><span style="color: #2e2d31">&gt;</span> <span style="color: #2e2d31">{</span>
  <a href="List.pf.html#get53"><span style="color: #086c3c">get</span></a><span style="color: #2e2d31">(</span><span style="color: black">empty</span><span style="color: #2e2d31">,</span> <span style="color: black">i</span><span style="color: #2e2d31">)</span> <span style="color: #2e2d31">=</span> <span style="color: black">none</span>
  <a href="List.pf.html#get53"><span style="color: #086c3c">get</span></a><span style="color: #2e2d31">(</span><span style="color: black">node</span><span style="color: #2e2d31">(</span><span style="color: black">x</span><span style="color: #2e2d31">,</span> <span style="color: black">xs</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">,</span> <span style="color: black">i</span><span style="color: #2e2d31">)</span> <span style="color: #2e2d31">=</span>
    <span style="color: #d85311">if</span> <span style="color: black">i</span> <span style="color: #2e2d31">=</span> <span style="color: #9329ab">0</span> <span style="color: #d85311">then</span>
       <span style="color: black">just</span><span style="color: #2e2d31">(</span><span style="color: black">x</span><span style="color: #2e2d31">)</span>
    <span style="color: #d85311">else</span>
       <a href="List.pf.html#get53"><span style="color: #086c3c">get</span></a><span style="color: #2e2d31">(</span><span style="color: black">xs</span><span style="color: #2e2d31">,</span> <a href="Nat.pf.html#pred215"><span style="color: #086c3c">pred</span></a><span style="color: #2e2d31">(</span><span style="color: black">i</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">)</span>
<span style="color: #2e2d31">}</span>

<span style="color: #d85311">function</span> <a href="List.pf.html#take54"><span id="take54" style="color: #086c3c">take</span></a><span style="color: #2e2d31">&lt;</span><span style="color: black">T</span><span style="color: #2e2d31">&gt;</span><span style="color: #2e2d31">(</span><a href="Nat.pf.html#Nat211"><span style="color: #0f95af">Nat</span></a><span style="color: #2e2d31">,</span> <a href="List.pf.html#List36"><span style="color: #0f95af">List</span></a><span style="color: #2e2d31">&lt;</span><span style="color: black">T</span><span style="color: #2e2d31">&gt;</span><span style="color: #2e2d31">)</span> <span style="color: #2e2d31">-&gt;</span> <a href="List.pf.html#List36"><span style="color: #0f95af">List</span></a><span style="color: #2e2d31">&lt;</span><span style="color: black">T</span><span style="color: #2e2d31">&gt;</span> <span style="color: #2e2d31">{</span>
  <a href="List.pf.html#take54"><span style="color: #086c3c">take</span></a><span style="color: #2e2d31">(</span><span style="color: #9329ab">0</span><span style="color: #2e2d31">,</span> <span style="color: black">xs</span><span style="color: #2e2d31">)</span> <span style="color: #2e2d31">=</span> <span style="color: black">empty</span>
  <a href="List.pf.html#take54"><span style="color: #086c3c">take</span></a><span style="color: #2e2d31">(</span><span style="color: black">suc</span><span style="color: #2e2d31">(</span><span style="color: black">n</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">,</span> <span style="color: black">xs</span><span style="color: #2e2d31">)</span> <span style="color: #2e2d31">=</span>
    <span style="color: #d85311">switch</span> <span style="color: black">xs</span> <span style="color: #2e2d31">{</span>
      <span style="color: #d85311">case</span> <span style="color: black">empty</span> <span style="color: #2e2d31">{</span> <span style="color: black">empty</span> <span style="color: #2e2d31">}</span>
      <span style="color: #d85311">case</span> <span style="color: black">node</span><span style="color: #2e2d31">(</span><span style="color: black">x</span><span style="color: #2e2d31">,</span> <span style="color: black">xs'</span><span style="color: #2e2d31">)</span> <span style="color: #2e2d31">{</span> <span style="color: black">node</span><span style="color: #2e2d31">(</span><span style="color: black">x</span><span style="color: #2e2d31">,</span> <a href="List.pf.html#take54"><span style="color: #086c3c">take</span></a><span style="color: #2e2d31">(</span><span style="color: black">n</span><span style="color: #2e2d31">,</span> <span style="color: black">xs'</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">)</span> <span style="color: #2e2d31">}</span>
    <span style="color: #2e2d31">}</span>
<span style="color: #2e2d31">}</span>

<span style="color: #d85311">function</span> <a href="List.pf.html#drop55"><span id="drop55" style="color: #086c3c">drop</span></a><span style="color: #2e2d31">&lt;</span><span style="color: black">T</span><span style="color: #2e2d31">&gt;</span><span style="color: #2e2d31">(</span><a href="Nat.pf.html#Nat211"><span style="color: #0f95af">Nat</span></a><span style="color: #2e2d31">,</span> <a href="List.pf.html#List36"><span style="color: #0f95af">List</span></a><span style="color: #2e2d31">&lt;</span><span style="color: black">T</span><span style="color: #2e2d31">&gt;</span><span style="color: #2e2d31">)</span> <span style="color: #2e2d31">-&gt;</span> <a href="List.pf.html#List36"><span style="color: #0f95af">List</span></a><span style="color: #2e2d31">&lt;</span><span style="color: black">T</span><span style="color: #2e2d31">&gt;</span> <span style="color: #2e2d31">{</span>
  <a href="List.pf.html#drop55"><span style="color: #086c3c">drop</span></a><span style="color: #2e2d31">(</span><span style="color: #9329ab">0</span><span style="color: #2e2d31">,</span> <span style="color: black">xs</span><span style="color: #2e2d31">)</span> <span style="color: #2e2d31">=</span> <span style="color: black">xs</span>
  <a href="List.pf.html#drop55"><span style="color: #086c3c">drop</span></a><span style="color: #2e2d31">(</span><span style="color: black">suc</span><span style="color: #2e2d31">(</span><span style="color: black">n</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">,</span> <span style="color: black">xs</span><span style="color: #2e2d31">)</span> <span style="color: #2e2d31">=</span>
    <span style="color: #d85311">switch</span> <span style="color: black">xs</span> <span style="color: #2e2d31">{</span>
      <span style="color: #d85311">case</span> <span style="color: black">empty</span> <span style="color: #2e2d31">{</span> <span style="color: black">empty</span> <span style="color: #2e2d31">}</span>
      <span style="color: #d85311">case</span> <span style="color: black">node</span><span style="color: #2e2d31">(</span><span style="color: black">x</span><span style="color: #2e2d31">,</span> <span style="color: black">xs'</span><span style="color: #2e2d31">)</span> <span style="color: #2e2d31">{</span> <a href="List.pf.html#drop55"><span style="color: #086c3c">drop</span></a><span style="color: #2e2d31">(</span><span style="color: black">n</span><span style="color: #2e2d31">,</span> <span style="color: black">xs'</span><span style="color: #2e2d31">)</span> <span style="color: #2e2d31">}</span>
    <span style="color: #2e2d31">}</span>
<span style="color: #2e2d31">}</span>

<span style="color: #d85311">define</span> <a href="Int.pf.html#flip103"><span style="color: #086c3c">flip</span></a> <span style="color: #2e2d31">:</span> <span style="color: #0f95af">fn</span><span style="color: #2e2d31">&lt;</span><span style="color: black">T</span><span style="color: #2e2d31">,</span><span style="color: black">U</span><span style="color: #2e2d31">,</span><span style="color: black">V</span><span style="color: #2e2d31">&gt;</span> <span style="color: #2e2d31">(</span><span style="color: #0f95af">fn</span> <span style="color: black">T</span><span style="color: #2e2d31">,</span><span style="color: black">U</span><span style="color: #2e2d31">-&gt;</span><span style="color: black">V</span><span style="color: #2e2d31">)</span> <span style="color: #2e2d31">-&gt;</span><span style="color: #2e2d31">(</span><span style="color: #0f95af">fn</span> <span style="color: black">U</span><span style="color: #2e2d31">,</span><span style="color: black">T</span><span style="color: #2e2d31">-&gt;</span><span style="color: black">V</span><span style="color: #2e2d31">)</span>
  <span style="color: #2e2d31">=</span> <span style="color: #d85311">generic</span> <span style="color: black">T</span><span style="color: #2e2d31">,</span><span style="color: black">U</span><span style="color: #2e2d31">,</span><span style="color: black">V</span> <span style="color: #2e2d31">{</span> <span style="color: #2e2d31">&#x03BB;</span><span style="color: black">f</span><span style="color: #2e2d31">{</span> <span style="color: #2e2d31">&#x03BB;</span><span style="color: black">x</span><span style="color: #2e2d31">,</span><span style="color: black">y</span><span style="color: #2e2d31">{</span> <span style="color: black">f</span><span style="color: #2e2d31">(</span><span style="color: black">y</span><span style="color: #2e2d31">,</span><span style="color: black">x</span><span style="color: #2e2d31">)</span> <span style="color: #2e2d31">}</span><span style="color: #2e2d31">}</span><span style="color: #2e2d31">}</span>

<span style="color: #d85311">function</span> <a href="List.pf.html#head56"><span id="head56" style="color: #086c3c">head</span></a><span style="color: #2e2d31">&lt;</span><span style="color: black">T</span><span style="color: #2e2d31">&gt;</span><span style="color: #2e2d31">(</span><a href="List.pf.html#List36"><span style="color: #0f95af">List</span></a><span style="color: #2e2d31">&lt;</span><span style="color: black">T</span><span style="color: #2e2d31">&gt;</span><span style="color: #2e2d31">)</span> <span style="color: #2e2d31">-&gt;</span> <a href="Option.pf.html#Option96"><span style="color: #0f95af">Option</span></a><span style="color: #2e2d31">&lt;</span><span style="color: black">T</span><span style="color: #2e2d31">&gt;</span> <span style="color: #2e2d31">{</span>
  <a href="List.pf.html#head56"><span style="color: #086c3c">head</span></a><span style="color: #2e2d31">(</span><span style="color: black">empty</span><span style="color: #2e2d31">)</span> <span style="color: #2e2d31">=</span> <span style="color: black">none</span>
  <a href="List.pf.html#head56"><span style="color: #086c3c">head</span></a><span style="color: #2e2d31">(</span><span style="color: black">node</span><span style="color: #2e2d31">(</span><span style="color: black">x</span><span style="color: #2e2d31">,</span> <span style="color: black">xs</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">)</span> <span style="color: #2e2d31">=</span> <span style="color: black">just</span><span style="color: #2e2d31">(</span><span style="color: black">x</span><span style="color: #2e2d31">)</span>
<span style="color: #2e2d31">}</span>

<span style="color: #d85311">function</span> <a href="List.pf.html#tail57"><span id="tail57" style="color: #086c3c">tail</span></a><span style="color: #2e2d31">&lt;</span><span style="color: black">T</span><span style="color: #2e2d31">&gt;</span><span style="color: #2e2d31">(</span><a href="List.pf.html#List36"><span style="color: #0f95af">List</span></a><span style="color: #2e2d31">&lt;</span><span style="color: black">T</span><span style="color: #2e2d31">&gt;</span><span style="color: #2e2d31">)</span> <span style="color: #2e2d31">-&gt;</span> <a href="List.pf.html#List36"><span style="color: #0f95af">List</span></a><span style="color: #2e2d31">&lt;</span><span style="color: black">T</span><span style="color: #2e2d31">&gt;</span> <span style="color: #2e2d31">{</span>
  <a href="List.pf.html#tail57"><span style="color: #086c3c">tail</span></a><span style="color: #2e2d31">(</span><span style="color: black">empty</span><span style="color: #2e2d31">)</span> <span style="color: #2e2d31">=</span> <span style="color: black">empty</span>
  <a href="List.pf.html#tail57"><span style="color: #086c3c">tail</span></a><span style="color: #2e2d31">(</span><span style="color: black">node</span><span style="color: #2e2d31">(</span><span style="color: black">x</span><span style="color: #2e2d31">,</span> <span style="color: black">xs</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">)</span> <span style="color: #2e2d31">=</span> <span style="color: black">xs</span>
<span style="color: #2e2d31">}</span>

<span style="color: gray">/********************** Theorems *********************************/</span>

<span style="color: #d85311">theorem</span> <a href="List.pf.html#length_one_nat58"><span id="length_one_nat58" style="color: #086c3c">length_one_nat</span></a><span style="color: #2e2d31">:</span> <span style="color: #d85311">all</span> <span style="color: black">x</span><span style="color: #2e2d31">:</span><a href="Nat.pf.html#Nat211"><span style="color: #0f95af">Nat</span></a><span style="color: #2e2d31">.</span> <a href="List.pf.html#length37"><span style="color: #086c3c">length</span></a><span style="color: #2e2d31">(</span><span style="color: black">node</span><span style="color: #2e2d31">(</span><span style="color: black">x</span><span style="color: #2e2d31">,</span> <span style="color: black">empty</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">)</span> <span style="color: #2e2d31">=</span> <span style="color: #9329ab">1</span>
<span style="color: #d85311">proof</span>
  <span style="color: #d85311">arbitrary</span> <span style="color: black">x</span><span style="color: #2e2d31">:</span><a href="Nat.pf.html#Nat211"><span style="color: #0f95af">Nat</span></a>
  <span style="color: #d85311">equations</span>
  <a href="List.pf.html#length37"><span style="color: #086c3c">length</span></a><span style="color: #2e2d31">(</span><span style="color: black">node</span><span style="color: #2e2d31">(</span><span style="color: black">x</span><span style="color: #2e2d31">,</span> <span style="color: black">empty</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">)</span> <span style="color: #2e2d31">=</span> <span style="color: #9329ab">1</span> <span style="color: #2e2d31">+</span> <span style="color: #9329ab">0</span>  <span style="color: #d85311">by</span> <span style="color: #d85311">definition</span> <span style="color: #2e2d31">{</span><a href="List.pf.html#length37"><span style="color: #086c3c">length</span></a><span style="color: #2e2d31">,</span> <a href="List.pf.html#length37"><span style="color: #086c3c">length</span></a><span style="color: #2e2d31">}</span>
                     <span style="color: #2e2d31">...</span> <span style="color: #2e2d31">=</span> <span style="color: #9329ab">1</span>      <span style="color: #d85311">by</span> <a href="Nat.pf.html#add_zero232"><span style="color: #086c3c">add_zero</span></a><span style="color: #2e2d31">[</span><span style="color: #9329ab">1</span><span style="color: #2e2d31">]</span>
<span style="color: #d85311">end</span>

<span style="color: #d85311">theorem</span> <a href="List.pf.html#length_one59"><span id="length_one59" style="color: #086c3c">length_one</span></a><span style="color: #2e2d31">:</span> <span style="color: #d85311">all</span> <span style="color: black">U</span> <span style="color: #2e2d31">:</span><span style="color: #0f95af">type</span><span style="color: #2e2d31">.</span> <span style="color: #d85311">all</span> <span style="color: black">x</span><span style="color: #2e2d31">:</span><span style="color: black">U</span><span style="color: #2e2d31">.</span> <a href="List.pf.html#length37"><span style="color: #086c3c">length</span></a><span style="color: #2e2d31">(</span><span style="color: black">node</span><span style="color: #2e2d31">(</span><span style="color: black">x</span><span style="color: #2e2d31">,</span> <span style="color: black">empty</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">)</span> <span style="color: #2e2d31">=</span> <span style="color: #9329ab">1</span>
<span style="color: #d85311">proof</span>
  <span style="color: #d85311">arbitrary</span> <span style="color: black">U</span><span style="color: #2e2d31">:</span><span style="color: #0f95af">type</span>
  <span style="color: #d85311">arbitrary</span> <span style="color: black">x</span><span style="color: #2e2d31">:</span><span style="color: black">U</span>
  <span style="color: #d85311">equations</span>
    <a href="List.pf.html#length37"><span style="color: #086c3c">length</span></a><span style="color: #2e2d31">(</span><span style="color: black">node</span><span style="color: #2e2d31">(</span><span style="color: black">x</span><span style="color: #2e2d31">,</span> <span style="color: black">empty</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">)</span> <span style="color: #2e2d31">=</span> <span style="color: #9329ab">1</span> <span style="color: #2e2d31">+</span> <span style="color: #9329ab">0</span>  <span style="color: #d85311">by</span> <span style="color: #d85311">definition</span> <span style="color: #2e2d31">{</span><a href="List.pf.html#length37"><span style="color: #086c3c">length</span></a><span style="color: #2e2d31">,</span> <a href="List.pf.html#length37"><span style="color: #086c3c">length</span></a><span style="color: #2e2d31">}</span>
                       <span style="color: #2e2d31">...</span> <span style="color: #2e2d31">=</span> <span style="color: #9329ab">1</span>      <span style="color: #d85311">by</span> <a href="Nat.pf.html#add_zero232"><span style="color: #086c3c">add_zero</span></a><span style="color: #2e2d31">[</span><span style="color: #9329ab">1</span><span style="color: #2e2d31">]</span>
<span style="color: #d85311">end</span>

<span style="color: #d85311">theorem</span> <a href="List.pf.html#length_zero_empty60"><span id="length_zero_empty60" style="color: #086c3c">length_zero_empty</span></a><span style="color: #2e2d31">:</span> <span style="color: #2e2d31">&lt;</span><span style="color: black">T</span><span style="color: #2e2d31">&gt;</span> <span style="color: #d85311">all</span> <span style="color: black">xs</span><span style="color: #2e2d31">:</span><a href="List.pf.html#List36"><span style="color: #0f95af">List</span></a><span style="color: #2e2d31">&lt;</span><span style="color: black">T</span><span style="color: #2e2d31">&gt;</span><span style="color: #2e2d31">.</span>
  <span style="color: #d85311">if</span> <a href="List.pf.html#length37"><span style="color: #086c3c">length</span></a><span style="color: #2e2d31">(</span><span style="color: black">xs</span><span style="color: #2e2d31">)</span> <span style="color: #2e2d31">=</span> <span style="color: #9329ab">0</span>
  <span style="color: #d85311">then</span> <span style="color: black">xs</span> <span style="color: #2e2d31">=</span> <span style="color: black">empty</span>
<span style="color: #d85311">proof</span>
  <span style="color: #d85311">arbitrary</span> <span style="color: black">T</span><span style="color: #2e2d31">:</span><span style="color: #0f95af">type</span>
  <span style="color: #d85311">arbitrary</span> <span style="color: black">xs</span><span style="color: #2e2d31">:</span><a href="List.pf.html#List36"><span style="color: #0f95af">List</span></a><span style="color: #2e2d31">&lt;</span><span style="color: black">T</span><span style="color: #2e2d31">&gt;</span>
  <span style="color: #d85311">switch</span> <span style="color: black">xs</span> <span style="color: #2e2d31">{</span>
    <span style="color: #d85311">case</span> <span style="color: black">empty</span> <span style="color: #2e2d31">{</span> <span style="color: #2e2d31">.</span> <span style="color: #2e2d31">}</span>
    <span style="color: #d85311">case</span> <span style="color: black">node</span><span style="color: #2e2d31">(</span><span style="color: black">x</span><span style="color: #2e2d31">,</span> <span style="color: black">xs'</span><span style="color: #2e2d31">)</span> <span style="color: #2e2d31">{</span>
      <span style="color: #d85311">suppose</span> <span style="color: black">len_z</span>
      <span style="color: #d85311">conclude</span> <span style="color: #9329ab">false</span>
          <span style="color: #d85311">by</span> <span style="color: #d85311">apply</span> <a href="Nat.pf.html#not_one_add_zero236"><span style="color: #086c3c">not_one_add_zero</span></a><span style="color: #2e2d31">[</span><a href="List.pf.html#length37"><span style="color: #086c3c">length</span></a><span style="color: #2e2d31">(</span><span style="color: black">xs'</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">]</span> <span style="color: #d85311">to</span>
             <span style="color: #d85311">definition</span> <a href="List.pf.html#length37"><span style="color: #086c3c">length</span></a> <span style="color: #d85311">in</span> <span style="color: black">len_z</span>
    <span style="color: #2e2d31">}</span>
  <span style="color: #2e2d31">}</span>
<span style="color: #d85311">end</span>

<span style="color: #d85311">theorem</span> <a href="List.pf.html#length_append61"><span id="length_append61" style="color: #086c3c">length_append</span></a><span style="color: #2e2d31">:</span> <span style="color: #d85311">all</span> <span style="color: black">U</span> <span style="color: #2e2d31">:</span><span style="color: #0f95af">type</span><span style="color: #2e2d31">.</span> <span style="color: #d85311">all</span> <span style="color: black">xs</span> <span style="color: #2e2d31">:</span><a href="List.pf.html#List36"><span style="color: #0f95af">List</span></a><span style="color: #2e2d31">&lt;</span><span style="color: black">U</span><span style="color: #2e2d31">&gt;</span><span style="color: #2e2d31">.</span> <span style="color: #d85311">all</span> <span style="color: black">ys</span> <span style="color: #2e2d31">:</span><a href="List.pf.html#List36"><span style="color: #0f95af">List</span></a><span style="color: #2e2d31">&lt;</span><span style="color: black">U</span><span style="color: #2e2d31">&gt;</span><span style="color: #2e2d31">.</span>
  <a href="List.pf.html#length37"><span style="color: #086c3c">length</span></a><span style="color: #2e2d31">(</span><span style="color: black">xs</span> <span style="color: #2e2d31">++</span> <span style="color: black">ys</span><span style="color: #2e2d31">)</span> <span style="color: #2e2d31">=</span> <a href="List.pf.html#length37"><span style="color: #086c3c">length</span></a><span style="color: #2e2d31">(</span><span style="color: black">xs</span><span style="color: #2e2d31">)</span> <span style="color: #2e2d31">+</span> <a href="List.pf.html#length37"><span style="color: #086c3c">length</span></a><span style="color: #2e2d31">(</span><span style="color: black">ys</span><span style="color: #2e2d31">)</span>
<span style="color: #d85311">proof</span>
  <span style="color: #d85311">arbitrary</span> <span style="color: black">U</span> <span style="color: #2e2d31">:</span><span style="color: #0f95af">type</span>
  <span style="color: #d85311">enable</span> <span style="color: #2e2d31">{</span><a href="List.pf.html#length37"><span style="color: #086c3c">length</span></a><span style="color: #2e2d31">,</span> <a href="List.pf.html#operator++38"><span style="color: #086c3c">operator++</span></a><span style="color: #2e2d31">,</span> <a href="Nat.pf.html#operator+212"><span style="color: #086c3c">operator +</span></a><span style="color: #2e2d31">,</span> <a href="Nat.pf.html#operator+212"><span style="color: #086c3c">operator +</span></a><span style="color: #2e2d31">}</span>
  <span style="color: #d85311">induction</span> <a href="List.pf.html#List36"><span style="color: #0f95af">List</span></a><span style="color: #2e2d31">&lt;</span><span style="color: black">U</span><span style="color: #2e2d31">&gt;</span>
  <span style="color: #d85311">case</span> <span style="color: black">empty</span> <span style="color: #2e2d31">{</span>
    <span style="color: #d85311">arbitrary</span> <span style="color: black">ys</span><span style="color: #2e2d31">:</span><a href="List.pf.html#List36"><span style="color: #0f95af">List</span></a><span style="color: #2e2d31">&lt;</span><span style="color: black">U</span><span style="color: #2e2d31">&gt;</span>
    <span style="color: #d85311">conclude</span> <a href="List.pf.html#length37"><span style="color: #086c3c">length</span></a><span style="color: #2e2d31">(</span><span style="color: #2e2d31">@</span><span style="color: black">empty</span><span style="color: #2e2d31">&lt;</span><span style="color: black">U</span><span style="color: #2e2d31">&gt;</span> <span style="color: #2e2d31">++</span> <span style="color: black">ys</span><span style="color: #2e2d31">)</span> <span style="color: #2e2d31">=</span> <a href="List.pf.html#length37"><span style="color: #086c3c">length</span></a><span style="color: #2e2d31">(</span><span style="color: #2e2d31">@</span><span style="color: black">empty</span><span style="color: #2e2d31">&lt;</span><span style="color: black">U</span><span style="color: #2e2d31">&gt;</span><span style="color: #2e2d31">)</span> <span style="color: #2e2d31">+</span> <a href="List.pf.html#length37"><span style="color: #086c3c">length</span></a><span style="color: #2e2d31">(</span><span style="color: black">ys</span><span style="color: #2e2d31">)</span>  <span style="color: #d85311">by</span> <span style="color: #2e2d31">.</span>
  <span style="color: #2e2d31">}</span>
  <span style="color: #d85311">case</span> <span style="color: black">node</span><span style="color: #2e2d31">(</span><span style="color: black">n</span><span style="color: #2e2d31">,</span> <span style="color: black">xs'</span><span style="color: #2e2d31">)</span> <span style="color: #d85311">suppose</span> <span style="color: black">IH</span> <span style="color: #2e2d31">{</span>
    <span style="color: #d85311">arbitrary</span> <span style="color: black">ys</span> <span style="color: #2e2d31">:</span><a href="List.pf.html#List36"><span style="color: #0f95af">List</span></a><span style="color: #2e2d31">&lt;</span><span style="color: black">U</span><span style="color: #2e2d31">&gt;</span>
    <span style="color: #d85311">equations</span>
      <a href="List.pf.html#length37"><span style="color: #086c3c">length</span></a><span style="color: #2e2d31">(</span><span style="color: black">node</span><span style="color: #2e2d31">(</span><span style="color: black">n</span><span style="color: #2e2d31">,</span><span style="color: black">xs'</span><span style="color: #2e2d31">)</span> <span style="color: #2e2d31">++</span> <span style="color: black">ys</span><span style="color: #2e2d31">)</span>
          <span style="color: #2e2d31">=</span> <span style="color: #9329ab">1</span> <span style="color: #2e2d31">+</span> <a href="List.pf.html#length37"><span style="color: #086c3c">length</span></a><span style="color: #2e2d31">(</span><span style="color: black">xs'</span> <span style="color: #2e2d31">++</span> <span style="color: black">ys</span><span style="color: #2e2d31">)</span>              <span style="color: #d85311">by</span> <span style="color: #2e2d31">.</span>
      <span style="color: #2e2d31">...</span> <span style="color: #2e2d31">=</span> <span style="color: #9329ab">1</span> <span style="color: #2e2d31">+</span> <span style="color: #2e2d31">(</span><a href="List.pf.html#length37"><span style="color: #086c3c">length</span></a><span style="color: #2e2d31">(</span><span style="color: black">xs'</span><span style="color: #2e2d31">)</span> <span style="color: #2e2d31">+</span> <a href="List.pf.html#length37"><span style="color: #086c3c">length</span></a><span style="color: #2e2d31">(</span><span style="color: black">ys</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">)</span>     <span style="color: #d85311">by</span> <span style="color: #d85311">rewrite</span> <span style="color: black">IH</span><span style="color: #2e2d31">[</span><span style="color: black">ys</span><span style="color: #2e2d31">]</span>
      <span style="color: #2e2d31">...</span> <span style="color: #2e2d31">=</span> <a href="List.pf.html#length37"><span style="color: #086c3c">length</span></a><span style="color: #2e2d31">(</span><span style="color: black">node</span><span style="color: #2e2d31">(</span><span style="color: black">n</span><span style="color: #2e2d31">,</span><span style="color: black">xs'</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">)</span> <span style="color: #2e2d31">+</span> <a href="List.pf.html#length37"><span style="color: #086c3c">length</span></a><span style="color: #2e2d31">(</span><span style="color: black">ys</span><span style="color: #2e2d31">)</span>   <span style="color: #d85311">by</span> <span style="color: #2e2d31">.</span>
  <span style="color: #2e2d31">}</span>
<span style="color: #d85311">end</span>

<span style="color: #d85311">theorem</span> <a href="List.pf.html#append_assoc62"><span id="append_assoc62" style="color: #086c3c">append_assoc</span></a><span style="color: #2e2d31">:</span> <span style="color: #d85311">all</span> <span style="color: black">U</span> <span style="color: #2e2d31">:</span><span style="color: #0f95af">type</span><span style="color: #2e2d31">.</span> <span style="color: #d85311">all</span> <span style="color: black">xs</span> <span style="color: #2e2d31">:</span><a href="List.pf.html#List36"><span style="color: #0f95af">List</span></a><span style="color: #2e2d31">&lt;</span><span style="color: black">U</span><span style="color: #2e2d31">&gt;</span><span style="color: #2e2d31">,</span> <span style="color: black">ys</span> <span style="color: #2e2d31">:</span><a href="List.pf.html#List36"><span style="color: #0f95af">List</span></a><span style="color: #2e2d31">&lt;</span><span style="color: black">U</span><span style="color: #2e2d31">&gt;</span><span style="color: #2e2d31">,</span> <span style="color: black">zs</span><span style="color: #2e2d31">:</span><a href="List.pf.html#List36"><span style="color: #0f95af">List</span></a><span style="color: #2e2d31">&lt;</span><span style="color: black">U</span><span style="color: #2e2d31">&gt;</span><span style="color: #2e2d31">.</span>
  <span style="color: #2e2d31">(</span><span style="color: black">xs</span> <span style="color: #2e2d31">++</span> <span style="color: black">ys</span><span style="color: #2e2d31">)</span> <span style="color: #2e2d31">++</span> <span style="color: black">zs</span> <span style="color: #2e2d31">=</span> <span style="color: black">xs</span> <span style="color: #2e2d31">++</span> <span style="color: #2e2d31">(</span><span style="color: black">ys</span> <span style="color: #2e2d31">++</span> <span style="color: black">zs</span><span style="color: #2e2d31">)</span>
<span style="color: #d85311">proof</span>
  <span style="color: #d85311">arbitrary</span> <span style="color: black">U</span> <span style="color: #2e2d31">:</span><span style="color: #0f95af">type</span>
  <span style="color: #d85311">enable</span> <span style="color: #2e2d31">{</span><a href="List.pf.html#operator++38"><span style="color: #086c3c">operator++</span></a><span style="color: #2e2d31">}</span>
  <span style="color: #d85311">induction</span> <a href="List.pf.html#List36"><span style="color: #0f95af">List</span></a><span style="color: #2e2d31">&lt;</span><span style="color: black">U</span><span style="color: #2e2d31">&gt;</span>
  <span style="color: #d85311">case</span> <span style="color: black">empty</span> <span style="color: #2e2d31">{</span>
    <span style="color: #d85311">arbitrary</span> <span style="color: black">ys</span> <span style="color: #2e2d31">:</span><a href="List.pf.html#List36"><span style="color: #0f95af">List</span></a><span style="color: #2e2d31">&lt;</span><span style="color: black">U</span><span style="color: #2e2d31">&gt;</span><span style="color: #2e2d31">,</span> <span style="color: black">zs</span> <span style="color: #2e2d31">:</span><a href="List.pf.html#List36"><span style="color: #0f95af">List</span></a><span style="color: #2e2d31">&lt;</span><span style="color: black">U</span><span style="color: #2e2d31">&gt;</span>
    <span style="color: #d85311">conclude</span> <span style="color: #2e2d31">(</span><span style="color: #2e2d31">@</span><span style="color: black">empty</span><span style="color: #2e2d31">&lt;</span><span style="color: black">U</span><span style="color: #2e2d31">&gt;</span> <span style="color: #2e2d31">++</span> <span style="color: black">ys</span><span style="color: #2e2d31">)</span> <span style="color: #2e2d31">++</span> <span style="color: black">zs</span> <span style="color: #2e2d31">=</span> <span style="color: black">empty</span> <span style="color: #2e2d31">++</span> <span style="color: #2e2d31">(</span><span style="color: black">ys</span> <span style="color: #2e2d31">++</span> <span style="color: black">zs</span><span style="color: #2e2d31">)</span>  <span style="color: #d85311">by</span> <span style="color: #2e2d31">.</span>
  <span style="color: #2e2d31">}</span>
  <span style="color: #d85311">case</span> <span style="color: black">node</span><span style="color: #2e2d31">(</span><span style="color: black">n</span><span style="color: #2e2d31">,</span> <span style="color: black">xs'</span><span style="color: #2e2d31">)</span> <span style="color: #d85311">suppose</span> <span style="color: black">IH</span> <span style="color: #2e2d31">{</span>
    <span style="color: #d85311">arbitrary</span> <span style="color: black">ys</span> <span style="color: #2e2d31">:</span><a href="List.pf.html#List36"><span style="color: #0f95af">List</span></a><span style="color: #2e2d31">&lt;</span><span style="color: black">U</span><span style="color: #2e2d31">&gt;</span><span style="color: #2e2d31">,</span> <span style="color: black">zs</span> <span style="color: #2e2d31">:</span><a href="List.pf.html#List36"><span style="color: #0f95af">List</span></a><span style="color: #2e2d31">&lt;</span><span style="color: black">U</span><span style="color: #2e2d31">&gt;</span>
    <span style="color: #d85311">equations</span>
      <span style="color: #2e2d31">(</span><span style="color: black">node</span><span style="color: #2e2d31">(</span><span style="color: black">n</span><span style="color: #2e2d31">,</span><span style="color: black">xs'</span><span style="color: #2e2d31">)</span> <span style="color: #2e2d31">++</span> <span style="color: black">ys</span><span style="color: #2e2d31">)</span> <span style="color: #2e2d31">++</span> <span style="color: black">zs</span>
          <span style="color: #2e2d31">=</span> <span style="color: black">node</span><span style="color: #2e2d31">(</span><span style="color: black">n</span><span style="color: #2e2d31">,</span> <span style="color: #2e2d31">(</span><span style="color: black">xs'</span> <span style="color: #2e2d31">++</span> <span style="color: black">ys</span><span style="color: #2e2d31">)</span> <span style="color: #2e2d31">++</span> <span style="color: black">zs</span><span style="color: #2e2d31">)</span>  <span style="color: #d85311">by</span> <span style="color: #2e2d31">.</span>
      <span style="color: #2e2d31">...</span> <span style="color: #2e2d31">=</span> <span style="color: black">node</span><span style="color: #2e2d31">(</span><span style="color: black">n</span><span style="color: #2e2d31">,</span><span style="color: black">xs'</span><span style="color: #2e2d31">)</span> <span style="color: #2e2d31">++</span> <span style="color: #2e2d31">(</span><span style="color: black">ys</span> <span style="color: #2e2d31">++</span> <span style="color: black">zs</span><span style="color: #2e2d31">)</span>  <span style="color: #d85311">by</span> <span style="color: #d85311">rewrite</span> <span style="color: black">IH</span><span style="color: #2e2d31">[</span><span style="color: black">ys</span><span style="color: #2e2d31">,</span><span style="color: black">zs</span><span style="color: #2e2d31">]</span>
  <span style="color: #2e2d31">}</span>
<span style="color: #d85311">end</span>

<span style="color: #d85311">associative</span> <a href="List.pf.html#operator++38"><span style="color: #086c3c">operator++</span></a> <span style="color: #2e2d31">&lt;</span><span style="color: black">T</span><span style="color: #2e2d31">&gt;</span> <span style="color: #d85311">in</span> <a href="List.pf.html#List36"><span style="color: #0f95af">List</span></a><span style="color: #2e2d31">&lt;</span><span style="color: black">T</span><span style="color: #2e2d31">&gt;</span>

<span style="color: #d85311">theorem</span> <a href="List.pf.html#append_empty63"><span id="append_empty63" style="color: #086c3c">append_empty</span></a><span style="color: #2e2d31">:</span> <span style="color: #d85311">all</span> <span style="color: black">U</span> <span style="color: #2e2d31">:</span><span style="color: #0f95af">type</span><span style="color: #2e2d31">.</span> <span style="color: #d85311">all</span> <span style="color: black">xs</span> <span style="color: #2e2d31">:</span><a href="List.pf.html#List36"><span style="color: #0f95af">List</span></a><span style="color: #2e2d31">&lt;</span><span style="color: black">U</span><span style="color: #2e2d31">&gt;</span><span style="color: #2e2d31">.</span>
  <span style="color: black">xs</span> <span style="color: #2e2d31">++</span> <span style="color: #2e2d31">[</span><span style="color: #2e2d31">]</span> <span style="color: #2e2d31">=</span> <span style="color: black">xs</span>
<span style="color: #d85311">proof</span>
  <span style="color: #d85311">arbitrary</span> <span style="color: black">U</span><span style="color: #2e2d31">:</span><span style="color: #0f95af">type</span>
  <span style="color: #d85311">induction</span> <a href="List.pf.html#List36"><span style="color: #0f95af">List</span></a><span style="color: #2e2d31">&lt;</span><span style="color: black">U</span><span style="color: #2e2d31">&gt;</span>
  <span style="color: #d85311">case</span> <span style="color: black">empty</span> <span style="color: #2e2d31">{</span>
    <span style="color: #d85311">conclude</span> <span style="color: #2e2d31">(</span><span style="color: black">empty</span> <span style="color: #2e2d31">:</span> <a href="List.pf.html#List36"><span style="color: #0f95af">List</span></a><span style="color: #2e2d31">&lt;</span><span style="color: black">U</span><span style="color: #2e2d31">&gt;</span><span style="color: #2e2d31">)</span> <span style="color: #2e2d31">++</span> <span style="color: black">empty</span> <span style="color: #2e2d31">=</span> <span style="color: black">empty</span>  <span style="color: #d85311">by</span> <span style="color: #d85311">definition</span> <a href="List.pf.html#operator++38"><span style="color: #086c3c">operator++</span></a>
  <span style="color: #2e2d31">}</span>
  <span style="color: #d85311">case</span> <span style="color: black">node</span><span style="color: #2e2d31">(</span><span style="color: black">n</span><span style="color: #2e2d31">,</span> <span style="color: black">xs'</span><span style="color: #2e2d31">)</span> <span style="color: #d85311">suppose</span> <span style="color: black">IH</span><span style="color: #2e2d31">:</span> <span style="color: black">xs'</span> <span style="color: #2e2d31">++</span> <span style="color: black">empty</span> <span style="color: #2e2d31">=</span> <span style="color: black">xs'</span> <span style="color: #2e2d31">{</span>
    <span style="color: #d85311">equations</span>
      <span style="color: black">node</span><span style="color: #2e2d31">(</span><span style="color: black">n</span><span style="color: #2e2d31">,</span><span style="color: black">xs'</span><span style="color: #2e2d31">)</span> <span style="color: #2e2d31">++</span> <span style="color: black">empty</span>
          <span style="color: #2e2d31">=</span> <span style="color: black">node</span><span style="color: #2e2d31">(</span><span style="color: black">n</span><span style="color: #2e2d31">,</span> <span style="color: black">xs'</span> <span style="color: #2e2d31">++</span> <span style="color: black">empty</span><span style="color: #2e2d31">)</span>    <span style="color: #d85311">by</span> <span style="color: #d85311">definition</span> <a href="List.pf.html#operator++38"><span style="color: #086c3c">operator++</span></a>
      <span style="color: #2e2d31">...</span> <span style="color: #2e2d31">=</span> <span style="color: black">node</span><span style="color: #2e2d31">(</span><span style="color: black">n</span><span style="color: #2e2d31">,</span><span style="color: black">xs'</span><span style="color: #2e2d31">)</span>              <span style="color: #d85311">by</span> <span style="color: #d85311">rewrite</span> <span style="color: black">IH</span>
  <span style="color: #2e2d31">}</span>
<span style="color: #d85311">end</span>

<span style="color: #d85311">theorem</span> <a href="List.pf.html#length_reverse64"><span id="length_reverse64" style="color: #086c3c">length_reverse</span></a><span style="color: #2e2d31">:</span> <span style="color: #d85311">all</span> <span style="color: black">U</span> <span style="color: #2e2d31">:</span><span style="color: #0f95af">type</span><span style="color: #2e2d31">.</span> <span style="color: #d85311">all</span> <span style="color: black">xs</span> <span style="color: #2e2d31">:</span><a href="List.pf.html#List36"><span style="color: #0f95af">List</span></a><span style="color: #2e2d31">&lt;</span><span style="color: black">U</span><span style="color: #2e2d31">&gt;</span><span style="color: #2e2d31">.</span>
  <a href="List.pf.html#length37"><span style="color: #086c3c">length</span></a><span style="color: #2e2d31">(</span><a href="List.pf.html#reverse39"><span style="color: #086c3c">reverse</span></a><span style="color: #2e2d31">(</span><span style="color: black">xs</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">)</span> <span style="color: #2e2d31">=</span> <a href="List.pf.html#length37"><span style="color: #086c3c">length</span></a><span style="color: #2e2d31">(</span><span style="color: black">xs</span><span style="color: #2e2d31">)</span>
<span style="color: #d85311">proof</span>
  <span style="color: #d85311">arbitrary</span> <span style="color: black">U</span> <span style="color: #2e2d31">:</span> <span style="color: #0f95af">type</span>
  <span style="color: #d85311">induction</span> <a href="List.pf.html#List36"><span style="color: #0f95af">List</span></a><span style="color: #2e2d31">&lt;</span><span style="color: black">U</span><span style="color: #2e2d31">&gt;</span>
  <span style="color: #d85311">case</span> <span style="color: black">empty</span> <span style="color: #2e2d31">{</span>
    <span style="color: #d85311">conclude</span> <a href="List.pf.html#length37"><span style="color: #086c3c">length</span></a><span style="color: #2e2d31">(</span><a href="List.pf.html#reverse39"><span style="color: #086c3c">reverse</span></a><span style="color: #2e2d31">(</span><span style="color: #2e2d31">@</span><span style="color: black">empty</span><span style="color: #2e2d31">&lt;</span><span style="color: black">U</span><span style="color: #2e2d31">&gt;</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">)</span> <span style="color: #2e2d31">=</span> <a href="List.pf.html#length37"><span style="color: #086c3c">length</span></a><span style="color: #2e2d31">(</span><span style="color: #2e2d31">@</span><span style="color: black">empty</span><span style="color: #2e2d31">&lt;</span><span style="color: black">U</span><span style="color: #2e2d31">&gt;</span><span style="color: #2e2d31">)</span>
        <span style="color: #d85311">by</span> <span style="color: #d85311">definition</span> <a href="List.pf.html#reverse39"><span style="color: #086c3c">reverse</span></a>
  <span style="color: #2e2d31">}</span>
  <span style="color: #d85311">case</span> <span style="color: black">node</span><span style="color: #2e2d31">(</span><span style="color: black">n</span><span style="color: #2e2d31">,</span> <span style="color: black">xs'</span><span style="color: #2e2d31">)</span> <span style="color: #d85311">suppose</span> <span style="color: black">IH</span> <span style="color: #2e2d31">{</span>
    <span style="color: #d85311">enable</span> <span style="color: #2e2d31">{</span><a href="List.pf.html#length37"><span style="color: #086c3c">length</span></a><span style="color: #2e2d31">,</span> <a href="List.pf.html#reverse39"><span style="color: #086c3c">reverse</span></a><span style="color: #2e2d31">,</span> <a href="Nat.pf.html#operator+212"><span style="color: #086c3c">operator +</span></a><span style="color: #2e2d31">}</span>
    <span style="color: #d85311">equations</span>
      <a href="List.pf.html#length37"><span style="color: #086c3c">length</span></a><span style="color: #2e2d31">(</span><a href="List.pf.html#reverse39"><span style="color: #086c3c">reverse</span></a><span style="color: #2e2d31">(</span><span style="color: black">node</span><span style="color: #2e2d31">(</span><span style="color: black">n</span><span style="color: #2e2d31">,</span><span style="color: black">xs'</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">)</span>
          <span style="color: #2e2d31">=</span> <a href="List.pf.html#length37"><span style="color: #086c3c">length</span></a><span style="color: #2e2d31">(</span><a href="List.pf.html#reverse39"><span style="color: #086c3c">reverse</span></a><span style="color: #2e2d31">(</span><span style="color: black">xs'</span><span style="color: #2e2d31">)</span> <span style="color: #2e2d31">++</span> <span style="color: black">node</span><span style="color: #2e2d31">(</span><span style="color: black">n</span><span style="color: #2e2d31">,</span><span style="color: black">empty</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">)</span> <span style="color: #d85311">by</span> <span style="color: #2e2d31">.</span>
      <span style="color: #2e2d31">...</span> <span style="color: #2e2d31">=</span> <a href="List.pf.html#length37"><span style="color: #086c3c">length</span></a><span style="color: #2e2d31">(</span><a href="List.pf.html#reverse39"><span style="color: #086c3c">reverse</span></a><span style="color: #2e2d31">(</span><span style="color: black">xs'</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">)</span> <span style="color: #2e2d31">+</span> <a href="List.pf.html#length37"><span style="color: #086c3c">length</span></a><span style="color: #2e2d31">(</span><span style="color: black">node</span><span style="color: #2e2d31">(</span><span style="color: black">n</span><span style="color: #2e2d31">,</span><span style="color: black">empty</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">)</span>
                    <span style="color: #d85311">by</span> <span style="color: #d85311">rewrite</span> <a href="List.pf.html#length_append61"><span style="color: #086c3c">length_append</span></a><span style="color: #2e2d31">&lt;</span><span style="color: black">U</span><span style="color: #2e2d31">&gt;</span><span style="color: #2e2d31">[</span><a href="List.pf.html#reverse39"><span style="color: #086c3c">reverse</span></a><span style="color: #2e2d31">(</span><span style="color: black">xs'</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">]</span><span style="color: #2e2d31">[</span><span style="color: black">node</span><span style="color: #2e2d31">(</span><span style="color: black">n</span><span style="color: #2e2d31">,</span><span style="color: black">empty</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">]</span>
      <span style="color: #2e2d31">...</span> <span style="color: #2e2d31">=</span> <a href="List.pf.html#length37"><span style="color: #086c3c">length</span></a><span style="color: #2e2d31">(</span><span style="color: black">xs'</span><span style="color: #2e2d31">)</span> <span style="color: #2e2d31">+</span> <span style="color: #9329ab">1</span>        <span style="color: #d85311">by</span> <span style="color: #d85311">rewrite</span> <span style="color: black">IH</span>
      <span style="color: #2e2d31">...</span> <span style="color: #2e2d31">=</span> <a href="List.pf.html#length37"><span style="color: #086c3c">length</span></a><span style="color: #2e2d31">(</span><span style="color: black">node</span><span style="color: #2e2d31">(</span><span style="color: black">n</span><span style="color: #2e2d31">,</span><span style="color: black">xs'</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">)</span>    <span style="color: #d85311">by</span> <span style="color: #d85311">rewrite</span> <a href="Nat.pf.html#add_one240"><span style="color: #086c3c">add_one</span></a><span style="color: #2e2d31">[</span><a href="List.pf.html#length37"><span style="color: #086c3c">length</span></a><span style="color: #2e2d31">(</span><span style="color: black">xs'</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">]</span>
  <span style="color: #2e2d31">}</span>
<span style="color: #d85311">end</span>


<span style="color: #d85311">theorem</span> <a href="List.pf.html#length_map65"><span id="length_map65" style="color: #086c3c">length_map</span></a><span style="color: #2e2d31">:</span> <span style="color: #d85311">all</span> <span style="color: black">T</span><span style="color: #2e2d31">:</span><span style="color: #0f95af">type</span><span style="color: #2e2d31">.</span> <span style="color: #d85311">all</span> <span style="color: black">f</span><span style="color: #2e2d31">:</span><span style="color: #0f95af">fn</span> <span style="color: black">T</span><span style="color: #2e2d31">-&gt;</span><span style="color: black">T</span><span style="color: #2e2d31">.</span> <span style="color: #d85311">all</span> <span style="color: black">xs</span><span style="color: #2e2d31">:</span><a href="List.pf.html#List36"><span style="color: #0f95af">List</span></a><span style="color: #2e2d31">&lt;</span><span style="color: black">T</span><span style="color: #2e2d31">&gt;</span><span style="color: #2e2d31">.</span>
  <a href="List.pf.html#length37"><span style="color: #086c3c">length</span></a><span style="color: #2e2d31">(</span><a href="List.pf.html#map42"><span style="color: #086c3c">map</span></a><span style="color: #2e2d31">(</span><span style="color: black">xs</span><span style="color: #2e2d31">,</span> <span style="color: black">f</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">)</span> <span style="color: #2e2d31">=</span> <a href="List.pf.html#length37"><span style="color: #086c3c">length</span></a><span style="color: #2e2d31">(</span><span style="color: black">xs</span><span style="color: #2e2d31">)</span>
<span style="color: #d85311">proof</span>
  <span style="color: #d85311">arbitrary</span> <span style="color: black">T</span><span style="color: #2e2d31">:</span><span style="color: #0f95af">type</span>
  <span style="color: #d85311">arbitrary</span> <span style="color: black">f</span><span style="color: #2e2d31">:</span><span style="color: #0f95af">fn</span> <span style="color: black">T</span><span style="color: #2e2d31">-&gt;</span><span style="color: black">T</span>
  <span style="color: #d85311">induction</span> <a href="List.pf.html#List36"><span style="color: #0f95af">List</span></a><span style="color: #2e2d31">&lt;</span><span style="color: black">T</span><span style="color: #2e2d31">&gt;</span>
  <span style="color: #d85311">case</span> <span style="color: black">empty</span> <span style="color: #2e2d31">{</span>
    <span style="color: #d85311">definition</span> <a href="List.pf.html#map42"><span style="color: #086c3c">map</span></a>
  <span style="color: #2e2d31">}</span>
  <span style="color: #d85311">case</span> <span style="color: black">node</span><span style="color: #2e2d31">(</span><span style="color: black">x</span><span style="color: #2e2d31">,</span> <span style="color: black">ls'</span><span style="color: #2e2d31">)</span> <span style="color: #d85311">suppose</span> <span style="color: black">IH</span> <span style="color: #2e2d31">{</span>
    <span style="color: #d85311">equations</span>
      <a href="List.pf.html#length37"><span style="color: #086c3c">length</span></a><span style="color: #2e2d31">(</span><a href="List.pf.html#map42"><span style="color: #086c3c">map</span></a><span style="color: #2e2d31">(</span><span style="color: black">node</span><span style="color: #2e2d31">(</span><span style="color: black">x</span><span style="color: #2e2d31">,</span><span style="color: black">ls'</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">,</span><span style="color: black">f</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">)</span>
          <span style="color: #2e2d31">=</span> <span style="color: #9329ab">1</span> <span style="color: #2e2d31">+</span> <a href="List.pf.html#length37"><span style="color: #086c3c">length</span></a><span style="color: #2e2d31">(</span><a href="List.pf.html#map42"><span style="color: #086c3c">map</span></a><span style="color: #2e2d31">(</span><span style="color: black">ls'</span><span style="color: #2e2d31">,</span><span style="color: black">f</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">)</span>  <span style="color: #d85311">by</span> <span style="color: #d85311">definition</span> <span style="color: #2e2d31">{</span><a href="List.pf.html#map42"><span style="color: #086c3c">map</span></a><span style="color: #2e2d31">,</span> <a href="List.pf.html#length37"><span style="color: #086c3c">length</span></a><span style="color: #2e2d31">}</span>
      <span style="color: #2e2d31">...</span> <span style="color: #2e2d31">=</span> <span style="color: #9329ab">1</span> <span style="color: #2e2d31">+</span> <a href="List.pf.html#length37"><span style="color: #086c3c">length</span></a><span style="color: #2e2d31">(</span><span style="color: black">ls'</span><span style="color: #2e2d31">)</span>         <span style="color: #d85311">by</span> <span style="color: #d85311">rewrite</span> <span style="color: black">IH</span>
      <span style="color: #2e2d31">...</span> <span style="color: #2e2d31">=</span><span style="color: #2e2d31">#</span> <a href="List.pf.html#length37"><span style="color: #086c3c">length</span></a><span style="color: #2e2d31">(</span><span style="color: black">node</span><span style="color: #2e2d31">(</span><span style="color: black">x</span><span style="color: #2e2d31">,</span><span style="color: black">ls'</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">)</span> <span style="color: #2e2d31">#</span>     <span style="color: #d85311">by</span> <span style="color: #d85311">definition</span> <span style="color: #2e2d31">{</span><a href="List.pf.html#length37"><span style="color: #086c3c">length</span></a><span style="color: #2e2d31">}</span>
  <span style="color: #2e2d31">}</span>
<span style="color: #d85311">end</span>

<span style="color: #d85311">theorem</span> <a href="List.pf.html#map_id66"><span id="map_id66" style="color: #086c3c">map_id</span></a><span style="color: #2e2d31">:</span> <span style="color: #d85311">all</span> <span style="color: black">T</span><span style="color: #2e2d31">:</span><span style="color: #0f95af">type</span><span style="color: #2e2d31">.</span> <span style="color: #d85311">all</span> <span style="color: black">f</span><span style="color: #2e2d31">:</span><span style="color: #0f95af">fn</span> <span style="color: black">T</span><span style="color: #2e2d31">-&gt;</span><span style="color: black">T</span><span style="color: #2e2d31">.</span> <span style="color: #d85311">if</span> <span style="color: #2e2d31">(</span><span style="color: #d85311">all</span> <span style="color: black">x</span><span style="color: #2e2d31">:</span><span style="color: black">T</span><span style="color: #2e2d31">.</span> <span style="color: black">f</span><span style="color: #2e2d31">(</span><span style="color: black">x</span><span style="color: #2e2d31">)</span> <span style="color: #2e2d31">=</span> <span style="color: black">x</span><span style="color: #2e2d31">)</span> <span style="color: #d85311">then</span>
   <span style="color: #d85311">all</span> <span style="color: black">xs</span><span style="color: #2e2d31">:</span><a href="List.pf.html#List36"><span style="color: #0f95af">List</span></a><span style="color: #2e2d31">&lt;</span><span style="color: black">T</span><span style="color: #2e2d31">&gt;</span><span style="color: #2e2d31">.</span> <a href="List.pf.html#map42"><span style="color: #086c3c">map</span></a><span style="color: #2e2d31">(</span><span style="color: black">xs</span><span style="color: #2e2d31">,</span> <span style="color: black">f</span><span style="color: #2e2d31">)</span> <span style="color: #2e2d31">=</span> <span style="color: black">xs</span>
<span style="color: #d85311">proof</span>
  <span style="color: #d85311">arbitrary</span> <span style="color: black">T</span><span style="color: #2e2d31">:</span><span style="color: #0f95af">type</span>
  <span style="color: #d85311">arbitrary</span> <span style="color: black">f</span><span style="color: #2e2d31">:</span><span style="color: #0f95af">fn</span> <span style="color: black">T</span><span style="color: #2e2d31">-&gt;</span><span style="color: black">T</span>
  <span style="color: #d85311">suppose</span> <span style="color: black">fxx</span><span style="color: #2e2d31">:</span> <span style="color: #2e2d31">(</span><span style="color: #d85311">all</span> <span style="color: black">x</span><span style="color: #2e2d31">:</span><span style="color: black">T</span><span style="color: #2e2d31">.</span> <span style="color: black">f</span><span style="color: #2e2d31">(</span><span style="color: black">x</span><span style="color: #2e2d31">)</span> <span style="color: #2e2d31">=</span> <span style="color: black">x</span><span style="color: #2e2d31">)</span>
  <span style="color: #d85311">induction</span> <a href="List.pf.html#List36"><span style="color: #0f95af">List</span></a><span style="color: #2e2d31">&lt;</span><span style="color: black">T</span><span style="color: #2e2d31">&gt;</span>
  <span style="color: #d85311">case</span> <span style="color: black">empty</span> <span style="color: #2e2d31">{</span>
    <span style="color: #d85311">conclude</span> <a href="List.pf.html#map42"><span style="color: #086c3c">map</span></a><span style="color: #2e2d31">(</span><span style="color: #2e2d31">@</span><span style="color: black">empty</span><span style="color: #2e2d31">&lt;</span><span style="color: black">T</span><span style="color: #2e2d31">&gt;</span><span style="color: #2e2d31">,</span> <span style="color: black">f</span><span style="color: #2e2d31">)</span> <span style="color: #2e2d31">=</span> <span style="color: black">empty</span>      <span style="color: #d85311">by</span> <span style="color: #d85311">definition</span> <a href="List.pf.html#map42"><span style="color: #086c3c">map</span></a>
  <span style="color: #2e2d31">}</span>
  <span style="color: #d85311">case</span> <span style="color: black">node</span><span style="color: #2e2d31">(</span><span style="color: black">x</span><span style="color: #2e2d31">,</span> <span style="color: black">ls</span><span style="color: #2e2d31">)</span> <span style="color: #d85311">suppose</span> <span style="color: black">IH</span> <span style="color: #2e2d31">{</span>
    <span style="color: #d85311">equations</span>
      <a href="List.pf.html#map42"><span style="color: #086c3c">map</span></a><span style="color: #2e2d31">(</span><span style="color: black">node</span><span style="color: #2e2d31">(</span><span style="color: black">x</span><span style="color: #2e2d31">,</span><span style="color: black">ls</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">,</span><span style="color: black">f</span><span style="color: #2e2d31">)</span>
          <span style="color: #2e2d31">=</span> <span style="color: black">node</span><span style="color: #2e2d31">(</span><span style="color: black">f</span><span style="color: #2e2d31">(</span><span style="color: black">x</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">,</span> <a href="List.pf.html#map42"><span style="color: #086c3c">map</span></a><span style="color: #2e2d31">(</span><span style="color: black">ls</span><span style="color: #2e2d31">,</span> <span style="color: black">f</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">)</span> <span style="color: #d85311">by</span> <span style="color: #d85311">definition</span> <a href="List.pf.html#map42"><span style="color: #086c3c">map</span></a>
      <span style="color: #2e2d31">...</span> <span style="color: #2e2d31">=</span> <span style="color: black">node</span><span style="color: #2e2d31">(</span><span style="color: black">x</span><span style="color: #2e2d31">,</span> <a href="List.pf.html#map42"><span style="color: #086c3c">map</span></a><span style="color: #2e2d31">(</span><span style="color: black">ls</span><span style="color: #2e2d31">,</span> <span style="color: black">f</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">)</span>    <span style="color: #d85311">by</span> <span style="color: #d85311">rewrite</span> <span style="color: black">fxx</span><span style="color: #2e2d31">[</span><span style="color: black">x</span><span style="color: #2e2d31">]</span>
      <span style="color: #2e2d31">...</span> <span style="color: #2e2d31">=</span> <span style="color: black">node</span><span style="color: #2e2d31">(</span><span style="color: black">x</span><span style="color: #2e2d31">,</span><span style="color: black">ls</span><span style="color: #2e2d31">)</span>             <span style="color: #d85311">by</span> <span style="color: #d85311">rewrite</span> <span style="color: black">IH</span>
  <span style="color: #2e2d31">}</span>
<span style="color: #d85311">end</span>

<span style="color: #d85311">define</span> <span style="color: black">id_nat</span> <span style="color: #2e2d31">:</span> <span style="color: #0f95af">fn</span> <a href="Nat.pf.html#Nat211"><span style="color: #0f95af">Nat</span></a> <span style="color: #2e2d31">-&gt;</span> <a href="Nat.pf.html#Nat211"><span style="color: #0f95af">Nat</span></a> <span style="color: #2e2d31">=</span> <span style="color: #2e2d31">&#x03BB;</span><span style="color: black">x</span><span style="color: #2e2d31">{</span><span style="color: black">x</span><span style="color: #2e2d31">}</span>

<span style="color: #d85311">theorem</span> <a href="List.pf.html#map_append67"><span id="map_append67" style="color: #086c3c">map_append</span></a><span style="color: #2e2d31">:</span> <span style="color: #d85311">all</span> <span style="color: black">T</span><span style="color: #2e2d31">:</span><span style="color: #0f95af">type</span><span style="color: #2e2d31">.</span> <span style="color: #d85311">all</span> <span style="color: black">f</span><span style="color: #2e2d31">:</span> <span style="color: #0f95af">fn</span> <span style="color: black">T</span><span style="color: #2e2d31">-&gt;</span><span style="color: black">T</span><span style="color: #2e2d31">,</span> <span style="color: black">ys</span><span style="color: #2e2d31">:</span><a href="List.pf.html#List36"><span style="color: #0f95af">List</span></a><span style="color: #2e2d31">&lt;</span><span style="color: black">T</span><span style="color: #2e2d31">&gt;</span><span style="color: #2e2d31">.</span> <span style="color: #d85311">all</span> <span style="color: black">xs</span><span style="color: #2e2d31">:</span><a href="List.pf.html#List36"><span style="color: #0f95af">List</span></a><span style="color: #2e2d31">&lt;</span><span style="color: black">T</span><span style="color: #2e2d31">&gt;</span><span style="color: #2e2d31">.</span>
  <a href="List.pf.html#map42"><span style="color: #086c3c">map</span></a><span style="color: #2e2d31">(</span><span style="color: black">xs</span> <span style="color: #2e2d31">++</span> <span style="color: black">ys</span><span style="color: #2e2d31">,</span> <span style="color: black">f</span><span style="color: #2e2d31">)</span> <span style="color: #2e2d31">=</span> <a href="List.pf.html#map42"><span style="color: #086c3c">map</span></a><span style="color: #2e2d31">(</span><span style="color: black">xs</span><span style="color: #2e2d31">,</span><span style="color: black">f</span><span style="color: #2e2d31">)</span> <span style="color: #2e2d31">++</span> <a href="List.pf.html#map42"><span style="color: #086c3c">map</span></a><span style="color: #2e2d31">(</span><span style="color: black">ys</span><span style="color: #2e2d31">,</span> <span style="color: black">f</span><span style="color: #2e2d31">)</span>
<span style="color: #d85311">proof</span>
  <span style="color: #d85311">arbitrary</span> <span style="color: black">T</span><span style="color: #2e2d31">:</span><span style="color: #0f95af">type</span>
  <span style="color: #d85311">arbitrary</span> <span style="color: black">f</span><span style="color: #2e2d31">:</span><span style="color: #0f95af">fn</span> <span style="color: black">T</span><span style="color: #2e2d31">-&gt;</span><span style="color: black">T</span><span style="color: #2e2d31">,</span> <span style="color: black">ys</span><span style="color: #2e2d31">:</span><a href="List.pf.html#List36"><span style="color: #0f95af">List</span></a><span style="color: #2e2d31">&lt;</span><span style="color: black">T</span><span style="color: #2e2d31">&gt;</span>
  <span style="color: #d85311">induction</span> <a href="List.pf.html#List36"><span style="color: #0f95af">List</span></a><span style="color: #2e2d31">&lt;</span><span style="color: black">T</span><span style="color: #2e2d31">&gt;</span>
  <span style="color: #d85311">case</span> <span style="color: black">empty</span> <span style="color: #2e2d31">{</span>
    <span style="color: #d85311">equations</span>
      <a href="List.pf.html#map42"><span style="color: #086c3c">map</span></a><span style="color: #2e2d31">(</span><span style="color: #2e2d31">@</span><span style="color: black">empty</span><span style="color: #2e2d31">&lt;</span><span style="color: black">T</span><span style="color: #2e2d31">&gt;</span> <span style="color: #2e2d31">++</span> <span style="color: black">ys</span><span style="color: #2e2d31">,</span> <span style="color: black">f</span><span style="color: #2e2d31">)</span>
          <span style="color: #2e2d31">=</span> <a href="List.pf.html#map42"><span style="color: #086c3c">map</span></a><span style="color: #2e2d31">(</span><span style="color: black">ys</span><span style="color: #2e2d31">,</span> <span style="color: black">f</span><span style="color: #2e2d31">)</span>                  <span style="color: #d85311">by</span> <span style="color: #d85311">definition</span> <a href="List.pf.html#operator++38"><span style="color: #086c3c">operator++</span></a>
      <span style="color: #2e2d31">...</span> <span style="color: #2e2d31">=</span><span style="color: #2e2d31">#</span> <span style="color: #2e2d31">@</span><span style="color: black">empty</span><span style="color: #2e2d31">&lt;</span><span style="color: black">T</span><span style="color: #2e2d31">&gt;</span> <span style="color: #2e2d31">++</span> <a href="List.pf.html#map42"><span style="color: #086c3c">map</span></a><span style="color: #2e2d31">(</span><span style="color: black">ys</span><span style="color: #2e2d31">,</span> <span style="color: black">f</span><span style="color: #2e2d31">)</span> <span style="color: #2e2d31">#</span>        <span style="color: #d85311">by</span> <span style="color: #d85311">definition</span> <a href="List.pf.html#operator++38"><span style="color: #086c3c">operator++</span></a>
      <span style="color: #2e2d31">...</span> <span style="color: #2e2d31">=</span><span style="color: #2e2d31">#</span> <a href="List.pf.html#map42"><span style="color: #086c3c">map</span></a><span style="color: #2e2d31">(</span><span style="color: #2e2d31">@</span><span style="color: black">empty</span><span style="color: #2e2d31">&lt;</span><span style="color: black">T</span><span style="color: #2e2d31">&gt;</span><span style="color: #2e2d31">,</span> <span style="color: black">f</span><span style="color: #2e2d31">)</span> <span style="color: #2e2d31">++</span> <a href="List.pf.html#map42"><span style="color: #086c3c">map</span></a><span style="color: #2e2d31">(</span><span style="color: black">ys</span><span style="color: #2e2d31">,</span> <span style="color: black">f</span><span style="color: #2e2d31">)</span> <span style="color: #2e2d31">#</span>  <span style="color: #d85311">by</span> <span style="color: #d85311">definition</span> <a href="List.pf.html#map42"><span style="color: #086c3c">map</span></a>
  <span style="color: #2e2d31">}</span>
  <span style="color: #d85311">case</span> <span style="color: black">node</span><span style="color: #2e2d31">(</span><span style="color: black">x</span><span style="color: #2e2d31">,</span> <span style="color: black">xs'</span><span style="color: #2e2d31">)</span>
    <span style="color: #d85311">suppose</span> <span style="color: black">IH</span><span style="color: #2e2d31">:</span> <a href="List.pf.html#map42"><span style="color: #086c3c">map</span></a><span style="color: #2e2d31">(</span><span style="color: black">xs'</span> <span style="color: #2e2d31">++</span> <span style="color: black">ys</span><span style="color: #2e2d31">,</span> <span style="color: black">f</span><span style="color: #2e2d31">)</span> <span style="color: #2e2d31">=</span> <a href="List.pf.html#map42"><span style="color: #086c3c">map</span></a><span style="color: #2e2d31">(</span><span style="color: black">xs'</span><span style="color: #2e2d31">,</span><span style="color: black">f</span><span style="color: #2e2d31">)</span> <span style="color: #2e2d31">++</span> <a href="List.pf.html#map42"><span style="color: #086c3c">map</span></a><span style="color: #2e2d31">(</span><span style="color: black">ys</span><span style="color: #2e2d31">,</span> <span style="color: black">f</span><span style="color: #2e2d31">)</span>
  <span style="color: #2e2d31">{</span>
    <span style="color: #d85311">enable</span> <span style="color: #2e2d31">{</span><a href="List.pf.html#map42"><span style="color: #086c3c">map</span></a><span style="color: #2e2d31">,</span> <a href="List.pf.html#operator++38"><span style="color: #086c3c">operator++</span></a><span style="color: #2e2d31">}</span>
    <span style="color: #d85311">equations</span>
      <a href="List.pf.html#map42"><span style="color: #086c3c">map</span></a><span style="color: #2e2d31">(</span><span style="color: #2e2d31">(</span><span style="color: black">node</span><span style="color: #2e2d31">(</span><span style="color: black">x</span><span style="color: #2e2d31">,</span><span style="color: black">xs'</span><span style="color: #2e2d31">)</span> <span style="color: #2e2d31">++</span> <span style="color: black">ys</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">,</span> <span style="color: black">f</span><span style="color: #2e2d31">)</span>
          <span style="color: #2e2d31">=</span> <span style="color: black">node</span><span style="color: #2e2d31">(</span><span style="color: black">f</span><span style="color: #2e2d31">(</span><span style="color: black">x</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">,</span> <a href="List.pf.html#map42"><span style="color: #086c3c">map</span></a><span style="color: #2e2d31">(</span><span style="color: black">xs'</span> <span style="color: #2e2d31">++</span> <span style="color: black">ys</span><span style="color: #2e2d31">,</span> <span style="color: black">f</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">)</span>         <span style="color: #d85311">by</span> <span style="color: #2e2d31">.</span>
      <span style="color: #2e2d31">...</span> <span style="color: #2e2d31">=</span> <span style="color: black">node</span><span style="color: #2e2d31">(</span><span style="color: black">f</span><span style="color: #2e2d31">(</span><span style="color: black">x</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">,</span> <a href="List.pf.html#map42"><span style="color: #086c3c">map</span></a><span style="color: #2e2d31">(</span><span style="color: black">xs'</span><span style="color: #2e2d31">,</span><span style="color: black">f</span><span style="color: #2e2d31">)</span> <span style="color: #2e2d31">++</span> <a href="List.pf.html#map42"><span style="color: #086c3c">map</span></a><span style="color: #2e2d31">(</span><span style="color: black">ys</span><span style="color: #2e2d31">,</span><span style="color: black">f</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">)</span>   <span style="color: #d85311">by</span> <span style="color: #d85311">rewrite</span> <span style="color: black">IH</span>
      <span style="color: #2e2d31">...</span> <span style="color: #2e2d31">=</span> <a href="List.pf.html#map42"><span style="color: #086c3c">map</span></a><span style="color: #2e2d31">(</span><span style="color: black">node</span><span style="color: #2e2d31">(</span><span style="color: black">x</span><span style="color: #2e2d31">,</span><span style="color: black">xs'</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">,</span><span style="color: black">f</span><span style="color: #2e2d31">)</span> <span style="color: #2e2d31">++</span> <a href="List.pf.html#map42"><span style="color: #086c3c">map</span></a><span style="color: #2e2d31">(</span><span style="color: black">ys</span><span style="color: #2e2d31">,</span><span style="color: black">f</span><span style="color: #2e2d31">)</span>       <span style="color: #d85311">by</span> <span style="color: #2e2d31">.</span>
  <span style="color: #2e2d31">}</span>
<span style="color: #d85311">end</span>

<span style="color: #d85311">theorem</span> <a href="List.pf.html#map_compose68"><span id="map_compose68" style="color: #086c3c">map_compose</span></a><span style="color: #2e2d31">:</span> <span style="color: #d85311">all</span> <span style="color: black">T</span><span style="color: #2e2d31">:</span><span style="color: #0f95af">type</span><span style="color: #2e2d31">,</span> <span style="color: black">U</span><span style="color: #2e2d31">:</span><span style="color: #0f95af">type</span><span style="color: #2e2d31">,</span> <span style="color: black">V</span><span style="color: #2e2d31">:</span><span style="color: #0f95af">type</span><span style="color: #2e2d31">.</span> <span style="color: #d85311">all</span> <span style="color: black">f</span><span style="color: #2e2d31">:</span><span style="color: #0f95af">fn</span> <span style="color: black">T</span><span style="color: #2e2d31">-&gt;</span><span style="color: black">U</span><span style="color: #2e2d31">,</span> <span style="color: black">g</span><span style="color: #2e2d31">:</span><span style="color: #0f95af">fn</span> <span style="color: black">U</span><span style="color: #2e2d31">-&gt;</span><span style="color: black">V</span><span style="color: #2e2d31">.</span>
  <span style="color: #d85311">all</span> <span style="color: black">ls</span> <span style="color: #2e2d31">:</span><a href="List.pf.html#List36"><span style="color: #0f95af">List</span></a><span style="color: #2e2d31">&lt;</span><span style="color: black">T</span><span style="color: #2e2d31">&gt;</span><span style="color: #2e2d31">.</span> <a href="List.pf.html#map42"><span style="color: #086c3c">map</span></a><span style="color: #2e2d31">(</span><a href="List.pf.html#map42"><span style="color: #086c3c">map</span></a><span style="color: #2e2d31">(</span><span style="color: black">ls</span><span style="color: #2e2d31">,</span> <span style="color: black">f</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">,</span> <span style="color: black">g</span><span style="color: #2e2d31">)</span> <span style="color: #2e2d31">=</span> <a href="List.pf.html#map42"><span style="color: #086c3c">map</span></a><span style="color: #2e2d31">(</span><span style="color: black">ls</span><span style="color: #2e2d31">,</span> <span style="color: black">g</span> <span style="color: #2e2d31">&#x2218;</span> <span style="color: black">f</span><span style="color: #2e2d31">)</span>
<span style="color: #d85311">proof</span>
  <span style="color: #d85311">arbitrary</span> <span style="color: black">T</span><span style="color: #2e2d31">:</span><span style="color: #0f95af">type</span><span style="color: #2e2d31">,</span> <span style="color: black">U</span><span style="color: #2e2d31">:</span><span style="color: #0f95af">type</span><span style="color: #2e2d31">,</span> <span style="color: black">V</span><span style="color: #2e2d31">:</span><span style="color: #0f95af">type</span>
  <span style="color: #d85311">arbitrary</span> <span style="color: black">f</span><span style="color: #2e2d31">:</span><span style="color: #0f95af">fn</span> <span style="color: black">T</span><span style="color: #2e2d31">-&gt;</span><span style="color: black">U</span><span style="color: #2e2d31">,</span> <span style="color: black">g</span><span style="color: #2e2d31">:</span><span style="color: #0f95af">fn</span> <span style="color: black">U</span><span style="color: #2e2d31">-&gt;</span><span style="color: black">V</span>
  <span style="color: #d85311">induction</span> <a href="List.pf.html#List36"><span style="color: #0f95af">List</span></a><span style="color: #2e2d31">&lt;</span><span style="color: black">T</span><span style="color: #2e2d31">&gt;</span>
  <span style="color: #d85311">case</span> <span style="color: black">empty</span> <span style="color: #2e2d31">{</span> <span style="color: #d85311">definition</span> <a href="List.pf.html#map42"><span style="color: #086c3c">map</span></a> <span style="color: #2e2d31">}</span>
  <span style="color: #d85311">case</span> <span style="color: black">node</span><span style="color: #2e2d31">(</span><span style="color: black">x</span><span style="color: #2e2d31">,</span> <span style="color: black">ls</span><span style="color: #2e2d31">)</span> <span style="color: #d85311">suppose</span> <span style="color: black">IH</span> <span style="color: #2e2d31">{</span>
    <span style="color: #d85311">enable</span> <span style="color: #2e2d31">{</span><a href="List.pf.html#map42"><span style="color: #086c3c">map</span></a><span style="color: #2e2d31">,</span> <span style="color: #d85311">operator</span> <span style="color: #2e2d31">&#x2218;</span><span style="color: #2e2d31">}</span>
    <span style="color: #d85311">equations</span>
      <a href="List.pf.html#map42"><span style="color: #086c3c">map</span></a><span style="color: #2e2d31">(</span><a href="List.pf.html#map42"><span style="color: #086c3c">map</span></a><span style="color: #2e2d31">(</span><span style="color: black">node</span><span style="color: #2e2d31">(</span><span style="color: black">x</span><span style="color: #2e2d31">,</span><span style="color: black">ls</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">,</span><span style="color: black">f</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">,</span><span style="color: black">g</span><span style="color: #2e2d31">)</span>
	  <span style="color: #2e2d31">=</span> <span style="color: black">node</span><span style="color: #2e2d31">(</span><span style="color: black">g</span><span style="color: #2e2d31">(</span><span style="color: black">f</span><span style="color: #2e2d31">(</span><span style="color: black">x</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">,</span> <a href="List.pf.html#map42"><span style="color: #086c3c">map</span></a><span style="color: #2e2d31">(</span><a href="List.pf.html#map42"><span style="color: #086c3c">map</span></a><span style="color: #2e2d31">(</span><span style="color: black">ls</span><span style="color: #2e2d31">,</span> <span style="color: black">f</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">,</span> <span style="color: black">g</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">)</span>  <span style="color: #d85311">by</span> <span style="color: #2e2d31">.</span>
      <span style="color: #2e2d31">...</span> <span style="color: #2e2d31">=</span> <span style="color: black">node</span><span style="color: #2e2d31">(</span><span style="color: black">g</span><span style="color: #2e2d31">(</span><span style="color: black">f</span><span style="color: #2e2d31">(</span><span style="color: black">x</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">,</span> <a href="List.pf.html#map42"><span style="color: #086c3c">map</span></a><span style="color: #2e2d31">(</span><span style="color: black">ls</span><span style="color: #2e2d31">,</span> <span style="color: black">g</span> <span style="color: #2e2d31">&#x2218;</span> <span style="color: black">f</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">)</span>      <span style="color: #d85311">by</span> <span style="color: #d85311">rewrite</span> <span style="color: black">IH</span>
      <span style="color: #2e2d31">...</span> <span style="color: #2e2d31">=</span> <a href="List.pf.html#map42"><span style="color: #086c3c">map</span></a><span style="color: #2e2d31">(</span><span style="color: black">node</span><span style="color: #2e2d31">(</span><span style="color: black">x</span><span style="color: #2e2d31">,</span><span style="color: black">ls</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">,</span> <span style="color: black">g</span> <span style="color: #2e2d31">.o.</span> <span style="color: black">f</span><span style="color: #2e2d31">)</span>           <span style="color: #d85311">by</span> <span style="color: #2e2d31">.</span>
  <span style="color: #2e2d31">}</span>
<span style="color: #d85311">end</span>

<span style="color: #d85311">theorem</span> <a href="List.pf.html#zip_id_right69"><span id="zip_id_right69" style="color: #086c3c">zip_id_right</span></a><span style="color: #2e2d31">:</span> <span style="color: #d85311">all</span> <span style="color: black">T</span><span style="color: #2e2d31">:</span><span style="color: #0f95af">type</span><span style="color: #2e2d31">,</span> <span style="color: black">U</span><span style="color: #2e2d31">:</span><span style="color: #0f95af">type</span><span style="color: #2e2d31">.</span> <span style="color: #d85311">all</span> <span style="color: black">xs</span><span style="color: #2e2d31">:</span><a href="List.pf.html#List36"><span style="color: #0f95af">List</span></a><span style="color: #2e2d31">&lt;</span><span style="color: black">T</span><span style="color: #2e2d31">&gt;</span><span style="color: #2e2d31">.</span> <span style="color: #2e2d31">@</span><a href="List.pf.html#zip47"><span style="color: #086c3c">zip</span></a><span style="color: #2e2d31">&lt;</span><span style="color: black">T</span><span style="color: #2e2d31">,</span><span style="color: black">U</span><span style="color: #2e2d31">&gt;</span><span style="color: #2e2d31">(</span><span style="color: black">xs</span><span style="color: #2e2d31">,</span> <span style="color: black">empty</span><span style="color: #2e2d31">)</span> <span style="color: #2e2d31">=</span> <span style="color: black">empty</span>
<span style="color: #d85311">proof</span>
  <span style="color: #d85311">arbitrary</span> <span style="color: black">T</span><span style="color: #2e2d31">:</span><span style="color: #0f95af">type</span><span style="color: #2e2d31">,</span> <span style="color: black">U</span><span style="color: #2e2d31">:</span><span style="color: #0f95af">type</span>
  <span style="color: #d85311">induction</span> <a href="List.pf.html#List36"><span style="color: #0f95af">List</span></a><span style="color: #2e2d31">&lt;</span><span style="color: black">T</span><span style="color: #2e2d31">&gt;</span>
  <span style="color: #d85311">case</span> <span style="color: black">empty</span> <span style="color: #2e2d31">{</span> <span style="color: #d85311">definition</span> <a href="List.pf.html#zip47"><span style="color: #086c3c">zip</span></a> <span style="color: #2e2d31">}</span>
  <span style="color: #d85311">case</span> <span style="color: black">node</span><span style="color: #2e2d31">(</span><span style="color: black">x</span><span style="color: #2e2d31">,</span> <span style="color: black">xs'</span><span style="color: #2e2d31">)</span> <span style="color: #2e2d31">{</span> <span style="color: #d85311">definition</span> <a href="List.pf.html#zip47"><span style="color: #086c3c">zip</span></a> <span style="color: #2e2d31">}</span>
<span style="color: #d85311">end</span>

<span style="color: #d85311">theorem</span> <a href="List.pf.html#zip_map70"><span id="zip_map70" style="color: #086c3c">zip_map</span></a><span style="color: #2e2d31">:</span> <span style="color: #d85311">all</span> <span style="color: black">T1</span><span style="color: #2e2d31">:</span><span style="color: #0f95af">type</span><span style="color: #2e2d31">,</span> <span style="color: black">T2</span><span style="color: #2e2d31">:</span><span style="color: #0f95af">type</span><span style="color: #2e2d31">,</span> <span style="color: black">U1</span><span style="color: #2e2d31">:</span><span style="color: #0f95af">type</span><span style="color: #2e2d31">,</span> <span style="color: black">U2</span><span style="color: #2e2d31">:</span><span style="color: #0f95af">type</span><span style="color: #2e2d31">.</span>
  <span style="color: #d85311">all</span> <span style="color: black">f</span> <span style="color: #2e2d31">:</span> <span style="color: #0f95af">fn</span> <span style="color: black">T1</span> <span style="color: #2e2d31">-&gt;</span> <span style="color: black">T2</span><span style="color: #2e2d31">,</span> <span style="color: black">g</span> <span style="color: #2e2d31">:</span> <span style="color: #0f95af">fn</span> <span style="color: black">U1</span> <span style="color: #2e2d31">-&gt;</span> <span style="color: black">U2</span><span style="color: #2e2d31">.</span>
  <span style="color: #d85311">all</span> <span style="color: black">xs</span><span style="color: #2e2d31">:</span><a href="List.pf.html#List36"><span style="color: #0f95af">List</span></a><span style="color: #2e2d31">&lt;</span><span style="color: black">T1</span><span style="color: #2e2d31">&gt;</span><span style="color: #2e2d31">.</span> <span style="color: #d85311">all</span> <span style="color: black">ys</span><span style="color: #2e2d31">:</span><a href="List.pf.html#List36"><span style="color: #0f95af">List</span></a><span style="color: #2e2d31">&lt;</span><span style="color: black">U1</span><span style="color: #2e2d31">&gt;</span><span style="color: #2e2d31">.</span>
  <a href="List.pf.html#zip47"><span style="color: #086c3c">zip</span></a><span style="color: #2e2d31">(</span><a href="List.pf.html#map42"><span style="color: #086c3c">map</span></a><span style="color: #2e2d31">(</span><span style="color: black">xs</span><span style="color: #2e2d31">,</span> <span style="color: black">f</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">,</span> <a href="List.pf.html#map42"><span style="color: #086c3c">map</span></a><span style="color: #2e2d31">(</span><span style="color: black">ys</span><span style="color: #2e2d31">,</span> <span style="color: black">g</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">)</span> <span style="color: #2e2d31">=</span> <a href="List.pf.html#map42"><span style="color: #086c3c">map</span></a><span style="color: #2e2d31">(</span><a href="List.pf.html#zip47"><span style="color: #086c3c">zip</span></a><span style="color: #2e2d31">(</span><span style="color: black">xs</span><span style="color: #2e2d31">,</span><span style="color: black">ys</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">,</span> <span style="color: black">pairfun</span><span style="color: #2e2d31">(</span><span style="color: black">f</span><span style="color: #2e2d31">,</span><span style="color: black">g</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">)</span>
<span style="color: #d85311">proof</span>
  <span style="color: #d85311">arbitrary</span> <span style="color: black">T1</span><span style="color: #2e2d31">:</span><span style="color: #0f95af">type</span><span style="color: #2e2d31">,</span> <span style="color: black">T2</span><span style="color: #2e2d31">:</span><span style="color: #0f95af">type</span><span style="color: #2e2d31">,</span> <span style="color: black">U1</span><span style="color: #2e2d31">:</span><span style="color: #0f95af">type</span><span style="color: #2e2d31">,</span> <span style="color: black">U2</span><span style="color: #2e2d31">:</span><span style="color: #0f95af">type</span>
  <span style="color: #d85311">arbitrary</span> <span style="color: black">f</span><span style="color: #2e2d31">:</span><span style="color: #0f95af">fn</span> <span style="color: black">T1</span> <span style="color: #2e2d31">-&gt;</span> <span style="color: black">T2</span><span style="color: #2e2d31">,</span> <span style="color: black">g</span><span style="color: #2e2d31">:</span><span style="color: #0f95af">fn</span> <span style="color: black">U1</span> <span style="color: #2e2d31">-&gt;</span> <span style="color: black">U2</span>
  <span style="color: #d85311">enable</span> <span style="color: #2e2d31">{</span><a href="List.pf.html#map42"><span style="color: #086c3c">map</span></a><span style="color: #2e2d31">,</span> <a href="List.pf.html#zip47"><span style="color: #086c3c">zip</span></a><span style="color: #2e2d31">}</span>
  <span style="color: #d85311">induction</span> <a href="List.pf.html#List36"><span style="color: #0f95af">List</span></a><span style="color: #2e2d31">&lt;</span><span style="color: black">T1</span><span style="color: #2e2d31">&gt;</span>
  <span style="color: #d85311">case</span> <span style="color: black">empty</span> <span style="color: #2e2d31">{</span>
    <span style="color: #d85311">arbitrary</span> <span style="color: black">ys</span><span style="color: #2e2d31">:</span><a href="List.pf.html#List36"><span style="color: #0f95af">List</span></a><span style="color: #2e2d31">&lt;</span><span style="color: black">U1</span><span style="color: #2e2d31">&gt;</span>
    <span style="color: #d85311">conclude</span> <a href="List.pf.html#zip47"><span style="color: #086c3c">zip</span></a><span style="color: #2e2d31">(</span><a href="List.pf.html#map42"><span style="color: #086c3c">map</span></a><span style="color: #2e2d31">(</span><span style="color: #2e2d31">@</span><span style="color: black">empty</span><span style="color: #2e2d31">&lt;</span><span style="color: black">T1</span><span style="color: #2e2d31">&gt;</span><span style="color: #2e2d31">,</span> <span style="color: black">f</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">,</span> <a href="List.pf.html#map42"><span style="color: #086c3c">map</span></a><span style="color: #2e2d31">(</span><span style="color: black">ys</span><span style="color: #2e2d31">,</span><span style="color: black">g</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">)</span> <span style="color: #2e2d31">=</span> <a href="List.pf.html#map42"><span style="color: #086c3c">map</span></a><span style="color: #2e2d31">(</span><a href="List.pf.html#zip47"><span style="color: #086c3c">zip</span></a><span style="color: #2e2d31">(</span><span style="color: #2e2d31">@</span><span style="color: black">empty</span><span style="color: #2e2d31">&lt;</span><span style="color: black">T1</span><span style="color: #2e2d31">&gt;</span><span style="color: #2e2d31">,</span><span style="color: black">ys</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">,</span> <span style="color: black">pairfun</span><span style="color: #2e2d31">(</span><span style="color: black">f</span><span style="color: #2e2d31">,</span><span style="color: black">g</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">)</span>
        <span style="color: #d85311">by</span> <span style="color: #2e2d31">.</span>
  <span style="color: #2e2d31">}</span>
  <span style="color: #d85311">case</span> <span style="color: black">node</span><span style="color: #2e2d31">(</span><span style="color: black">x</span><span style="color: #2e2d31">,</span> <span style="color: black">xs'</span><span style="color: #2e2d31">)</span> <span style="color: #d85311">suppose</span> <span style="color: black">IH</span> <span style="color: #2e2d31">{</span>
    <span style="color: #d85311">arbitrary</span> <span style="color: black">ys</span><span style="color: #2e2d31">:</span><a href="List.pf.html#List36"><span style="color: #0f95af">List</span></a><span style="color: #2e2d31">&lt;</span><span style="color: black">U1</span><span style="color: #2e2d31">&gt;</span>
    <span style="color: #d85311">switch</span> <span style="color: black">ys</span> <span style="color: #2e2d31">{</span>
      <span style="color: #d85311">case</span> <span style="color: black">empty</span> <span style="color: #d85311">suppose</span> <span style="color: black">EQ</span> <span style="color: #2e2d31">{</span> <span style="color: #2e2d31">.</span> <span style="color: #2e2d31">}</span>
      <span style="color: #d85311">case</span> <span style="color: black">node</span><span style="color: #2e2d31">(</span><span style="color: black">y</span><span style="color: #2e2d31">,</span> <span style="color: black">ys'</span><span style="color: #2e2d31">)</span> <span style="color: #2e2d31">{</span>
	<span style="color: #d85311">equations</span>
	  <a href="List.pf.html#zip47"><span style="color: #086c3c">zip</span></a><span style="color: #2e2d31">(</span><a href="List.pf.html#map42"><span style="color: #086c3c">map</span></a><span style="color: #2e2d31">(</span><span style="color: black">node</span><span style="color: #2e2d31">(</span><span style="color: black">x</span><span style="color: #2e2d31">,</span><span style="color: black">xs'</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">,</span><span style="color: black">f</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">,</span><a href="List.pf.html#map42"><span style="color: #086c3c">map</span></a><span style="color: #2e2d31">(</span><span style="color: black">node</span><span style="color: #2e2d31">(</span><span style="color: black">y</span><span style="color: #2e2d31">,</span><span style="color: black">ys'</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">,</span><span style="color: black">g</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">)</span>
	    <span style="color: #2e2d31">=</span> <span style="color: black">node</span><span style="color: #2e2d31">(</span><span style="color: black">pair</span><span style="color: #2e2d31">(</span><span style="color: black">f</span><span style="color: #2e2d31">(</span><span style="color: black">x</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">,</span> <span style="color: black">g</span><span style="color: #2e2d31">(</span><span style="color: black">y</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">,</span> <a href="List.pf.html#zip47"><span style="color: #086c3c">zip</span></a><span style="color: #2e2d31">(</span><a href="List.pf.html#map42"><span style="color: #086c3c">map</span></a><span style="color: #2e2d31">(</span><span style="color: black">xs'</span><span style="color: #2e2d31">,</span><span style="color: black">f</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">,</span> <a href="List.pf.html#map42"><span style="color: #086c3c">map</span></a><span style="color: #2e2d31">(</span><span style="color: black">ys'</span><span style="color: #2e2d31">,</span><span style="color: black">g</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">)</span>      <span style="color: #d85311">by</span> <span style="color: #2e2d31">.</span>
	<span style="color: #2e2d31">...</span> <span style="color: #2e2d31">=</span> <span style="color: black">node</span><span style="color: #2e2d31">(</span><span style="color: black">pair</span><span style="color: #2e2d31">(</span><span style="color: black">f</span><span style="color: #2e2d31">(</span><span style="color: black">x</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">,</span> <span style="color: black">g</span><span style="color: #2e2d31">(</span><span style="color: black">y</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">,</span> <a href="List.pf.html#map42"><span style="color: #086c3c">map</span></a><span style="color: #2e2d31">(</span><a href="List.pf.html#zip47"><span style="color: #086c3c">zip</span></a><span style="color: #2e2d31">(</span><span style="color: black">xs'</span><span style="color: #2e2d31">,</span><span style="color: black">ys'</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">,</span> <span style="color: black">pairfun</span><span style="color: #2e2d31">(</span><span style="color: black">f</span><span style="color: #2e2d31">,</span><span style="color: black">g</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">)</span>
		<span style="color: #d85311">by</span> <span style="color: #d85311">rewrite</span> <span style="color: black">IH</span><span style="color: #2e2d31">[</span><span style="color: black">ys'</span><span style="color: #2e2d31">]</span>
        <span style="color: #2e2d31">...</span> <span style="color: #2e2d31">=</span> <span style="color: black">node</span><span style="color: #2e2d31">(</span><span style="color: black">pair</span><span style="color: #2e2d31">(</span><span style="color: black">f</span><span style="color: #2e2d31">(</span><span style="color: black">x</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">,</span> <span style="color: black">g</span><span style="color: #2e2d31">(</span><span style="color: black">y</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">,</span> <a href="List.pf.html#map42"><span style="color: #086c3c">map</span></a><span style="color: #2e2d31">(</span><a href="List.pf.html#zip47"><span style="color: #086c3c">zip</span></a><span style="color: #2e2d31">(</span><span style="color: black">xs'</span><span style="color: #2e2d31">,</span> <span style="color: black">ys'</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">,</span> <span style="color: #2e2d31">&#x03BB;</span><span style="color: black">p</span><span style="color: #2e2d31">{</span><span style="color: black">pair</span><span style="color: #2e2d31">(</span><span style="color: black">f</span><span style="color: #2e2d31">(</span><a href="Pair.pf.html#first34"><span style="color: #086c3c">first</span></a><span style="color: #2e2d31">(</span><span style="color: black">p</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">,</span> <span style="color: black">g</span><span style="color: #2e2d31">(</span><a href="Pair.pf.html#second35"><span style="color: #086c3c">second</span></a><span style="color: #2e2d31">(</span><span style="color: black">p</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">}</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">)</span>
               <span style="color: #d85311">by</span> <span style="color: #d85311">definition</span> <span style="color: black">pairfun</span>
	<span style="color: #2e2d31">...</span> <span style="color: #2e2d31">=</span><span style="color: #2e2d31">#</span> <a href="List.pf.html#map42"><span style="color: #086c3c">map</span></a><span style="color: #2e2d31">(</span><a href="List.pf.html#zip47"><span style="color: #086c3c">zip</span></a><span style="color: #2e2d31">(</span><span style="color: black">node</span><span style="color: #2e2d31">(</span><span style="color: black">x</span><span style="color: #2e2d31">,</span><span style="color: black">xs'</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">,</span><span style="color: black">node</span><span style="color: #2e2d31">(</span><span style="color: black">y</span><span style="color: #2e2d31">,</span><span style="color: black">ys'</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">,</span> <span style="color: black">pairfun</span><span style="color: #2e2d31">(</span><span style="color: black">f</span><span style="color: #2e2d31">,</span><span style="color: black">g</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">)</span> <span style="color: #2e2d31">#</span>
		<span style="color: #d85311">by</span> <span style="color: #d85311">definition</span> <span style="color: #2e2d31">{</span><span style="color: black">pairfun</span><span style="color: #2e2d31">,</span> <a href="Pair.pf.html#first34"><span style="color: #086c3c">first</span></a><span style="color: #2e2d31">,</span> <a href="Pair.pf.html#second35"><span style="color: #086c3c">second</span></a><span style="color: #2e2d31">}</span>
      <span style="color: #2e2d31">}</span>
    <span style="color: #2e2d31">}</span>
  <span style="color: #2e2d31">}</span>
<span style="color: #d85311">end</span>

<span style="color: #d85311">theorem</span> <a href="List.pf.html#filter_all71"><span id="filter_all71" style="color: #086c3c">filter_all</span></a><span style="color: #2e2d31">:</span> <span style="color: #d85311">all</span> <span style="color: black">T</span><span style="color: #2e2d31">:</span><span style="color: #0f95af">type</span><span style="color: #2e2d31">.</span> <span style="color: #d85311">all</span> <span style="color: black">P</span><span style="color: #2e2d31">:</span><span style="color: #0f95af">fn</span> <span style="color: #2e2d31">(</span><span style="color: black">T</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">-&gt;</span><span style="color: #0f95af">bool</span><span style="color: #2e2d31">.</span> <span style="color: #d85311">all</span> <span style="color: black">xs</span><span style="color: #2e2d31">:</span><a href="List.pf.html#List36"><span style="color: #0f95af">List</span></a><span style="color: #2e2d31">&lt;</span><span style="color: black">T</span><span style="color: #2e2d31">&gt;</span><span style="color: #2e2d31">.</span> 
  <span style="color: #d85311">if</span> <a href="List.pf.html#all_elements48"><span style="color: #086c3c">all_elements</span></a><span style="color: #2e2d31">(</span><span style="color: black">xs</span><span style="color: #2e2d31">,</span> <span style="color: black">P</span><span style="color: #2e2d31">)</span> <span style="color: #d85311">then</span> <a href="List.pf.html#filter49"><span style="color: #086c3c">filter</span></a><span style="color: #2e2d31">(</span><span style="color: black">xs</span><span style="color: #2e2d31">,</span> <span style="color: black">P</span><span style="color: #2e2d31">)</span> <span style="color: #2e2d31">=</span> <span style="color: black">xs</span>
<span style="color: #d85311">proof</span>
  <span style="color: #d85311">arbitrary</span> <span style="color: black">T</span><span style="color: #2e2d31">:</span><span style="color: #0f95af">type</span>
  <span style="color: #d85311">arbitrary</span> <span style="color: black">P</span><span style="color: #2e2d31">:</span><span style="color: #0f95af">fn</span> <span style="color: #2e2d31">(</span><span style="color: black">T</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">-&gt;</span><span style="color: #0f95af">bool</span>
  <span style="color: #d85311">induction</span> <a href="List.pf.html#List36"><span style="color: #0f95af">List</span></a><span style="color: #2e2d31">&lt;</span><span style="color: black">T</span><span style="color: #2e2d31">&gt;</span>
  <span style="color: #d85311">case</span> <span style="color: black">empty</span> <span style="color: #2e2d31">{</span>
    <span style="color: #d85311">suppose</span> <span style="color: black">cond</span><span style="color: #2e2d31">:</span> <a href="List.pf.html#all_elements48"><span style="color: #086c3c">all_elements</span></a><span style="color: #2e2d31">(</span><span style="color: #2e2d31">@</span><span style="color: black">empty</span><span style="color: #2e2d31">&lt;</span><span style="color: black">T</span><span style="color: #2e2d31">&gt;</span><span style="color: #2e2d31">,</span> <span style="color: black">P</span><span style="color: #2e2d31">)</span>
    <span style="color: #d85311">conclude</span> <a href="List.pf.html#filter49"><span style="color: #086c3c">filter</span></a><span style="color: #2e2d31">(</span><span style="color: #2e2d31">@</span><span style="color: black">empty</span><span style="color: #2e2d31">&lt;</span><span style="color: black">T</span><span style="color: #2e2d31">&gt;</span><span style="color: #2e2d31">,</span> <span style="color: black">P</span><span style="color: #2e2d31">)</span> <span style="color: #2e2d31">=</span> <span style="color: black">empty</span> <span style="color: #d85311">by</span> <span style="color: #d85311">definition</span> <a href="List.pf.html#filter49"><span style="color: #086c3c">filter</span></a>
  <span style="color: #2e2d31">}</span>
  <span style="color: #d85311">case</span> <span style="color: black">node</span><span style="color: #2e2d31">(</span><span style="color: black">x</span><span style="color: #2e2d31">,</span> <span style="color: black">xs'</span><span style="color: #2e2d31">)</span> <span style="color: #d85311">suppose</span> <span style="color: black">IH</span><span style="color: #2e2d31">:</span> <span style="color: #d85311">if</span> <a href="List.pf.html#all_elements48"><span style="color: #086c3c">all_elements</span></a><span style="color: #2e2d31">(</span><span style="color: black">xs'</span><span style="color: #2e2d31">,</span><span style="color: black">P</span><span style="color: #2e2d31">)</span> <span style="color: #d85311">then</span> <a href="List.pf.html#filter49"><span style="color: #086c3c">filter</span></a><span style="color: #2e2d31">(</span><span style="color: black">xs'</span><span style="color: #2e2d31">,</span><span style="color: black">P</span><span style="color: #2e2d31">)</span> <span style="color: #2e2d31">=</span> <span style="color: black">xs'</span> <span style="color: #2e2d31">{</span>
    <span style="color: #d85311">suppose</span> <span style="color: black">Pxs</span><span style="color: #2e2d31">:</span> <a href="List.pf.html#all_elements48"><span style="color: #086c3c">all_elements</span></a><span style="color: #2e2d31">(</span><span style="color: black">node</span><span style="color: #2e2d31">(</span><span style="color: black">x</span><span style="color: #2e2d31">,</span><span style="color: black">xs'</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">,</span><span style="color: black">P</span><span style="color: #2e2d31">)</span>
    <span style="color: #d85311">have</span> <span style="color: black">Px</span><span style="color: #2e2d31">:</span> <span style="color: black">P</span><span style="color: #2e2d31">(</span><span style="color: black">x</span><span style="color: #2e2d31">)</span> <span style="color: #d85311">by</span> <span style="color: #d85311">definition</span> <a href="List.pf.html#all_elements48"><span style="color: #086c3c">all_elements</span></a> <span style="color: #d85311">in</span> <span style="color: black">Pxs</span>
    <span style="color: #d85311">suffices</span> <span style="color: black">node</span><span style="color: #2e2d31">(</span><span style="color: black">x</span><span style="color: #2e2d31">,</span><a href="List.pf.html#filter49"><span style="color: #086c3c">filter</span></a><span style="color: #2e2d31">(</span><span style="color: black">xs'</span><span style="color: #2e2d31">,</span><span style="color: black">P</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">)</span> <span style="color: #2e2d31">=</span> <span style="color: black">node</span><span style="color: #2e2d31">(</span><span style="color: black">x</span><span style="color: #2e2d31">,</span><span style="color: black">xs'</span><span style="color: #2e2d31">)</span>
        <span style="color: #d85311">by</span> <span style="color: #d85311">definition</span> <a href="List.pf.html#filter49"><span style="color: #086c3c">filter</span></a> <span style="color: #d85311">and</span> <span style="color: #d85311">rewrite</span> <span style="color: #2e2d31">(</span><span style="color: #d85311">apply</span> <a href="Base.pf.html#eq_true200"><span style="color: #086c3c">eq_true</span></a> <span style="color: #d85311">to</span> <span style="color: black">Px</span><span style="color: #2e2d31">)</span>
    <span style="color: #d85311">have</span> <span style="color: black">Pxs'</span><span style="color: #2e2d31">:</span> <a href="List.pf.html#all_elements48"><span style="color: #086c3c">all_elements</span></a><span style="color: #2e2d31">(</span><span style="color: black">xs'</span><span style="color: #2e2d31">,</span><span style="color: black">P</span><span style="color: #2e2d31">)</span> <span style="color: #d85311">by</span> <span style="color: #d85311">definition</span> <a href="List.pf.html#all_elements48"><span style="color: #086c3c">all_elements</span></a> <span style="color: #d85311">in</span> <span style="color: black">Pxs</span>
    <span style="color: #d85311">have</span> <span style="color: black">IH'</span><span style="color: #2e2d31">:</span> <a href="List.pf.html#filter49"><span style="color: #086c3c">filter</span></a><span style="color: #2e2d31">(</span><span style="color: black">xs'</span><span style="color: #2e2d31">,</span><span style="color: black">P</span><span style="color: #2e2d31">)</span> <span style="color: #2e2d31">=</span> <span style="color: black">xs'</span> <span style="color: #d85311">by</span> <span style="color: #d85311">apply</span> <span style="color: black">IH</span> <span style="color: #d85311">to</span> <span style="color: black">Pxs'</span>
    <span style="color: #d85311">rewrite</span> <span style="color: black">IH'</span>
  <span style="color: #2e2d31">}</span>
<span style="color: #d85311">end</span>

<span style="color: #d85311">theorem</span> <a href="List.pf.html#all_elements_implies_member72"><span id="all_elements_implies_member72" style="color: #086c3c">all_elements_implies_member</span></a><span style="color: #2e2d31">:</span> <span style="color: #d85311">all</span> <span style="color: black">T</span><span style="color: #2e2d31">:</span><span style="color: #0f95af">type</span><span style="color: #2e2d31">.</span> <span style="color: #d85311">all</span> <span style="color: black">xs</span><span style="color: #2e2d31">:</span><a href="List.pf.html#List36"><span style="color: #0f95af">List</span></a><span style="color: #2e2d31">&lt;</span><span style="color: black">T</span><span style="color: #2e2d31">&gt;</span><span style="color: #2e2d31">.</span>
  <span style="color: #d85311">all</span> <span style="color: black">P</span><span style="color: #2e2d31">:</span> <span style="color: #0f95af">fn</span> <span style="color: black">T</span> <span style="color: #2e2d31">-&gt;</span> <span style="color: #0f95af">bool</span><span style="color: #2e2d31">.</span>
  <span style="color: #d85311">if</span> <a href="List.pf.html#all_elements48"><span style="color: #086c3c">all_elements</span></a><span style="color: #2e2d31">(</span><span style="color: black">xs</span><span style="color: #2e2d31">,</span><span style="color: black">P</span><span style="color: #2e2d31">)</span>
  <span style="color: #d85311">then</span> <span style="color: #2e2d31">(</span><span style="color: #d85311">all</span> <span style="color: black">x</span><span style="color: #2e2d31">:</span><span style="color: black">T</span><span style="color: #2e2d31">.</span> <span style="color: #d85311">if</span> <span style="color: black">x</span> <span style="color: #2e2d31">&#x2208;</span> <a href="List.pf.html#set_of40"><span style="color: #086c3c">set_of</span></a><span style="color: #2e2d31">(</span><span style="color: black">xs</span><span style="color: #2e2d31">)</span> <span style="color: #d85311">then</span> <span style="color: black">P</span><span style="color: #2e2d31">(</span><span style="color: black">x</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">)</span>
<span style="color: #d85311">proof</span>
  <span style="color: #d85311">arbitrary</span> <span style="color: black">T</span><span style="color: #2e2d31">:</span><span style="color: #0f95af">type</span>
  <span style="color: #d85311">induction</span> <a href="List.pf.html#List36"><span style="color: #0f95af">List</span></a><span style="color: #2e2d31">&lt;</span><span style="color: black">T</span><span style="color: #2e2d31">&gt;</span>
  <span style="color: #d85311">case</span> <span style="color: black">empty</span> <span style="color: #2e2d31">{</span>
    <span style="color: #d85311">arbitrary</span> <span style="color: black">P</span><span style="color: #2e2d31">:</span><span style="color: #0f95af">fn</span> <span style="color: black">T</span> <span style="color: #2e2d31">-&gt;</span> <span style="color: #0f95af">bool</span>
    <span style="color: #d85311">suppose</span> <span style="color: black">_</span>
    <span style="color: #d85311">arbitrary</span> <span style="color: black">x</span><span style="color: #2e2d31">:</span><span style="color: black">T</span>
    <span style="color: #d85311">suppose</span> <span style="color: black">x_in_mt</span>
    <span style="color: #d85311">conclude</span> <span style="color: #9329ab">false</span>  <span style="color: #d85311">by</span> <span style="color: #d85311">definition</span> <span style="color: #2e2d31">{</span><a href="List.pf.html#set_of40"><span style="color: #086c3c">set_of</span></a><span style="color: #2e2d31">,</span> <a href="Set.pf.html#operator∈169"><span style="color: #086c3c">operator ∈</span></a><span style="color: #2e2d31">,</span> <a href="Set.pf.html#rep165"><span style="color: #086c3c">rep</span></a><span style="color: #2e2d31">}</span> <span style="color: #d85311">in</span> <span style="color: black">x_in_mt</span>
  <span style="color: #2e2d31">}</span>
  <span style="color: #d85311">case</span> <span style="color: black">node</span><span style="color: #2e2d31">(</span><span style="color: black">x</span><span style="color: #2e2d31">,</span> <span style="color: black">xs'</span><span style="color: #2e2d31">)</span> <span style="color: #d85311">suppose</span> <span style="color: black">IH</span> <span style="color: #2e2d31">{</span>
    <span style="color: #d85311">arbitrary</span> <span style="color: black">P</span><span style="color: #2e2d31">:</span><span style="color: #0f95af">fn</span> <span style="color: black">T</span> <span style="color: #2e2d31">-&gt;</span> <span style="color: #0f95af">bool</span>
    <span style="color: #d85311">suppose</span> <span style="color: black">P_xxs</span><span style="color: #2e2d31">:</span> <a href="List.pf.html#all_elements48"><span style="color: #086c3c">all_elements</span></a><span style="color: #2e2d31">(</span><span style="color: black">node</span><span style="color: #2e2d31">(</span><span style="color: black">x</span><span style="color: #2e2d31">,</span><span style="color: black">xs'</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">,</span><span style="color: black">P</span><span style="color: #2e2d31">)</span>
    <span style="color: #d85311">arbitrary</span> <span style="color: black">y</span><span style="color: #2e2d31">:</span><span style="color: black">T</span>
    <span style="color: #d85311">enable</span> <span style="color: #2e2d31">{</span><a href="List.pf.html#set_of40"><span style="color: #086c3c">set_of</span></a><span style="color: #2e2d31">,</span> <a href="Set.pf.html#operator∈169"><span style="color: #086c3c">operator ∈</span></a><span style="color: #2e2d31">,</span> <a href="Set.pf.html#rep165"><span style="color: #086c3c">rep</span></a><span style="color: #2e2d31">,</span> <a href="Set.pf.html#operator∪167"><span style="color: #086c3c">operator ∪</span></a><span style="color: #2e2d31">,</span> <a href="Set.pf.html#single166"><span style="color: #086c3c">single</span></a><span style="color: #2e2d31">,</span> <a href="List.pf.html#all_elements48"><span style="color: #086c3c">all_elements</span></a><span style="color: #2e2d31">}</span>
    <span style="color: #d85311">suppose</span> <span style="color: black">prem</span><span style="color: #2e2d31">:</span> <span style="color: black">x</span> <span style="color: #2e2d31">=</span> <span style="color: black">y</span> <span style="color: #d85311">or</span> <a href="Set.pf.html#rep165"><span style="color: #086c3c">rep</span></a><span style="color: #2e2d31">(</span><a href="List.pf.html#set_of40"><span style="color: #086c3c">set_of</span></a><span style="color: #2e2d31">(</span><span style="color: black">xs'</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">(</span><span style="color: black">y</span><span style="color: #2e2d31">)</span>
    <span style="color: #d85311">cases</span> <span style="color: black">prem</span>
    <span style="color: #d85311">case</span> <span style="color: black">xy</span> <span style="color: #2e2d31">{</span>
      <span style="color: #d85311">conclude</span> <span style="color: black">P</span><span style="color: #2e2d31">(</span><span style="color: black">y</span><span style="color: #2e2d31">)</span>  <span style="color: #d85311">by</span> <span style="color: #d85311">rewrite</span> <span style="color: black">xy</span> <span style="color: #d85311">in</span> <span style="color: black">P_xxs</span>
    <span style="color: #2e2d31">}</span>
    <span style="color: #d85311">case</span> <span style="color: black">y_xs</span> <span style="color: #2e2d31">{</span>
      <span style="color: #d85311">have</span> <span style="color: black">P_xs</span><span style="color: #2e2d31">:</span> <a href="List.pf.html#all_elements48"><span style="color: #086c3c">all_elements</span></a><span style="color: #2e2d31">(</span><span style="color: black">xs'</span><span style="color: #2e2d31">,</span> <span style="color: black">P</span><span style="color: #2e2d31">)</span>  <span style="color: #d85311">by</span> <span style="color: black">P_xxs</span>
      <span style="color: #d85311">conclude</span> <span style="color: black">P</span><span style="color: #2e2d31">(</span><span style="color: black">y</span><span style="color: #2e2d31">)</span>  <span style="color: #d85311">by</span> <span style="color: #d85311">apply</span> <span style="color: #2e2d31">(</span><span style="color: #d85311">apply</span> <span style="color: black">IH</span><span style="color: #2e2d31">[</span><span style="color: black">P</span><span style="color: #2e2d31">]</span> <span style="color: #d85311">to</span> <span style="color: black">P_xs</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">[</span><span style="color: black">y</span><span style="color: #2e2d31">]</span> <span style="color: #d85311">to</span> <span style="color: black">y_xs</span>
    <span style="color: #2e2d31">}</span>
  <span style="color: #2e2d31">}</span>
<span style="color: #d85311">end</span>

<span style="color: #d85311">theorem</span> <a href="List.pf.html#member_implies_all_elements73"><span id="member_implies_all_elements73" style="color: #086c3c">member_implies_all_elements</span></a><span style="color: #2e2d31">:</span> <span style="color: #d85311">all</span> <span style="color: black">T</span><span style="color: #2e2d31">:</span><span style="color: #0f95af">type</span><span style="color: #2e2d31">.</span> <span style="color: #d85311">all</span> <span style="color: black">xs</span><span style="color: #2e2d31">:</span><a href="List.pf.html#List36"><span style="color: #0f95af">List</span></a><span style="color: #2e2d31">&lt;</span><span style="color: black">T</span><span style="color: #2e2d31">&gt;</span><span style="color: #2e2d31">.</span>
  <span style="color: #d85311">all</span> <span style="color: black">P</span><span style="color: #2e2d31">:</span> <span style="color: #0f95af">fn</span> <span style="color: black">T</span> <span style="color: #2e2d31">-&gt;</span> <span style="color: #0f95af">bool</span><span style="color: #2e2d31">.</span>
  <span style="color: #d85311">if</span> <span style="color: #2e2d31">(</span><span style="color: #d85311">all</span> <span style="color: black">x</span><span style="color: #2e2d31">:</span><span style="color: black">T</span><span style="color: #2e2d31">.</span> <span style="color: #d85311">if</span> <span style="color: black">x</span> <span style="color: #2e2d31">&#x2208;</span> <a href="List.pf.html#set_of40"><span style="color: #086c3c">set_of</span></a><span style="color: #2e2d31">(</span><span style="color: black">xs</span><span style="color: #2e2d31">)</span> <span style="color: #d85311">then</span> <span style="color: black">P</span><span style="color: #2e2d31">(</span><span style="color: black">x</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">)</span>
  <span style="color: #d85311">then</span> <a href="List.pf.html#all_elements48"><span style="color: #086c3c">all_elements</span></a><span style="color: #2e2d31">(</span><span style="color: black">xs</span><span style="color: #2e2d31">,</span><span style="color: black">P</span><span style="color: #2e2d31">)</span>
<span style="color: #d85311">proof</span>
  <span style="color: #d85311">arbitrary</span> <span style="color: black">T</span><span style="color: #2e2d31">:</span><span style="color: #0f95af">type</span>
  <span style="color: #d85311">induction</span> <a href="List.pf.html#List36"><span style="color: #0f95af">List</span></a><span style="color: #2e2d31">&lt;</span><span style="color: black">T</span><span style="color: #2e2d31">&gt;</span>
  <span style="color: #d85311">case</span> <span style="color: black">empty</span> <span style="color: #2e2d31">{</span>
    <span style="color: #d85311">arbitrary</span> <span style="color: black">P</span><span style="color: #2e2d31">:</span> <span style="color: #0f95af">fn</span> <span style="color: black">T</span> <span style="color: #2e2d31">-&gt;</span> <span style="color: #0f95af">bool</span>
    <span style="color: #d85311">suppose</span> <span style="color: black">_</span>
    <span style="color: #d85311">definition</span> <a href="List.pf.html#all_elements48"><span style="color: #086c3c">all_elements</span></a>
  <span style="color: #2e2d31">}</span>
  <span style="color: #d85311">case</span> <span style="color: black">node</span><span style="color: #2e2d31">(</span><span style="color: black">x</span><span style="color: #2e2d31">,</span> <span style="color: black">xs'</span><span style="color: #2e2d31">)</span> <span style="color: #d85311">suppose</span> <span style="color: black">IH</span> <span style="color: #2e2d31">{</span>
    <span style="color: #d85311">arbitrary</span> <span style="color: black">P</span><span style="color: #2e2d31">:</span> <span style="color: #0f95af">fn</span> <span style="color: black">T</span> <span style="color: #2e2d31">-&gt;</span> <span style="color: #0f95af">bool</span>
    <span style="color: #d85311">suppose</span> <span style="color: black">prem</span>
    <span style="color: #d85311">suffices</span> <span style="color: black">P</span><span style="color: #2e2d31">(</span><span style="color: black">x</span><span style="color: #2e2d31">)</span> <span style="color: #d85311">and</span> <a href="List.pf.html#all_elements48"><span style="color: #086c3c">all_elements</span></a><span style="color: #2e2d31">(</span><span style="color: black">xs'</span><span style="color: #2e2d31">,</span><span style="color: black">P</span><span style="color: #2e2d31">)</span>   <span style="color: #d85311">by</span> <span style="color: #d85311">definition</span> <a href="List.pf.html#all_elements48"><span style="color: #086c3c">all_elements</span></a>
    <span style="color: #d85311">enable</span> <span style="color: #2e2d31">{</span><a href="List.pf.html#set_of40"><span style="color: #086c3c">set_of</span></a><span style="color: #2e2d31">,</span><a href="Set.pf.html#operator∪167"><span style="color: #086c3c">operator ∪</span></a><span style="color: #2e2d31">,</span> <a href="Set.pf.html#operator∈169"><span style="color: #086c3c">operator∈</span></a><span style="color: #2e2d31">,</span> <a href="Set.pf.html#rep165"><span style="color: #086c3c">rep</span></a><span style="color: #2e2d31">,</span> <a href="Set.pf.html#single166"><span style="color: #086c3c">single</span></a><span style="color: #2e2d31">}</span>
    <span style="color: #d85311">have</span> <span style="color: black">Px</span><span style="color: #2e2d31">:</span> <span style="color: black">P</span><span style="color: #2e2d31">(</span><span style="color: black">x</span><span style="color: #2e2d31">)</span>  <span style="color: #d85311">by</span> <span style="color: black">prem</span><span style="color: #2e2d31">[</span><span style="color: black">x</span><span style="color: #2e2d31">]</span>
    <span style="color: #d85311">have</span> <span style="color: black">Pxs</span><span style="color: #2e2d31">:</span> <a href="List.pf.html#all_elements48"><span style="color: #086c3c">all_elements</span></a><span style="color: #2e2d31">(</span><span style="color: black">xs'</span><span style="color: #2e2d31">,</span><span style="color: black">P</span><span style="color: #2e2d31">)</span>
        <span style="color: #d85311">by</span> <span style="color: #d85311">apply</span> <span style="color: black">IH</span><span style="color: #2e2d31">[</span><span style="color: black">P</span><span style="color: #2e2d31">]</span> <span style="color: #d85311">to</span>
           <span style="color: #d85311">suffices</span> <span style="color: #d85311">all</span> <span style="color: black">x'</span><span style="color: #2e2d31">:</span><span style="color: black">T</span><span style="color: #2e2d31">.</span> <span style="color: #2e2d31">(</span><span style="color: #d85311">if</span> <span style="color: black">x'</span> <span style="color: #2e2d31">&#x2208;</span> <a href="List.pf.html#set_of40"><span style="color: #086c3c">set_of</span></a><span style="color: #2e2d31">(</span><span style="color: black">xs'</span><span style="color: #2e2d31">)</span> <span style="color: #d85311">then</span> <span style="color: black">P</span><span style="color: #2e2d31">(</span><span style="color: black">x'</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">)</span>  <span style="color: #d85311">by</span> <span style="color: #2e2d31">.</span>
           <span style="color: #d85311">arbitrary</span> <span style="color: black">z</span><span style="color: #2e2d31">:</span><span style="color: black">T</span> <span style="color: #d85311">suppose</span> <span style="color: black">z_xs</span>
	   <span style="color: #d85311">apply</span> <span style="color: black">prem</span><span style="color: #2e2d31">[</span><span style="color: black">z</span><span style="color: #2e2d31">]</span> <span style="color: #d85311">to</span> <span style="color: black">z_xs</span>
    <span style="color: black">Px</span><span style="color: #2e2d31">,</span> <span style="color: black">Pxs</span>
  <span style="color: #2e2d31">}</span>
<span style="color: #d85311">end</span>

<span style="color: #d85311">theorem</span> <a href="List.pf.html#all_elements_eq_member74"><span id="all_elements_eq_member74" style="color: #086c3c">all_elements_eq_member</span></a><span style="color: #2e2d31">:</span> <span style="color: #d85311">all</span> <span style="color: black">T</span><span style="color: #2e2d31">:</span><span style="color: #0f95af">type</span><span style="color: #2e2d31">.</span> <span style="color: #d85311">all</span> <span style="color: black">xs</span><span style="color: #2e2d31">:</span><a href="List.pf.html#List36"><span style="color: #0f95af">List</span></a><span style="color: #2e2d31">&lt;</span><span style="color: black">T</span><span style="color: #2e2d31">&gt;</span><span style="color: #2e2d31">,</span> <span style="color: black">P</span><span style="color: #2e2d31">:</span> <span style="color: #0f95af">fn</span><span style="color: #2e2d31">(</span><span style="color: black">T</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">-&gt;</span><span style="color: #0f95af">bool</span><span style="color: #2e2d31">.</span>
  <a href="List.pf.html#all_elements48"><span style="color: #086c3c">all_elements</span></a><span style="color: #2e2d31">(</span><span style="color: black">xs</span><span style="color: #2e2d31">,</span><span style="color: black">P</span><span style="color: #2e2d31">)</span> <span style="color: #2e2d31">=</span> <span style="color: #2e2d31">(</span><span style="color: #d85311">all</span> <span style="color: black">x</span><span style="color: #2e2d31">:</span><span style="color: black">T</span><span style="color: #2e2d31">.</span> <span style="color: #d85311">if</span> <span style="color: black">x</span> <span style="color: #2e2d31">&#x2208;</span> <a href="List.pf.html#set_of40"><span style="color: #086c3c">set_of</span></a><span style="color: #2e2d31">(</span><span style="color: black">xs</span><span style="color: #2e2d31">)</span> <span style="color: #d85311">then</span> <span style="color: black">P</span><span style="color: #2e2d31">(</span><span style="color: black">x</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">)</span>
<span style="color: #d85311">proof</span>
  <span style="color: #d85311">arbitrary</span> <span style="color: black">T</span><span style="color: #2e2d31">:</span><span style="color: #0f95af">type</span>
  <span style="color: #d85311">arbitrary</span> <span style="color: black">xs</span><span style="color: #2e2d31">:</span><a href="List.pf.html#List36"><span style="color: #0f95af">List</span></a><span style="color: #2e2d31">&lt;</span><span style="color: black">T</span><span style="color: #2e2d31">&gt;</span><span style="color: #2e2d31">,</span> <span style="color: black">P</span><span style="color: #2e2d31">:</span> <span style="color: #0f95af">fn</span><span style="color: #2e2d31">(</span><span style="color: black">T</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">-&gt;</span><span style="color: #0f95af">bool</span>
  <span style="color: #d85311">apply</span> <a href="Base.pf.html#iff_equal202"><span style="color: #086c3c">iff_equal</span></a><span style="color: #2e2d31">[</span><a href="List.pf.html#all_elements48"><span style="color: #086c3c">all_elements</span></a><span style="color: #2e2d31">(</span><span style="color: black">xs</span><span style="color: #2e2d31">,</span><span style="color: black">P</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">,</span> <span style="color: #2e2d31">(</span><span style="color: #d85311">all</span> <span style="color: black">x</span><span style="color: #2e2d31">:</span><span style="color: black">T</span><span style="color: #2e2d31">.</span> <span style="color: #d85311">if</span> <span style="color: black">x</span> <span style="color: #2e2d31">&#x2208;</span> <a href="List.pf.html#set_of40"><span style="color: #086c3c">set_of</span></a><span style="color: #2e2d31">(</span><span style="color: black">xs</span><span style="color: #2e2d31">)</span> <span style="color: #d85311">then</span> <span style="color: black">P</span><span style="color: #2e2d31">(</span><span style="color: black">x</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">]</span>
  <span style="color: #d85311">to</span> <a href="List.pf.html#member_implies_all_elements73"><span style="color: #086c3c">member_implies_all_elements</span></a><span style="color: #2e2d31">&lt;</span><span style="color: black">T</span><span style="color: #2e2d31">&gt;</span><span style="color: #2e2d31">[</span><span style="color: black">xs</span><span style="color: #2e2d31">]</span><span style="color: #2e2d31">[</span><span style="color: black">P</span><span style="color: #2e2d31">]</span><span style="color: #2e2d31">,</span>
     <a href="List.pf.html#all_elements_implies_member72"><span style="color: #086c3c">all_elements_implies_member</span></a><span style="color: #2e2d31">&lt;</span><span style="color: black">T</span><span style="color: #2e2d31">&gt;</span><span style="color: #2e2d31">[</span><span style="color: black">xs</span><span style="color: #2e2d31">]</span><span style="color: #2e2d31">[</span><span style="color: black">P</span><span style="color: #2e2d31">]</span>
<span style="color: #d85311">end</span>

<span style="color: #d85311">theorem</span> <a href="List.pf.html#all_elements_implies75"><span id="all_elements_implies75" style="color: #086c3c">all_elements_implies</span></a><span style="color: #2e2d31">:</span> <span style="color: #d85311">all</span> <span style="color: black">T</span><span style="color: #2e2d31">:</span><span style="color: #0f95af">type</span><span style="color: #2e2d31">.</span> <span style="color: #d85311">all</span> <span style="color: black">xs</span><span style="color: #2e2d31">:</span><a href="List.pf.html#List36"><span style="color: #0f95af">List</span></a><span style="color: #2e2d31">&lt;</span><span style="color: black">T</span><span style="color: #2e2d31">&gt;</span><span style="color: #2e2d31">.</span>
  <span style="color: #d85311">all</span> <span style="color: black">P</span><span style="color: #2e2d31">:</span> <span style="color: #0f95af">fn</span> <span style="color: black">T</span> <span style="color: #2e2d31">-&gt;</span> <span style="color: #0f95af">bool</span><span style="color: #2e2d31">,</span> <span style="color: black">Q</span><span style="color: #2e2d31">:</span> <span style="color: #0f95af">fn</span> <span style="color: black">T</span> <span style="color: #2e2d31">-&gt;</span> <span style="color: #0f95af">bool</span><span style="color: #2e2d31">.</span>
  <span style="color: #d85311">if</span> <a href="List.pf.html#all_elements48"><span style="color: #086c3c">all_elements</span></a><span style="color: #2e2d31">(</span><span style="color: black">xs</span><span style="color: #2e2d31">,</span><span style="color: black">P</span><span style="color: #2e2d31">)</span> <span style="color: #d85311">and</span> <span style="color: #2e2d31">(</span><span style="color: #d85311">all</span> <span style="color: black">z</span><span style="color: #2e2d31">:</span><span style="color: black">T</span><span style="color: #2e2d31">.</span> <span style="color: #d85311">if</span> <span style="color: black">P</span><span style="color: #2e2d31">(</span><span style="color: black">z</span><span style="color: #2e2d31">)</span> <span style="color: #d85311">then</span> <span style="color: black">Q</span><span style="color: #2e2d31">(</span><span style="color: black">z</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">)</span>
  <span style="color: #d85311">then</span> <a href="List.pf.html#all_elements48"><span style="color: #086c3c">all_elements</span></a><span style="color: #2e2d31">(</span><span style="color: black">xs</span><span style="color: #2e2d31">,</span><span style="color: black">Q</span><span style="color: #2e2d31">)</span>
<span style="color: #d85311">proof</span>
  <span style="color: #d85311">arbitrary</span> <span style="color: black">T</span><span style="color: #2e2d31">:</span><span style="color: #0f95af">type</span>
  <span style="color: #d85311">arbitrary</span> <span style="color: black">xs</span><span style="color: #2e2d31">:</span><a href="List.pf.html#List36"><span style="color: #0f95af">List</span></a><span style="color: #2e2d31">&lt;</span><span style="color: black">T</span><span style="color: #2e2d31">&gt;</span>
  <span style="color: #d85311">arbitrary</span> <span style="color: black">P</span><span style="color: #2e2d31">:</span> <span style="color: #0f95af">fn</span> <span style="color: black">T</span> <span style="color: #2e2d31">-&gt;</span> <span style="color: #0f95af">bool</span><span style="color: #2e2d31">,</span> <span style="color: black">Q</span><span style="color: #2e2d31">:</span> <span style="color: #0f95af">fn</span> <span style="color: black">T</span> <span style="color: #2e2d31">-&gt;</span> <span style="color: #0f95af">bool</span>
  <span style="color: #d85311">suppose</span> <span style="color: black">prem</span><span style="color: #2e2d31">:</span> <a href="List.pf.html#all_elements48"><span style="color: #086c3c">all_elements</span></a><span style="color: #2e2d31">(</span><span style="color: black">xs</span><span style="color: #2e2d31">,</span><span style="color: black">P</span><span style="color: #2e2d31">)</span> <span style="color: #d85311">and</span> <span style="color: #d85311">all</span> <span style="color: black">z</span><span style="color: #2e2d31">:</span><span style="color: black">T</span><span style="color: #2e2d31">.</span> <span style="color: #2e2d31">(</span><span style="color: #d85311">if</span> <span style="color: black">P</span><span style="color: #2e2d31">(</span><span style="color: black">z</span><span style="color: #2e2d31">)</span> <span style="color: #d85311">then</span> <span style="color: black">Q</span><span style="color: #2e2d31">(</span><span style="color: black">z</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">)</span>
  <span style="color: #d85311">have</span> <span style="color: black">Pxs</span><span style="color: #2e2d31">:</span> <span style="color: #2e2d31">(</span><span style="color: #d85311">all</span> <span style="color: black">x</span><span style="color: #2e2d31">:</span><span style="color: black">T</span><span style="color: #2e2d31">.</span> <span style="color: #d85311">if</span> <span style="color: black">x</span> <span style="color: #2e2d31">&#x2208;</span> <a href="List.pf.html#set_of40"><span style="color: #086c3c">set_of</span></a><span style="color: #2e2d31">(</span><span style="color: black">xs</span><span style="color: #2e2d31">)</span> <span style="color: #d85311">then</span> <span style="color: black">P</span><span style="color: #2e2d31">(</span><span style="color: black">x</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">)</span>
    <span style="color: #d85311">by</span> <span style="color: #d85311">rewrite</span> <a href="List.pf.html#all_elements_eq_member74"><span style="color: #086c3c">all_elements_eq_member</span></a><span style="color: #2e2d31">&lt;</span><span style="color: black">T</span><span style="color: #2e2d31">&gt;</span><span style="color: #2e2d31">[</span><span style="color: black">xs</span><span style="color: #2e2d31">,</span><span style="color: black">P</span><span style="color: #2e2d31">]</span> <span style="color: #d85311">in</span> <span style="color: #2e2d31">(</span><span style="color: #d85311">conjunct</span> <span style="color: #9329ab">0</span> <span style="color: #d85311">of</span> <span style="color: black">prem</span><span style="color: #2e2d31">)</span>
  <span style="color: #d85311">suffices</span> <span style="color: #d85311">all</span> <span style="color: black">x</span><span style="color: #2e2d31">:</span><span style="color: black">T</span><span style="color: #2e2d31">.</span> <span style="color: #2e2d31">(</span><span style="color: #d85311">if</span> <span style="color: black">x</span> <span style="color: #2e2d31">&#x2208;</span> <a href="List.pf.html#set_of40"><span style="color: #086c3c">set_of</span></a><span style="color: #2e2d31">(</span><span style="color: black">xs</span><span style="color: #2e2d31">)</span> <span style="color: #d85311">then</span> <span style="color: black">Q</span><span style="color: #2e2d31">(</span><span style="color: black">x</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">)</span>
      <span style="color: #d85311">by</span> <span style="color: #d85311">rewrite</span> <a href="List.pf.html#all_elements_eq_member74"><span style="color: #086c3c">all_elements_eq_member</span></a><span style="color: #2e2d31">&lt;</span><span style="color: black">T</span><span style="color: #2e2d31">&gt;</span><span style="color: #2e2d31">[</span><span style="color: black">xs</span><span style="color: #2e2d31">,</span><span style="color: black">Q</span><span style="color: #2e2d31">]</span>
  <span style="color: #d85311">arbitrary</span> <span style="color: black">y</span><span style="color: #2e2d31">:</span><span style="color: black">T</span>
  <span style="color: #d85311">suppose</span> <span style="color: black">y_xs</span>
  <span style="color: #d85311">have</span> <span style="color: black">Py</span><span style="color: #2e2d31">:</span> <span style="color: black">P</span><span style="color: #2e2d31">(</span><span style="color: black">y</span><span style="color: #2e2d31">)</span> <span style="color: #d85311">by</span> <span style="color: #d85311">apply</span> <span style="color: black">Pxs</span><span style="color: #2e2d31">[</span><span style="color: black">y</span><span style="color: #2e2d31">]</span> <span style="color: #d85311">to</span> <span style="color: black">y_xs</span>
  <span style="color: #d85311">conclude</span> <span style="color: black">Q</span><span style="color: #2e2d31">(</span><span style="color: black">y</span><span style="color: #2e2d31">)</span> <span style="color: #d85311">by</span> <span style="color: #d85311">apply</span> <span style="color: #2e2d31">(</span><span style="color: #d85311">conjunct</span> <span style="color: #9329ab">1</span> <span style="color: #d85311">of</span> <span style="color: black">prem</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">[</span><span style="color: black">y</span><span style="color: #2e2d31">]</span> <span style="color: #d85311">to</span> <span style="color: black">Py</span>
<span style="color: #d85311">end</span>

<span style="color: #d85311">theorem</span> <a href="List.pf.html#set_of_empty76"><span id="set_of_empty76" style="color: #086c3c">set_of_empty</span></a><span style="color: #2e2d31">:</span> <span style="color: #d85311">all</span> <span style="color: black">T</span><span style="color: #2e2d31">:</span><span style="color: #0f95af">type</span><span style="color: #2e2d31">.</span> <span style="color: #d85311">all</span> <span style="color: black">xs</span><span style="color: #2e2d31">:</span><a href="List.pf.html#List36"><span style="color: #0f95af">List</span></a><span style="color: #2e2d31">&lt;</span><span style="color: black">T</span><span style="color: #2e2d31">&gt;</span><span style="color: #2e2d31">.</span>
  <span style="color: #d85311">if</span> <a href="List.pf.html#set_of40"><span style="color: #086c3c">set_of</span></a><span style="color: #2e2d31">(</span><span style="color: black">xs</span><span style="color: #2e2d31">)</span> <span style="color: #2e2d31">=</span> <span style="color: #9329ab">&#x2205;</span>
  <span style="color: #d85311">then</span> <span style="color: black">xs</span> <span style="color: #2e2d31">=</span> <span style="color: black">empty</span>
<span style="color: #d85311">proof</span>
  <span style="color: #d85311">arbitrary</span> <span style="color: black">T</span><span style="color: #2e2d31">:</span><span style="color: #0f95af">type</span>
  <span style="color: #d85311">arbitrary</span> <span style="color: black">xs</span><span style="color: #2e2d31">:</span><a href="List.pf.html#List36"><span style="color: #0f95af">List</span></a><span style="color: #2e2d31">&lt;</span><span style="color: black">T</span><span style="color: #2e2d31">&gt;</span>
  <span style="color: #d85311">switch</span> <span style="color: black">xs</span> <span style="color: #2e2d31">{</span>
    <span style="color: #d85311">case</span> <span style="color: black">empty</span> <span style="color: #2e2d31">{</span>
      <span style="color: #2e2d31">.</span>
    <span style="color: #2e2d31">}</span>
    <span style="color: #d85311">case</span> <span style="color: black">node</span><span style="color: #2e2d31">(</span><span style="color: black">x</span><span style="color: #2e2d31">,</span> <span style="color: black">xs'</span><span style="color: #2e2d31">)</span> <span style="color: #2e2d31">{</span>
      <span style="color: #d85311">suppose</span> <span style="color: black">prem</span>
      <span style="color: #d85311">have</span> <span style="color: black">x_xxs</span><span style="color: #2e2d31">:</span> <span style="color: black">x</span> <span style="color: #2e2d31">&#x2208;</span> <span style="color: #2e2d31">(</span><a href="Set.pf.html#single166"><span style="color: #086c3c">single</span></a><span style="color: #2e2d31">(</span><span style="color: black">x</span><span style="color: #2e2d31">)</span> <span style="color: #2e2d31">&#x222A;</span> <a href="List.pf.html#set_of40"><span style="color: #086c3c">set_of</span></a><span style="color: #2e2d31">(</span><span style="color: black">xs'</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">)</span>
        <span style="color: #d85311">by</span> <span style="color: #d85311">apply</span> <a href="Set.pf.html#in_left_union182"><span style="color: #086c3c">in_left_union</span></a><span style="color: #2e2d31">&lt;</span><span style="color: black">T</span><span style="color: #2e2d31">&gt;</span><span style="color: #2e2d31">[</span><a href="List.pf.html#set_of40"><span style="color: #086c3c">set_of</span></a><span style="color: #2e2d31">(</span><span style="color: black">xs'</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">]</span>
	   <span style="color: #d85311">to</span> <a href="Set.pf.html#single_member171"><span style="color: #086c3c">single_member</span></a><span style="color: #2e2d31">&lt;</span><span style="color: black">T</span><span style="color: #2e2d31">&gt;</span><span style="color: #2e2d31">[</span><span style="color: black">x</span><span style="color: #2e2d31">]</span>
      <span style="color: #d85311">conclude</span> <span style="color: #9329ab">false</span>
        <span style="color: #d85311">by</span> <span style="color: #d85311">apply</span> <a href="Set.pf.html#empty_no_members174"><span style="color: #086c3c">empty_no_members</span></a><span style="color: #2e2d31">&lt;</span><span style="color: black">T</span><span style="color: #2e2d31">&gt;</span><span style="color: #2e2d31">[</span><span style="color: black">x</span><span style="color: #2e2d31">]</span>
	   <span style="color: #d85311">to</span> <span style="color: #2e2d31">(</span><span style="color: #d85311">rewrite</span> <span style="color: #2e2d31">(</span><span style="color: #d85311">definition</span> <a href="List.pf.html#set_of40"><span style="color: #086c3c">set_of</span></a> <span style="color: #d85311">in</span> <span style="color: black">prem</span><span style="color: #2e2d31">)</span> <span style="color: #d85311">in</span> <span style="color: black">x_xxs</span><span style="color: #2e2d31">)</span>
    <span style="color: #2e2d31">}</span>
  <span style="color: #2e2d31">}</span>
<span style="color: #d85311">end</span>

<span style="color: #d85311">theorem</span> <a href="List.pf.html#mset_of_empty77"><span id="mset_of_empty77" style="color: #086c3c">mset_of_empty</span></a><span style="color: #2e2d31">:</span> <span style="color: #d85311">all</span> <span style="color: black">T</span><span style="color: #2e2d31">:</span><span style="color: #0f95af">type</span><span style="color: #2e2d31">.</span> <span style="color: #d85311">all</span> <span style="color: black">xs</span><span style="color: #2e2d31">:</span><a href="List.pf.html#List36"><span style="color: #0f95af">List</span></a><span style="color: #2e2d31">&lt;</span><span style="color: black">T</span><span style="color: #2e2d31">&gt;</span><span style="color: #2e2d31">.</span>
  <span style="color: #d85311">if</span> <a href="List.pf.html#mset_of41"><span style="color: #086c3c">mset_of</span></a><span style="color: #2e2d31">(</span><span style="color: black">xs</span><span style="color: #2e2d31">)</span> <span style="color: #2e2d31">=</span> <span style="color: black">m_fun</span><span style="color: #2e2d31">(</span><span style="color: #2e2d31">&#x03BB;</span><span style="color: black">x</span><span style="color: #2e2d31">{</span><span style="color: #9329ab">0</span><span style="color: #2e2d31">}</span><span style="color: #2e2d31">)</span>
  <span style="color: #d85311">then</span> <span style="color: black">xs</span> <span style="color: #2e2d31">=</span> <span style="color: black">empty</span>
<span style="color: #d85311">proof</span>
  <span style="color: #d85311">arbitrary</span> <span style="color: black">T</span><span style="color: #2e2d31">:</span><span style="color: #0f95af">type</span>
  <span style="color: #d85311">arbitrary</span> <span style="color: black">xs</span><span style="color: #2e2d31">:</span><a href="List.pf.html#List36"><span style="color: #0f95af">List</span></a><span style="color: #2e2d31">&lt;</span><span style="color: black">T</span><span style="color: #2e2d31">&gt;</span>
  <span style="color: #d85311">switch</span> <span style="color: black">xs</span> <span style="color: #2e2d31">{</span>
    <span style="color: #d85311">case</span> <span style="color: black">empty</span> <span style="color: #2e2d31">{</span>
      <span style="color: #2e2d31">.</span>
    <span style="color: #2e2d31">}</span>
    <span style="color: #d85311">case</span> <span style="color: black">node</span><span style="color: #2e2d31">(</span><span style="color: black">x</span><span style="color: #2e2d31">,</span> <span style="color: black">xs'</span><span style="color: #2e2d31">)</span> <span style="color: #2e2d31">{</span>
      <span style="color: #d85311">suppose</span> <span style="color: black">prem</span>
      <span style="color: #d85311">have</span> <span style="color: black">cnt_x_z</span><span style="color: #2e2d31">:</span> <a href="MultiSet.pf.html#cnt186"><span style="color: #086c3c">cnt</span></a><span style="color: #2e2d31">(</span><span style="color: black">m_fun</span><span style="color: #2e2d31">(</span><span style="color: #2e2d31">&#x03BB;</span><span style="color: black">x'</span><span style="color: #2e2d31">{</span><span style="color: #9329ab">0</span><span style="color: #2e2d31">}</span> <span style="color: #2e2d31">:</span> <span style="color: #0f95af">fn</span> <span style="color: black">T</span><span style="color: #2e2d31">-&gt;</span><a href="Nat.pf.html#Nat211"><span style="color: #0f95af">Nat</span></a><span style="color: #2e2d31">)</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">(</span><span style="color: black">x</span><span style="color: #2e2d31">)</span> <span style="color: #2e2d31">=</span> <span style="color: #9329ab">0</span>
        <span style="color: #d85311">by</span> <span style="color: #d85311">definition</span> <a href="MultiSet.pf.html#cnt186"><span style="color: #086c3c">cnt</span></a>
      <span style="color: #d85311">have</span> <span style="color: black">cnt_x_pos</span><span style="color: #2e2d31">:</span> <span style="color: #9329ab">1</span> <span style="color: #2e2d31">&#x2264;</span> <a href="MultiSet.pf.html#cnt186"><span style="color: #086c3c">cnt</span></a><span style="color: #2e2d31">(</span><span style="color: black">m_fun</span><span style="color: #2e2d31">(</span><span style="color: #2e2d31">&#x03BB;</span><span style="color: black">x'</span><span style="color: #2e2d31">{</span><span style="color: #9329ab">0</span><span style="color: #2e2d31">}</span> <span style="color: #2e2d31">:</span> <span style="color: #0f95af">fn</span> <span style="color: black">T</span><span style="color: #2e2d31">-&gt;</span><a href="Nat.pf.html#Nat211"><span style="color: #0f95af">Nat</span></a><span style="color: #2e2d31">)</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">(</span><span style="color: black">x</span><span style="color: #2e2d31">)</span>
        <span style="color: #d85311">by</span> <span style="color: #d85311">suffices</span> <span style="color: #9329ab">1</span> <span style="color: #2e2d31">&#x2264;</span> <a href="MultiSet.pf.html#cnt186"><span style="color: #086c3c">cnt</span></a><span style="color: #2e2d31">(</span><a href="List.pf.html#mset_of41"><span style="color: #086c3c">mset_of</span></a><span style="color: #2e2d31">(</span><span style="color: black">node</span><span style="color: #2e2d31">(</span><span style="color: black">x</span><span style="color: #2e2d31">,</span><span style="color: black">xs'</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">(</span><span style="color: black">x</span><span style="color: #2e2d31">)</span>
               <span style="color: #d85311">by</span> <span style="color: #d85311">rewrite</span> <span style="color: #d85311">symmetric</span> <span style="color: black">prem</span>
           <span style="color: #d85311">suffices</span> <span style="color: #9329ab">1</span> <span style="color: #2e2d31">&#x2264;</span> <span style="color: #9329ab">1</span> <span style="color: #2e2d31">+</span> <a href="MultiSet.pf.html#cnt186"><span style="color: #086c3c">cnt</span></a><span style="color: #2e2d31">(</span><a href="List.pf.html#mset_of41"><span style="color: #086c3c">mset_of</span></a><span style="color: #2e2d31">(</span><span style="color: black">xs'</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">(</span><span style="color: black">x</span><span style="color: #2e2d31">)</span>
               <span style="color: #d85311">by</span> <span style="color: #d85311">definition</span> <span style="color: #2e2d31">{</span><a href="List.pf.html#mset_of41"><span style="color: #086c3c">mset_of</span></a><span style="color: #2e2d31">,</span> <span style="color: #d85311">operator</span> <span style="color: #2e2d31">&#x2A04;</span><span style="color: #2e2d31">,</span> <a href="MultiSet.pf.html#cnt186"><span style="color: #086c3c">cnt</span></a><span style="color: #2e2d31">,</span> <span style="color: black">m_one</span><span style="color: #2e2d31">}</span>
	   <a href="Nat.pf.html#less_equal_add291"><span style="color: #086c3c">less_equal_add</span></a><span style="color: #2e2d31">[</span><span style="color: #9329ab">1</span><span style="color: #2e2d31">]</span><span style="color: #2e2d31">[</span><a href="MultiSet.pf.html#cnt186"><span style="color: #086c3c">cnt</span></a><span style="color: #2e2d31">(</span><a href="List.pf.html#mset_of41"><span style="color: #086c3c">mset_of</span></a><span style="color: #2e2d31">(</span><span style="color: black">xs'</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">(</span><span style="color: black">x</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">]</span>
      <span style="color: #d85311">conclude</span> <span style="color: #9329ab">false</span>
          <span style="color: #d85311">by</span> <span style="color: #d85311">definition</span> <span style="color: #2e2d31">{</span><a href="MultiSet.pf.html#cnt186"><span style="color: #086c3c">cnt</span></a><span style="color: #2e2d31">,</span> <a href="Nat.pf.html#operator≤217"><span style="color: #086c3c">operator ≤</span></a><span style="color: #2e2d31">}</span> <span style="color: #d85311">in</span>
	     <span style="color: black">cnt_x_pos</span>
    <span style="color: #2e2d31">}</span>
  <span style="color: #2e2d31">}</span>
<span style="color: #d85311">end</span>

<span style="color: #d85311">theorem</span> <a href="List.pf.html#som_mset_eq_set78"><span id="som_mset_eq_set78" style="color: #086c3c">som_mset_eq_set</span></a><span style="color: #2e2d31">:</span> <span style="color: #d85311">all</span> <span style="color: black">T</span><span style="color: #2e2d31">:</span><span style="color: #0f95af">type</span><span style="color: #2e2d31">.</span> <span style="color: #d85311">all</span> <span style="color: black">xs</span><span style="color: #2e2d31">:</span><a href="List.pf.html#List36"><span style="color: #0f95af">List</span></a><span style="color: #2e2d31">&lt;</span><span style="color: black">T</span><span style="color: #2e2d31">&gt;</span><span style="color: #2e2d31">.</span>
  <span style="color: black">set_of_mset</span><span style="color: #2e2d31">(</span><a href="List.pf.html#mset_of41"><span style="color: #086c3c">mset_of</span></a><span style="color: #2e2d31">(</span><span style="color: black">xs</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">)</span> <span style="color: #2e2d31">=</span> <a href="List.pf.html#set_of40"><span style="color: #086c3c">set_of</span></a><span style="color: #2e2d31">(</span><span style="color: black">xs</span><span style="color: #2e2d31">)</span>
<span style="color: #d85311">proof</span>
  <span style="color: #d85311">arbitrary</span> <span style="color: black">T</span><span style="color: #2e2d31">:</span><span style="color: #0f95af">type</span>
  <span style="color: #d85311">induction</span> <a href="List.pf.html#List36"><span style="color: #0f95af">List</span></a><span style="color: #2e2d31">&lt;</span><span style="color: black">T</span><span style="color: #2e2d31">&gt;</span>
  <span style="color: #d85311">case</span> <span style="color: black">empty</span> <span style="color: #2e2d31">{</span>
    <span style="color: #d85311">suffices</span> <span style="color: black">char_fun</span><span style="color: #2e2d31">(</span><span style="color: #2e2d31">&#x03BB;</span><span style="color: black">x</span><span style="color: #2e2d31">{</span><span style="color: #2e2d31">(</span><span style="color: #d85311">if</span> <a href="MultiSet.pf.html#cnt186"><span style="color: #086c3c">cnt</span></a><span style="color: #2e2d31">(</span><span style="color: black">m_fun</span><span style="color: #2e2d31">(</span><span style="color: #2e2d31">&#x03BB;</span><span style="color: black">x'</span><span style="color: #2e2d31">{</span><span style="color: #9329ab">0</span><span style="color: #2e2d31">}</span><span style="color: #2e2d31">:</span><span style="color: #0f95af">fn</span> <span style="color: black">T</span><span style="color: #2e2d31">-&gt;</span><a href="Nat.pf.html#Nat211"><span style="color: #0f95af">Nat</span></a><span style="color: #2e2d31">)</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">(</span><span style="color: black">x</span><span style="color: #2e2d31">)</span> <span style="color: #2e2d31">=</span> <span style="color: #9329ab">0</span>
                          <span style="color: #d85311">then</span> <span style="color: #9329ab">false</span> <span style="color: #d85311">else</span> <span style="color: #9329ab">true</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">}</span> <span style="color: #2e2d31">:</span> <span style="color: #0f95af">fn</span> <span style="color: black">T</span><span style="color: #2e2d31">-&gt;</span><span style="color: #0f95af">bool</span><span style="color: #2e2d31">)</span>
           <span style="color: #2e2d31">=</span> <span style="color: black">char_fun</span><span style="color: #2e2d31">(</span><span style="color: #2e2d31">&#x03BB;</span><span style="color: black">_</span><span style="color: #2e2d31">{</span><span style="color: #9329ab">false</span><span style="color: #2e2d31">}</span><span style="color: #2e2d31">)</span>
        <span style="color: #d85311">by</span> <span style="color: #d85311">definition</span> <span style="color: #2e2d31">{</span><a href="List.pf.html#mset_of41"><span style="color: #086c3c">mset_of</span></a><span style="color: #2e2d31">,</span> <a href="List.pf.html#set_of40"><span style="color: #086c3c">set_of</span></a><span style="color: #2e2d31">,</span> <span style="color: black">set_of_mset</span><span style="color: #2e2d31">}</span>
    <span style="color: #d85311">have</span> <span style="color: black">eq</span><span style="color: #2e2d31">:</span><span style="color: #2e2d31">(</span><span style="color: #2e2d31">&#x03BB;</span><span style="color: black">x</span><span style="color: #2e2d31">{</span><span style="color: #d85311">if</span> <a href="MultiSet.pf.html#cnt186"><span style="color: #086c3c">cnt</span></a><span style="color: #2e2d31">(</span><span style="color: black">m_fun</span><span style="color: #2e2d31">(</span><span style="color: #2e2d31">&#x03BB;</span><span style="color: black">x'</span><span style="color: #2e2d31">{</span><span style="color: #9329ab">0</span><span style="color: #2e2d31">}</span> <span style="color: #2e2d31">:</span> <span style="color: #0f95af">fn</span> <span style="color: black">T</span><span style="color: #2e2d31">-&gt;</span><a href="Nat.pf.html#Nat211"><span style="color: #0f95af">Nat</span></a><span style="color: #2e2d31">)</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">(</span><span style="color: black">x</span><span style="color: #2e2d31">)</span> <span style="color: #2e2d31">=</span> <span style="color: #9329ab">0</span> <span style="color: #d85311">then</span> <span style="color: #9329ab">false</span> <span style="color: #d85311">else</span> <span style="color: #9329ab">true</span><span style="color: #2e2d31">}</span>
             <span style="color: #2e2d31">:</span> <span style="color: #0f95af">fn</span> <span style="color: black">T</span><span style="color: #2e2d31">-&gt;</span><span style="color: #0f95af">bool</span><span style="color: #2e2d31">)</span>
            <span style="color: #2e2d31">=</span> <span style="color: #2e2d31">&#x03BB;</span><span style="color: black">_</span><span style="color: #2e2d31">{</span><span style="color: #9329ab">false</span><span style="color: #2e2d31">}</span>
        <span style="color: #d85311">by</span> <span style="color: #d85311">extensionality</span>  <span style="color: #d85311">arbitrary</span> <span style="color: black">x</span><span style="color: #2e2d31">:</span><span style="color: black">T</span>  <span style="color: #d85311">definition</span> <a href="MultiSet.pf.html#cnt186"><span style="color: #086c3c">cnt</span></a>
    <span style="color: #d85311">rewrite</span> <span style="color: black">eq</span>
  <span style="color: #2e2d31">}</span>
  <span style="color: #d85311">case</span> <span style="color: black">node</span><span style="color: #2e2d31">(</span><span style="color: black">x</span><span style="color: #2e2d31">,</span> <span style="color: black">xs'</span><span style="color: #2e2d31">)</span> <span style="color: #d85311">suppose</span> <span style="color: black">IH</span> <span style="color: #2e2d31">{</span>
    <span style="color: #d85311">suffices</span> <span style="color: black">set_of_mset</span><span style="color: #2e2d31">(</span><span style="color: black">m_one</span><span style="color: #2e2d31">(</span><span style="color: black">x</span><span style="color: #2e2d31">)</span> <span style="color: #2e2d31">&#x2A04;</span> <a href="List.pf.html#mset_of41"><span style="color: #086c3c">mset_of</span></a><span style="color: #2e2d31">(</span><span style="color: black">xs'</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">)</span> <span style="color: #2e2d31">=</span> <a href="Set.pf.html#single166"><span style="color: #086c3c">single</span></a><span style="color: #2e2d31">(</span><span style="color: black">x</span><span style="color: #2e2d31">)</span> <span style="color: #2e2d31">&#x222A;</span> <a href="List.pf.html#set_of40"><span style="color: #086c3c">set_of</span></a><span style="color: #2e2d31">(</span><span style="color: black">xs'</span><span style="color: #2e2d31">)</span>
        <span style="color: #d85311">by</span> <span style="color: #d85311">definition</span> <span style="color: #2e2d31">{</span><a href="List.pf.html#mset_of41"><span style="color: #086c3c">mset_of</span></a><span style="color: #2e2d31">,</span> <a href="List.pf.html#set_of40"><span style="color: #086c3c">set_of</span></a><span style="color: #2e2d31">}</span>
    <span style="color: #d85311">suffices</span> <a href="Set.pf.html#single166"><span style="color: #086c3c">single</span></a><span style="color: #2e2d31">(</span><span style="color: black">x</span><span style="color: #2e2d31">)</span> <span style="color: #2e2d31">&#x222A;</span> <span style="color: black">set_of_mset</span><span style="color: #2e2d31">(</span><a href="List.pf.html#mset_of41"><span style="color: #086c3c">mset_of</span></a><span style="color: #2e2d31">(</span><span style="color: black">xs'</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">)</span> <span style="color: #2e2d31">=</span> <a href="Set.pf.html#single166"><span style="color: #086c3c">single</span></a><span style="color: #2e2d31">(</span><span style="color: black">x</span><span style="color: #2e2d31">)</span> <span style="color: #2e2d31">&#x222A;</span> <a href="List.pf.html#set_of40"><span style="color: #086c3c">set_of</span></a><span style="color: #2e2d31">(</span><span style="color: black">xs'</span><span style="color: #2e2d31">)</span>
        <span style="color: #d85311">by</span> <span style="color: #d85311">rewrite</span> <a href="MultiSet.pf.html#som_union195"><span style="color: #086c3c">som_union</span></a><span style="color: #2e2d31">&lt;</span><span style="color: black">T</span><span style="color: #2e2d31">&gt;</span><span style="color: #2e2d31">[</span><span style="color: black">m_one</span><span style="color: #2e2d31">(</span><span style="color: black">x</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">,</span> <a href="List.pf.html#mset_of41"><span style="color: #086c3c">mset_of</span></a><span style="color: #2e2d31">(</span><span style="color: black">xs'</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">]</span>
                 <span style="color: #2e2d31">|</span> <a href="MultiSet.pf.html#som_one_single194"><span style="color: #086c3c">som_one_single</span></a><span style="color: #2e2d31">&lt;</span><span style="color: black">T</span><span style="color: #2e2d31">&gt;</span><span style="color: #2e2d31">[</span><span style="color: black">x</span><span style="color: #2e2d31">]</span>
    <span style="color: #d85311">rewrite</span> <span style="color: black">IH</span>
  <span style="color: #2e2d31">}</span>
<span style="color: #d85311">end</span>

<span style="color: #d85311">theorem</span> <a href="List.pf.html#remove_all_absent79"><span id="remove_all_absent79" style="color: #086c3c">remove_all_absent</span></a><span style="color: #2e2d31">:</span> <span style="color: #d85311">all</span> <span style="color: black">T</span><span style="color: #2e2d31">:</span><span style="color: #0f95af">type</span><span style="color: #2e2d31">.</span> <span style="color: #d85311">all</span> <span style="color: black">xs</span><span style="color: #2e2d31">:</span><a href="List.pf.html#List36"><span style="color: #0f95af">List</span></a><span style="color: #2e2d31">&lt;</span><span style="color: black">T</span><span style="color: #2e2d31">&gt;</span><span style="color: #2e2d31">.</span> <span style="color: #d85311">all</span> <span style="color: black">y</span><span style="color: #2e2d31">:</span><span style="color: black">T</span><span style="color: #2e2d31">.</span>
  <span style="color: #d85311">not</span> <span style="color: #2e2d31">(</span><span style="color: black">y</span> <span style="color: #2e2d31">&#x2208;</span> <a href="List.pf.html#set_of40"><span style="color: #086c3c">set_of</span></a><span style="color: #2e2d31">(</span><a href="List.pf.html#remove_all51"><span style="color: #086c3c">remove_all</span></a><span style="color: #2e2d31">(</span><span style="color: black">xs</span><span style="color: #2e2d31">,</span> <span style="color: black">y</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">)</span>
<span style="color: #d85311">proof</span>
  <span style="color: #d85311">arbitrary</span> <span style="color: black">T</span><span style="color: #2e2d31">:</span><span style="color: #0f95af">type</span>
  <span style="color: #d85311">induction</span> <a href="List.pf.html#List36"><span style="color: #0f95af">List</span></a><span style="color: #2e2d31">&lt;</span><span style="color: black">T</span><span style="color: #2e2d31">&gt;</span>
  <span style="color: #d85311">case</span> <span style="color: black">empty</span> <span style="color: #2e2d31">{</span>
    <span style="color: #d85311">arbitrary</span> <span style="color: black">y</span><span style="color: #2e2d31">:</span><span style="color: black">T</span>
    <span style="color: #d85311">suffices</span> <span style="color: #2e2d31">(</span><span style="color: #d85311">if</span> <span style="color: black">y</span> <span style="color: #2e2d31">&#x2208;</span> <span style="color: black">char_fun</span><span style="color: #2e2d31">(</span><span style="color: #2e2d31">&#x03BB;</span><span style="color: black">_</span><span style="color: #2e2d31">{</span><span style="color: #9329ab">false</span><span style="color: #2e2d31">}</span><span style="color: #2e2d31">)</span> <span style="color: #d85311">then</span> <span style="color: #9329ab">false</span><span style="color: #2e2d31">)</span>
        <span style="color: #d85311">by</span> <span style="color: #d85311">definition</span> <span style="color: #2e2d31">{</span><a href="List.pf.html#remove_all51"><span style="color: #086c3c">remove_all</span></a><span style="color: #2e2d31">,</span> <a href="List.pf.html#set_of40"><span style="color: #086c3c">set_of</span></a><span style="color: #2e2d31">}</span>
    <a href="Set.pf.html#empty_no_members174"><span style="color: #086c3c">empty_no_members</span></a><span style="color: #2e2d31">&lt;</span><span style="color: black">T</span><span style="color: #2e2d31">&gt;</span><span style="color: #2e2d31">[</span><span style="color: black">y</span><span style="color: #2e2d31">]</span>
  <span style="color: #2e2d31">}</span>
  <span style="color: #d85311">case</span> <span style="color: black">node</span><span style="color: #2e2d31">(</span><span style="color: black">x</span><span style="color: #2e2d31">,</span> <span style="color: black">xs'</span><span style="color: #2e2d31">)</span>
      <span style="color: #d85311">suppose</span> <span style="color: black">IH</span><span style="color: #2e2d31">:</span> <span style="color: #d85311">all</span> <span style="color: black">y</span><span style="color: #2e2d31">:</span><span style="color: black">T</span><span style="color: #2e2d31">.</span> <span style="color: #d85311">not</span> <span style="color: #2e2d31">(</span><span style="color: black">y</span> <span style="color: #2e2d31">&#x2208;</span> <a href="List.pf.html#set_of40"><span style="color: #086c3c">set_of</span></a><span style="color: #2e2d31">(</span><a href="List.pf.html#remove_all51"><span style="color: #086c3c">remove_all</span></a><span style="color: #2e2d31">(</span><span style="color: black">xs'</span><span style="color: #2e2d31">,</span><span style="color: black">y</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">)</span>
  <span style="color: #2e2d31">{</span>
    <span style="color: #d85311">arbitrary</span> <span style="color: black">y</span><span style="color: #2e2d31">:</span><span style="color: black">T</span>
    <span style="color: #d85311">switch</span> <span style="color: black">x</span> <span style="color: #2e2d31">=</span> <span style="color: black">y</span> <span style="color: #2e2d31">{</span>
      <span style="color: #d85311">case</span> <span style="color: #9329ab">true</span> <span style="color: #d85311">suppose</span> <span style="color: black">xy_true</span> <span style="color: #2e2d31">{</span>
        <span style="color: #d85311">have</span> <span style="color: black">x_eq_y</span><span style="color: #2e2d31">:</span> <span style="color: black">x</span> <span style="color: #2e2d31">=</span> <span style="color: black">y</span> <span style="color: #d85311">by</span> <span style="color: #d85311">rewrite</span> <span style="color: black">xy_true</span>
        <span style="color: #d85311">suffices</span> <span style="color: #d85311">not</span> <span style="color: #2e2d31">(</span><span style="color: black">y</span> <span style="color: #2e2d31">&#x2208;</span> <a href="List.pf.html#set_of40"><span style="color: #086c3c">set_of</span></a><span style="color: #2e2d31">(</span><a href="List.pf.html#remove_all51"><span style="color: #086c3c">remove_all</span></a><span style="color: #2e2d31">(</span><span style="color: black">node</span><span style="color: #2e2d31">(</span><span style="color: black">y</span><span style="color: #2e2d31">,</span><span style="color: black">xs'</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">,</span><span style="color: black">y</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">)</span>
            <span style="color: #d85311">by</span> <span style="color: #d85311">rewrite</span> <span style="color: black">x_eq_y</span>
        <span style="color: #d85311">suffices</span> <span style="color: #d85311">not</span> <span style="color: #2e2d31">(</span><span style="color: black">y</span> <span style="color: #2e2d31">&#x2208;</span> <a href="List.pf.html#set_of40"><span style="color: #086c3c">set_of</span></a><span style="color: #2e2d31">(</span><a href="List.pf.html#remove_all51"><span style="color: #086c3c">remove_all</span></a><span style="color: #2e2d31">(</span><span style="color: black">xs'</span><span style="color: #2e2d31">,</span><span style="color: black">y</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">)</span>
            <span style="color: #d85311">by</span> <span style="color: #d85311">definition</span> <a href="List.pf.html#remove_all51"><span style="color: #086c3c">remove_all</span></a>
        <span style="color: black">IH</span><span style="color: #2e2d31">[</span><span style="color: black">y</span><span style="color: #2e2d31">]</span>
      <span style="color: #2e2d31">}</span>
      <span style="color: #d85311">case</span> <span style="color: #9329ab">false</span> <span style="color: #d85311">suppose</span> <span style="color: black">xy_false</span> <span style="color: #2e2d31">{</span>
        <span style="color: #d85311">suffices</span> <span style="color: #d85311">not</span> <span style="color: #2e2d31">(</span><span style="color: black">y</span> <span style="color: #2e2d31">&#x2208;</span> <a href="List.pf.html#set_of40"><span style="color: #086c3c">set_of</span></a><span style="color: #2e2d31">(</span><span style="color: #d85311">if</span> <span style="color: black">x</span> <span style="color: #2e2d31">=</span> <span style="color: black">y</span> <span style="color: #d85311">then</span> <a href="List.pf.html#remove_all51"><span style="color: #086c3c">remove_all</span></a><span style="color: #2e2d31">(</span><span style="color: black">xs'</span><span style="color: #2e2d31">,</span><span style="color: black">y</span><span style="color: #2e2d31">)</span>
                                 <span style="color: #d85311">else</span> <span style="color: black">node</span><span style="color: #2e2d31">(</span><span style="color: black">x</span><span style="color: #2e2d31">,</span><a href="List.pf.html#remove_all51"><span style="color: #086c3c">remove_all</span></a><span style="color: #2e2d31">(</span><span style="color: black">xs'</span><span style="color: #2e2d31">,</span><span style="color: black">y</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">)</span>
            <span style="color: #d85311">by</span> <span style="color: #d85311">definition</span> <a href="List.pf.html#remove_all51"><span style="color: #086c3c">remove_all</span></a>
	<span style="color: #d85311">suppose</span> <span style="color: black">y_in_sx_xsy</span>
	<span style="color: #d85311">have</span> <span style="color: black">y_in_sx_or_xsy</span><span style="color: #2e2d31">:</span> <span style="color: black">y</span> <span style="color: #2e2d31">&#x2208;</span> <a href="Set.pf.html#single166"><span style="color: #086c3c">single</span></a><span style="color: #2e2d31">(</span><span style="color: black">x</span><span style="color: #2e2d31">)</span> <span style="color: #d85311">or</span> <span style="color: black">y</span> <span style="color: #2e2d31">&#x2208;</span> <a href="List.pf.html#set_of40"><span style="color: #086c3c">set_of</span></a><span style="color: #2e2d31">(</span><a href="List.pf.html#remove_all51"><span style="color: #086c3c">remove_all</span></a><span style="color: #2e2d31">(</span><span style="color: black">xs'</span><span style="color: #2e2d31">,</span><span style="color: black">y</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">)</span>
	  <span style="color: #d85311">by</span> <span style="color: #d85311">apply</span> <a href="Set.pf.html#member_union176"><span style="color: #086c3c">member_union</span></a><span style="color: #2e2d31">&lt;</span><span style="color: black">T</span><span style="color: #2e2d31">&gt;</span><span style="color: #2e2d31">[</span><span style="color: black">y</span><span style="color: #2e2d31">,</span><a href="Set.pf.html#single166"><span style="color: #086c3c">single</span></a><span style="color: #2e2d31">(</span><span style="color: black">x</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">,</span> <a href="List.pf.html#set_of40"><span style="color: #086c3c">set_of</span></a><span style="color: #2e2d31">(</span><a href="List.pf.html#remove_all51"><span style="color: #086c3c">remove_all</span></a><span style="color: #2e2d31">(</span><span style="color: black">xs'</span><span style="color: #2e2d31">,</span><span style="color: black">y</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">]</span>
	     <span style="color: #d85311">to</span> <span style="color: #2e2d31">(</span><span style="color: #d85311">definition</span> <a href="List.pf.html#set_of40"><span style="color: #086c3c">set_of</span></a> <span style="color: #d85311">in</span> <span style="color: #d85311">rewrite</span> <span style="color: black">xy_false</span> <span style="color: #d85311">in</span> <span style="color: black">y_in_sx_xsy</span><span style="color: #2e2d31">)</span>
	<span style="color: #d85311">cases</span> <span style="color: black">y_in_sx_or_xsy</span>
	<span style="color: #d85311">case</span> <span style="color: black">y_in_sx</span> <span style="color: #2e2d31">{</span>
	  <span style="color: #d85311">have</span> <span style="color: black">xy</span><span style="color: #2e2d31">:</span> <span style="color: black">x</span> <span style="color: #2e2d31">=</span> <span style="color: black">y</span> <span style="color: #d85311">by</span> <span style="color: #d85311">apply</span> <a href="Set.pf.html#single_equal172"><span style="color: #086c3c">single_equal</span></a><span style="color: #2e2d31">&lt;</span><span style="color: black">T</span><span style="color: #2e2d31">&gt;</span> <span style="color: #d85311">to</span> <span style="color: black">y_in_sx</span>
	  <span style="color: #d85311">conclude</span> <span style="color: #9329ab">false</span> <span style="color: #d85311">by</span> <span style="color: #d85311">rewrite</span> <span style="color: black">xy_false</span> <span style="color: #d85311">in</span> <span style="color: black">xy</span>
	<span style="color: #2e2d31">}</span>
	<span style="color: #d85311">case</span> <span style="color: black">y_in_xsy</span> <span style="color: #2e2d31">{</span>
	  <span style="color: #d85311">conclude</span> <span style="color: #9329ab">false</span> <span style="color: #d85311">by</span> <span style="color: #d85311">apply</span> <span style="color: black">IH</span><span style="color: #2e2d31">[</span><span style="color: black">y</span><span style="color: #2e2d31">]</span> <span style="color: #d85311">to</span> <span style="color: black">y_in_xsy</span>
	<span style="color: #2e2d31">}</span>
      <span style="color: #2e2d31">}</span>
    <span style="color: #2e2d31">}</span>
  <span style="color: #2e2d31">}</span>
<span style="color: #d85311">end</span>

<span style="color: #d85311">theorem</span> <a href="List.pf.html#all_elements_member80"><span id="all_elements_member80" style="color: #086c3c">all_elements_member</span></a><span style="color: #2e2d31">:</span>
  <span style="color: #d85311">all</span> <span style="color: black">T</span><span style="color: #2e2d31">:</span><span style="color: #0f95af">type</span><span style="color: #2e2d31">.</span> <span style="color: #d85311">all</span> <span style="color: black">ys</span><span style="color: #2e2d31">:</span> <a href="List.pf.html#List36"><span style="color: #0f95af">List</span></a><span style="color: #2e2d31">&lt;</span><span style="color: black">T</span><span style="color: #2e2d31">&gt;</span><span style="color: #2e2d31">.</span> <span style="color: #d85311">all</span> <span style="color: black">x</span><span style="color: #2e2d31">:</span><span style="color: black">T</span><span style="color: #2e2d31">,</span> <span style="color: black">P</span><span style="color: #2e2d31">:</span> <span style="color: #0f95af">fn</span> <span style="color: black">T</span><span style="color: #2e2d31">-&gt;</span><span style="color: #0f95af">bool</span><span style="color: #2e2d31">.</span>
  <span style="color: #d85311">if</span> <a href="List.pf.html#all_elements48"><span style="color: #086c3c">all_elements</span></a><span style="color: #2e2d31">(</span><span style="color: black">ys</span><span style="color: #2e2d31">,</span> <span style="color: black">P</span><span style="color: #2e2d31">)</span> <span style="color: #d85311">and</span> <span style="color: black">x</span> <span style="color: #2e2d31">&#x2208;</span> <a href="List.pf.html#set_of40"><span style="color: #086c3c">set_of</span></a><span style="color: #2e2d31">(</span><span style="color: black">ys</span><span style="color: #2e2d31">)</span>
  <span style="color: #d85311">then</span> <span style="color: black">P</span><span style="color: #2e2d31">(</span><span style="color: black">x</span><span style="color: #2e2d31">)</span>
<span style="color: #d85311">proof</span>
  <span style="color: #d85311">arbitrary</span> <span style="color: black">T</span><span style="color: #2e2d31">:</span><span style="color: #0f95af">type</span> <span style="color: #d85311">arbitrary</span> <span style="color: black">ys</span><span style="color: #2e2d31">:</span><a href="List.pf.html#List36"><span style="color: #0f95af">List</span></a><span style="color: #2e2d31">&lt;</span><span style="color: black">T</span><span style="color: #2e2d31">&gt;</span>
  <span style="color: #d85311">arbitrary</span> <span style="color: black">x</span><span style="color: #2e2d31">:</span><span style="color: black">T</span><span style="color: #2e2d31">,</span> <span style="color: black">P</span><span style="color: #2e2d31">:</span><span style="color: #0f95af">fn</span> <span style="color: black">T</span><span style="color: #2e2d31">-&gt;</span><span style="color: #0f95af">bool</span>
  <span style="color: #d85311">suppose</span> <span style="color: black">prem</span>
  <span style="color: #d85311">apply</span> <span style="color: #2e2d31">(</span><span style="color: #d85311">rewrite</span> <a href="List.pf.html#all_elements_eq_member74"><span style="color: #086c3c">all_elements_eq_member</span></a><span style="color: #2e2d31">&lt;</span><span style="color: black">T</span><span style="color: #2e2d31">&gt;</span><span style="color: #2e2d31">[</span><span style="color: black">ys</span><span style="color: #2e2d31">,</span> <span style="color: black">P</span><span style="color: #2e2d31">]</span> <span style="color: #d85311">in</span> <span style="color: #d85311">conjunct</span> <span style="color: #9329ab">0</span> <span style="color: #d85311">of</span> <span style="color: black">prem</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">[</span><span style="color: black">x</span><span style="color: #2e2d31">]</span>
  <span style="color: #d85311">to</span> <span style="color: #d85311">conjunct</span> <span style="color: #9329ab">1</span> <span style="color: #d85311">of</span> <span style="color: black">prem</span>
<span style="color: #d85311">end</span>

<span style="color: #d85311">theorem</span> <a href="List.pf.html#all_elements_set_of81"><span id="all_elements_set_of81" style="color: #086c3c">all_elements_set_of</span></a><span style="color: #2e2d31">:</span> <span style="color: #d85311">all</span> <span style="color: black">T</span><span style="color: #2e2d31">:</span><span style="color: #0f95af">type</span><span style="color: #2e2d31">.</span> <span style="color: #d85311">all</span> <span style="color: black">xs</span><span style="color: #2e2d31">:</span><a href="List.pf.html#List36"><span style="color: #0f95af">List</span></a><span style="color: #2e2d31">&lt;</span><span style="color: black">T</span><span style="color: #2e2d31">&gt;</span><span style="color: #2e2d31">,</span> <span style="color: black">ys</span><span style="color: #2e2d31">:</span><a href="List.pf.html#List36"><span style="color: #0f95af">List</span></a><span style="color: #2e2d31">&lt;</span><span style="color: black">T</span><span style="color: #2e2d31">&gt;</span><span style="color: #2e2d31">,</span> <span style="color: black">P</span><span style="color: #2e2d31">:</span><span style="color: #0f95af">fn</span> <span style="color: black">T</span> <span style="color: #2e2d31">-&gt;</span> <span style="color: #0f95af">bool</span><span style="color: #2e2d31">.</span>
  <span style="color: #d85311">if</span> <a href="List.pf.html#set_of40"><span style="color: #086c3c">set_of</span></a><span style="color: #2e2d31">(</span><span style="color: black">xs</span><span style="color: #2e2d31">)</span> <span style="color: #2e2d31">=</span> <a href="List.pf.html#set_of40"><span style="color: #086c3c">set_of</span></a><span style="color: #2e2d31">(</span><span style="color: black">ys</span><span style="color: #2e2d31">)</span>
  <span style="color: #d85311">then</span> <a href="List.pf.html#all_elements48"><span style="color: #086c3c">all_elements</span></a><span style="color: #2e2d31">(</span><span style="color: black">xs</span><span style="color: #2e2d31">,</span> <span style="color: black">P</span><span style="color: #2e2d31">)</span> <span style="color: #2e2d31">=</span> <a href="List.pf.html#all_elements48"><span style="color: #086c3c">all_elements</span></a><span style="color: #2e2d31">(</span><span style="color: black">ys</span><span style="color: #2e2d31">,</span> <span style="color: black">P</span><span style="color: #2e2d31">)</span>
<span style="color: #d85311">proof</span>
  <span style="color: #d85311">arbitrary</span> <span style="color: black">T</span><span style="color: #2e2d31">:</span><span style="color: #0f95af">type</span>
  <span style="color: #d85311">arbitrary</span> <span style="color: black">xs</span><span style="color: #2e2d31">:</span><a href="List.pf.html#List36"><span style="color: #0f95af">List</span></a><span style="color: #2e2d31">&lt;</span><span style="color: black">T</span><span style="color: #2e2d31">&gt;</span><span style="color: #2e2d31">,</span> <span style="color: black">ys</span><span style="color: #2e2d31">:</span><a href="List.pf.html#List36"><span style="color: #0f95af">List</span></a><span style="color: #2e2d31">&lt;</span><span style="color: black">T</span><span style="color: #2e2d31">&gt;</span><span style="color: #2e2d31">,</span> <span style="color: black">P</span><span style="color: #2e2d31">:</span><span style="color: #0f95af">fn</span> <span style="color: black">T</span> <span style="color: #2e2d31">-&gt;</span> <span style="color: #0f95af">bool</span>
  <span style="color: #d85311">suppose</span> <span style="color: black">xs_ys</span>
  <span style="color: #d85311">rewrite</span> <a href="List.pf.html#all_elements_eq_member74"><span style="color: #086c3c">all_elements_eq_member</span></a><span style="color: #2e2d31">&lt;</span><span style="color: black">T</span><span style="color: #2e2d31">&gt;</span><span style="color: #2e2d31">[</span><span style="color: black">xs</span><span style="color: #2e2d31">,</span><span style="color: black">P</span><span style="color: #2e2d31">]</span> <span style="color: #2e2d31">|</span> <a href="List.pf.html#all_elements_eq_member74"><span style="color: #086c3c">all_elements_eq_member</span></a><span style="color: #2e2d31">&lt;</span><span style="color: black">T</span><span style="color: #2e2d31">&gt;</span><span style="color: #2e2d31">[</span><span style="color: black">ys</span><span style="color: #2e2d31">,</span><span style="color: black">P</span><span style="color: #2e2d31">]</span>
  <span style="color: #2e2d31">|</span> <span style="color: black">xs_ys</span>
<span style="color: #d85311">end</span>

<span style="color: #d85311">theorem</span> <a href="List.pf.html#set_of_append82"><span id="set_of_append82" style="color: #086c3c">set_of_append</span></a><span style="color: #2e2d31">:</span> <span style="color: #d85311">all</span> <span style="color: black">T</span><span style="color: #2e2d31">:</span><span style="color: #0f95af">type</span><span style="color: #2e2d31">.</span> <span style="color: #d85311">all</span> <span style="color: black">xs</span><span style="color: #2e2d31">:</span><a href="List.pf.html#List36"><span style="color: #0f95af">List</span></a><span style="color: #2e2d31">&lt;</span><span style="color: black">T</span><span style="color: #2e2d31">&gt;</span><span style="color: #2e2d31">.</span>
  <span style="color: #d85311">all</span> <span style="color: black">ys</span><span style="color: #2e2d31">:</span><a href="List.pf.html#List36"><span style="color: #0f95af">List</span></a><span style="color: #2e2d31">&lt;</span><span style="color: black">T</span><span style="color: #2e2d31">&gt;</span><span style="color: #2e2d31">.</span>
  <a href="List.pf.html#set_of40"><span style="color: #086c3c">set_of</span></a><span style="color: #2e2d31">(</span><span style="color: black">xs</span> <span style="color: #2e2d31">++</span> <span style="color: black">ys</span><span style="color: #2e2d31">)</span> <span style="color: #2e2d31">=</span> <a href="List.pf.html#set_of40"><span style="color: #086c3c">set_of</span></a><span style="color: #2e2d31">(</span><span style="color: black">xs</span><span style="color: #2e2d31">)</span> <span style="color: #2e2d31">&#x222A;</span> <a href="List.pf.html#set_of40"><span style="color: #086c3c">set_of</span></a><span style="color: #2e2d31">(</span><span style="color: black">ys</span><span style="color: #2e2d31">)</span>
<span style="color: #d85311">proof</span>
  <span style="color: #d85311">arbitrary</span> <span style="color: black">T</span><span style="color: #2e2d31">:</span><span style="color: #0f95af">type</span>
  <span style="color: #d85311">induction</span> <a href="List.pf.html#List36"><span style="color: #0f95af">List</span></a><span style="color: #2e2d31">&lt;</span><span style="color: black">T</span><span style="color: #2e2d31">&gt;</span>
  <span style="color: #d85311">case</span> <span style="color: black">empty</span> <span style="color: #2e2d31">{</span>
    <span style="color: #d85311">arbitrary</span> <span style="color: black">ys</span><span style="color: #2e2d31">:</span><a href="List.pf.html#List36"><span style="color: #0f95af">List</span></a><span style="color: #2e2d31">&lt;</span><span style="color: black">T</span><span style="color: #2e2d31">&gt;</span>
    <span style="color: #d85311">suffices</span> <a href="List.pf.html#set_of40"><span style="color: #086c3c">set_of</span></a><span style="color: #2e2d31">(</span><span style="color: black">ys</span><span style="color: #2e2d31">)</span> <span style="color: #2e2d31">=</span> <span style="color: #9329ab">&#x2205;</span> <span style="color: #2e2d31">&#x222A;</span> <a href="List.pf.html#set_of40"><span style="color: #086c3c">set_of</span></a><span style="color: #2e2d31">(</span><span style="color: black">ys</span><span style="color: #2e2d31">)</span>
        <span style="color: #d85311">by</span> <span style="color: #d85311">definition</span> <span style="color: #2e2d31">{</span><a href="List.pf.html#operator++38"><span style="color: #086c3c">operator++</span></a><span style="color: #2e2d31">,</span> <a href="List.pf.html#set_of40"><span style="color: #086c3c">set_of</span></a><span style="color: #2e2d31">}</span>
    <span style="color: #d85311">rewrite</span> <a href="Set.pf.html#empty_union179"><span style="color: #086c3c">empty_union</span></a><span style="color: #2e2d31">&lt;</span><span style="color: black">T</span><span style="color: #2e2d31">&gt;</span><span style="color: #2e2d31">[</span><a href="List.pf.html#set_of40"><span style="color: #086c3c">set_of</span></a><span style="color: #2e2d31">(</span><span style="color: black">ys</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">]</span>
  <span style="color: #2e2d31">}</span>
  <span style="color: #d85311">case</span> <span style="color: black">node</span><span style="color: #2e2d31">(</span><span style="color: black">x</span><span style="color: #2e2d31">,</span> <span style="color: black">xs'</span><span style="color: #2e2d31">)</span> <span style="color: #d85311">suppose</span> <span style="color: black">IH</span> <span style="color: #2e2d31">{</span>
    <span style="color: #d85311">arbitrary</span> <span style="color: black">ys</span><span style="color: #2e2d31">:</span><a href="List.pf.html#List36"><span style="color: #0f95af">List</span></a><span style="color: #2e2d31">&lt;</span><span style="color: black">T</span><span style="color: #2e2d31">&gt;</span>
    <span style="color: #d85311">definition</span> <span style="color: #2e2d31">{</span><a href="List.pf.html#operator++38"><span style="color: #086c3c">operator++</span></a><span style="color: #2e2d31">,</span> <a href="List.pf.html#set_of40"><span style="color: #086c3c">set_of</span></a><span style="color: #2e2d31">}</span>
    <span style="color: #d85311">and</span> <span style="color: #d85311">rewrite</span> <span style="color: black">IH</span><span style="color: #2e2d31">[</span><span style="color: black">ys</span><span style="color: #2e2d31">]</span>
    <span style="color: #2e2d31">|</span> <a href="Set.pf.html#union_assoc181"><span style="color: #086c3c">union_assoc</span></a><span style="color: #2e2d31">&lt;</span><span style="color: black">T</span><span style="color: #2e2d31">&gt;</span><span style="color: #2e2d31">[</span><a href="Set.pf.html#single166"><span style="color: #086c3c">single</span></a><span style="color: #2e2d31">(</span><span style="color: black">x</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">,</span> <a href="List.pf.html#set_of40"><span style="color: #086c3c">set_of</span></a><span style="color: #2e2d31">(</span><span style="color: black">xs'</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">,</span> <a href="List.pf.html#set_of40"><span style="color: #086c3c">set_of</span></a><span style="color: #2e2d31">(</span><span style="color: black">ys</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">]</span>
  <span style="color: #2e2d31">}</span>
<span style="color: #d85311">end</span>

<span style="color: #d85311">theorem</span> <a href="List.pf.html#all_elements_append83"><span id="all_elements_append83" style="color: #086c3c">all_elements_append</span></a><span style="color: #2e2d31">:</span> <span style="color: #d85311">all</span> <span style="color: black">T</span><span style="color: #2e2d31">:</span><span style="color: #0f95af">type</span><span style="color: #2e2d31">.</span> <span style="color: #d85311">all</span> <span style="color: black">xs</span><span style="color: #2e2d31">:</span><a href="List.pf.html#List36"><span style="color: #0f95af">List</span></a><span style="color: #2e2d31">&lt;</span><span style="color: black">T</span><span style="color: #2e2d31">&gt;</span><span style="color: #2e2d31">.</span>
  <span style="color: #d85311">all</span> <span style="color: black">ys</span><span style="color: #2e2d31">:</span><a href="List.pf.html#List36"><span style="color: #0f95af">List</span></a><span style="color: #2e2d31">&lt;</span><span style="color: black">T</span><span style="color: #2e2d31">&gt;</span><span style="color: #2e2d31">,</span> <span style="color: black">P</span><span style="color: #2e2d31">:</span><span style="color: #0f95af">fn</span> <span style="color: black">T</span> <span style="color: #2e2d31">-&gt;</span> <span style="color: #0f95af">bool</span><span style="color: #2e2d31">.</span>
  <span style="color: #d85311">if</span> <a href="List.pf.html#all_elements48"><span style="color: #086c3c">all_elements</span></a><span style="color: #2e2d31">(</span><span style="color: black">xs</span><span style="color: #2e2d31">,</span> <span style="color: black">P</span><span style="color: #2e2d31">)</span> <span style="color: #d85311">and</span> <a href="List.pf.html#all_elements48"><span style="color: #086c3c">all_elements</span></a><span style="color: #2e2d31">(</span><span style="color: black">ys</span><span style="color: #2e2d31">,</span> <span style="color: black">P</span><span style="color: #2e2d31">)</span>
  <span style="color: #d85311">then</span> <a href="List.pf.html#all_elements48"><span style="color: #086c3c">all_elements</span></a><span style="color: #2e2d31">(</span><span style="color: black">xs</span> <span style="color: #2e2d31">++</span> <span style="color: black">ys</span><span style="color: #2e2d31">,</span> <span style="color: black">P</span><span style="color: #2e2d31">)</span>
<span style="color: #d85311">proof</span>
  <span style="color: #d85311">arbitrary</span> <span style="color: black">T</span><span style="color: #2e2d31">:</span><span style="color: #0f95af">type</span> <span style="color: #d85311">arbitrary</span> <span style="color: black">xs</span><span style="color: #2e2d31">:</span><a href="List.pf.html#List36"><span style="color: #0f95af">List</span></a><span style="color: #2e2d31">&lt;</span><span style="color: black">T</span><span style="color: #2e2d31">&gt;</span>
  <span style="color: #d85311">arbitrary</span> <span style="color: black">ys</span><span style="color: #2e2d31">:</span><a href="List.pf.html#List36"><span style="color: #0f95af">List</span></a><span style="color: #2e2d31">&lt;</span><span style="color: black">T</span><span style="color: #2e2d31">&gt;</span><span style="color: #2e2d31">,</span> <span style="color: black">P</span><span style="color: #2e2d31">:</span><span style="color: #0f95af">fn</span> <span style="color: black">T</span> <span style="color: #2e2d31">-&gt;</span> <span style="color: #0f95af">bool</span>
  <span style="color: #d85311">suppose</span> <span style="color: black">prem</span>
  <span style="color: #d85311">suffices</span> <span style="color: #d85311">all</span> <span style="color: black">x</span><span style="color: #2e2d31">:</span><span style="color: black">T</span><span style="color: #2e2d31">.</span> <span style="color: #2e2d31">(</span><span style="color: #d85311">if</span> <span style="color: black">x</span> <span style="color: #2e2d31">&#x2208;</span> <a href="List.pf.html#set_of40"><span style="color: #086c3c">set_of</span></a><span style="color: #2e2d31">(</span><span style="color: black">xs</span><span style="color: #2e2d31">)</span> <span style="color: #2e2d31">&#x222A;</span> <a href="List.pf.html#set_of40"><span style="color: #086c3c">set_of</span></a><span style="color: #2e2d31">(</span><span style="color: black">ys</span><span style="color: #2e2d31">)</span> <span style="color: #d85311">then</span> <span style="color: black">P</span><span style="color: #2e2d31">(</span><span style="color: black">x</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">)</span>
      <span style="color: #d85311">by</span> <span style="color: #d85311">rewrite</span> <a href="List.pf.html#all_elements_eq_member74"><span style="color: #086c3c">all_elements_eq_member</span></a><span style="color: #2e2d31">&lt;</span><span style="color: black">T</span><span style="color: #2e2d31">&gt;</span><span style="color: #2e2d31">[</span><span style="color: black">xs</span> <span style="color: #2e2d31">++</span> <span style="color: black">ys</span><span style="color: #2e2d31">,</span> <span style="color: black">P</span><span style="color: #2e2d31">]</span>
         <span style="color: #2e2d31">|</span> <a href="List.pf.html#set_of_append82"><span style="color: #086c3c">set_of_append</span></a><span style="color: #2e2d31">&lt;</span><span style="color: black">T</span><span style="color: #2e2d31">&gt;</span><span style="color: #2e2d31">[</span><span style="color: black">xs</span><span style="color: #2e2d31">]</span><span style="color: #2e2d31">[</span><span style="color: black">ys</span><span style="color: #2e2d31">]</span>
  <span style="color: #d85311">arbitrary</span> <span style="color: black">x</span><span style="color: #2e2d31">:</span><span style="color: black">T</span>
  <span style="color: #d85311">suppose</span> <span style="color: black">x_xs_ys</span>
  <span style="color: #d85311">have</span> <span style="color: black">x_xs_or_x_ys</span><span style="color: #2e2d31">:</span> <span style="color: black">x</span> <span style="color: #2e2d31">&#x2208;</span> <a href="List.pf.html#set_of40"><span style="color: #086c3c">set_of</span></a><span style="color: #2e2d31">(</span><span style="color: black">xs</span><span style="color: #2e2d31">)</span> <span style="color: #d85311">or</span> <span style="color: black">x</span> <span style="color: #2e2d31">&#x2208;</span> <a href="List.pf.html#set_of40"><span style="color: #086c3c">set_of</span></a><span style="color: #2e2d31">(</span><span style="color: black">ys</span><span style="color: #2e2d31">)</span>
    <span style="color: #d85311">by</span> <span style="color: #d85311">apply</span> <a href="Set.pf.html#member_union176"><span style="color: #086c3c">member_union</span></a><span style="color: #2e2d31">&lt;</span><span style="color: black">T</span><span style="color: #2e2d31">&gt;</span><span style="color: #2e2d31">[</span><span style="color: black">x</span><span style="color: #2e2d31">,</span><a href="List.pf.html#set_of40"><span style="color: #086c3c">set_of</span></a><span style="color: #2e2d31">(</span><span style="color: black">xs</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">,</span><a href="List.pf.html#set_of40"><span style="color: #086c3c">set_of</span></a><span style="color: #2e2d31">(</span><span style="color: black">ys</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">]</span> <span style="color: #d85311">to</span> <span style="color: black">x_xs_ys</span>
  <span style="color: #d85311">cases</span> <span style="color: black">x_xs_or_x_ys</span>
  <span style="color: #d85311">case</span> <span style="color: black">x_xs</span> <span style="color: #2e2d31">{</span>
    <span style="color: #d85311">apply</span> <span style="color: #2e2d31">(</span><span style="color: #d85311">rewrite</span> <a href="List.pf.html#all_elements_eq_member74"><span style="color: #086c3c">all_elements_eq_member</span></a><span style="color: #2e2d31">&lt;</span><span style="color: black">T</span><span style="color: #2e2d31">&gt;</span><span style="color: #2e2d31">[</span><span style="color: black">xs</span><span style="color: #2e2d31">,</span><span style="color: black">P</span><span style="color: #2e2d31">]</span> <span style="color: #d85311">in</span> <span style="color: #d85311">conjunct</span> <span style="color: #9329ab">0</span> <span style="color: #d85311">of</span> <span style="color: black">prem</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">[</span><span style="color: black">x</span><span style="color: #2e2d31">]</span>
    <span style="color: #d85311">to</span> <span style="color: black">x_xs</span>
  <span style="color: #2e2d31">}</span>
  <span style="color: #d85311">case</span> <span style="color: black">x_ys</span> <span style="color: #2e2d31">{</span>
    <span style="color: #d85311">apply</span> <span style="color: #2e2d31">(</span><span style="color: #d85311">rewrite</span> <a href="List.pf.html#all_elements_eq_member74"><span style="color: #086c3c">all_elements_eq_member</span></a><span style="color: #2e2d31">&lt;</span><span style="color: black">T</span><span style="color: #2e2d31">&gt;</span><span style="color: #2e2d31">[</span><span style="color: black">ys</span><span style="color: #2e2d31">,</span><span style="color: black">P</span><span style="color: #2e2d31">]</span> <span style="color: #d85311">in</span> <span style="color: #d85311">conjunct</span> <span style="color: #9329ab">1</span> <span style="color: #d85311">of</span> <span style="color: black">prem</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">[</span><span style="color: black">x</span><span style="color: #2e2d31">]</span>
    <span style="color: #d85311">to</span> <span style="color: black">x_ys</span>
  <span style="color: #2e2d31">}</span>
<span style="color: #d85311">end</span>

<span style="color: #d85311">theorem</span> <a href="List.pf.html#take_append84"><span id="take_append84" style="color: #086c3c">take_append</span></a><span style="color: #2e2d31">:</span> <span style="color: #d85311">all</span> <span style="color: black">E</span><span style="color: #2e2d31">:</span><span style="color: #0f95af">type</span><span style="color: #2e2d31">.</span> <span style="color: #d85311">all</span> <span style="color: black">xs</span><span style="color: #2e2d31">:</span><a href="List.pf.html#List36"><span style="color: #0f95af">List</span></a><span style="color: #2e2d31">&lt;</span><span style="color: black">E</span><span style="color: #2e2d31">&gt;</span><span style="color: #2e2d31">.</span> <span style="color: #d85311">all</span> <span style="color: black">ys</span><span style="color: #2e2d31">:</span><a href="List.pf.html#List36"><span style="color: #0f95af">List</span></a><span style="color: #2e2d31">&lt;</span><span style="color: black">E</span><span style="color: #2e2d31">&gt;</span><span style="color: #2e2d31">.</span>
  <a href="List.pf.html#take54"><span style="color: #086c3c">take</span></a><span style="color: #2e2d31">(</span><a href="List.pf.html#length37"><span style="color: #086c3c">length</span></a><span style="color: #2e2d31">(</span><span style="color: black">xs</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">,</span> <span style="color: black">xs</span> <span style="color: #2e2d31">++</span> <span style="color: black">ys</span><span style="color: #2e2d31">)</span> <span style="color: #2e2d31">=</span> <span style="color: black">xs</span>
<span style="color: #d85311">proof</span>
  <span style="color: #d85311">arbitrary</span> <span style="color: black">E</span><span style="color: #2e2d31">:</span><span style="color: #0f95af">type</span>
  <span style="color: #d85311">induction</span> <a href="List.pf.html#List36"><span style="color: #0f95af">List</span></a><span style="color: #2e2d31">&lt;</span><span style="color: black">E</span><span style="color: #2e2d31">&gt;</span>
  <span style="color: #d85311">case</span> <span style="color: black">empty</span> <span style="color: #2e2d31">{</span>
    <span style="color: #d85311">arbitrary</span> <span style="color: black">ys</span><span style="color: #2e2d31">:</span><a href="List.pf.html#List36"><span style="color: #0f95af">List</span></a><span style="color: #2e2d31">&lt;</span><span style="color: black">E</span><span style="color: #2e2d31">&gt;</span>
    <span style="color: #d85311">definition</span> <span style="color: #2e2d31">{</span><a href="List.pf.html#length37"><span style="color: #086c3c">length</span></a><span style="color: #2e2d31">,</span> <a href="List.pf.html#operator++38"><span style="color: #086c3c">operator++</span></a><span style="color: #2e2d31">,</span> <a href="List.pf.html#take54"><span style="color: #086c3c">take</span></a><span style="color: #2e2d31">}</span>
  <span style="color: #2e2d31">}</span>
  <span style="color: #d85311">case</span> <span style="color: black">node</span><span style="color: #2e2d31">(</span><span style="color: black">x</span><span style="color: #2e2d31">,</span> <span style="color: black">xs'</span><span style="color: #2e2d31">)</span> <span style="color: #d85311">suppose</span> <span style="color: black">IH</span> <span style="color: #2e2d31">{</span>
    <span style="color: #d85311">arbitrary</span> <span style="color: black">ys</span><span style="color: #2e2d31">:</span><a href="List.pf.html#List36"><span style="color: #0f95af">List</span></a><span style="color: #2e2d31">&lt;</span><span style="color: black">E</span><span style="color: #2e2d31">&gt;</span>
    <span style="color: #d85311">definition</span> <span style="color: #2e2d31">{</span><a href="List.pf.html#length37"><span style="color: #086c3c">length</span></a><span style="color: #2e2d31">,</span> <a href="List.pf.html#operator++38"><span style="color: #086c3c">operator++</span></a><span style="color: #2e2d31">,</span> <a href="Nat.pf.html#operator+212"><span style="color: #086c3c">operator+</span></a><span style="color: #2e2d31">,</span> <a href="List.pf.html#take54"><span style="color: #086c3c">take</span></a><span style="color: #2e2d31">}</span>
    <span style="color: #d85311">and</span> <span style="color: #d85311">rewrite</span> <a href="Nat.pf.html#zero_add231"><span style="color: #086c3c">zero_add</span></a><span style="color: #2e2d31">[</span><a href="List.pf.html#length37"><span style="color: #086c3c">length</span></a><span style="color: #2e2d31">(</span><span style="color: black">xs'</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">]</span>
    <span style="color: #2e2d31">|</span> <span style="color: black">IH</span><span style="color: #2e2d31">[</span><span style="color: black">ys</span><span style="color: #2e2d31">]</span>
  <span style="color: #2e2d31">}</span>
<span style="color: #d85311">end</span>

<span style="color: #d85311">theorem</span> <a href="List.pf.html#drop_append85"><span id="drop_append85" style="color: #086c3c">drop_append</span></a><span style="color: #2e2d31">:</span> <span style="color: #d85311">all</span> <span style="color: black">E</span><span style="color: #2e2d31">:</span><span style="color: #0f95af">type</span><span style="color: #2e2d31">.</span> <span style="color: #d85311">all</span> <span style="color: black">xs</span><span style="color: #2e2d31">:</span><a href="List.pf.html#List36"><span style="color: #0f95af">List</span></a><span style="color: #2e2d31">&lt;</span><span style="color: black">E</span><span style="color: #2e2d31">&gt;</span><span style="color: #2e2d31">.</span> <span style="color: #d85311">all</span> <span style="color: black">ys</span><span style="color: #2e2d31">:</span><a href="List.pf.html#List36"><span style="color: #0f95af">List</span></a><span style="color: #2e2d31">&lt;</span><span style="color: black">E</span><span style="color: #2e2d31">&gt;</span><span style="color: #2e2d31">.</span>
  <a href="List.pf.html#drop55"><span style="color: #086c3c">drop</span></a><span style="color: #2e2d31">(</span><a href="List.pf.html#length37"><span style="color: #086c3c">length</span></a><span style="color: #2e2d31">(</span><span style="color: black">xs</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">,</span> <span style="color: black">xs</span> <span style="color: #2e2d31">++</span> <span style="color: black">ys</span><span style="color: #2e2d31">)</span> <span style="color: #2e2d31">=</span> <span style="color: black">ys</span>
<span style="color: #d85311">proof</span>
  <span style="color: #d85311">arbitrary</span> <span style="color: black">E</span><span style="color: #2e2d31">:</span><span style="color: #0f95af">type</span>
  <span style="color: #d85311">induction</span> <a href="List.pf.html#List36"><span style="color: #0f95af">List</span></a><span style="color: #2e2d31">&lt;</span><span style="color: black">E</span><span style="color: #2e2d31">&gt;</span>
  <span style="color: #d85311">case</span> <span style="color: black">empty</span> <span style="color: #2e2d31">{</span>
    <span style="color: #d85311">arbitrary</span> <span style="color: black">ys</span><span style="color: #2e2d31">:</span><a href="List.pf.html#List36"><span style="color: #0f95af">List</span></a><span style="color: #2e2d31">&lt;</span><span style="color: black">E</span><span style="color: #2e2d31">&gt;</span>
    <span style="color: #d85311">definition</span> <span style="color: #2e2d31">{</span><a href="List.pf.html#length37"><span style="color: #086c3c">length</span></a><span style="color: #2e2d31">,</span> <a href="List.pf.html#operator++38"><span style="color: #086c3c">operator++</span></a><span style="color: #2e2d31">,</span> <a href="List.pf.html#drop55"><span style="color: #086c3c">drop</span></a><span style="color: #2e2d31">}</span>
  <span style="color: #2e2d31">}</span>
  <span style="color: #d85311">case</span> <span style="color: black">node</span><span style="color: #2e2d31">(</span><span style="color: black">x</span><span style="color: #2e2d31">,</span> <span style="color: black">xs'</span><span style="color: #2e2d31">)</span> <span style="color: #d85311">suppose</span> <span style="color: black">IH</span> <span style="color: #2e2d31">{</span>
    <span style="color: #d85311">arbitrary</span> <span style="color: black">ys</span><span style="color: #2e2d31">:</span><a href="List.pf.html#List36"><span style="color: #0f95af">List</span></a><span style="color: #2e2d31">&lt;</span><span style="color: black">E</span><span style="color: #2e2d31">&gt;</span>
    <span style="color: #d85311">definition</span> <span style="color: #2e2d31">{</span><a href="List.pf.html#length37"><span style="color: #086c3c">length</span></a><span style="color: #2e2d31">,</span> <a href="List.pf.html#operator++38"><span style="color: #086c3c">operator++</span></a><span style="color: #2e2d31">,</span> <a href="Nat.pf.html#operator+212"><span style="color: #086c3c">operator+</span></a><span style="color: #2e2d31">,</span> <a href="List.pf.html#drop55"><span style="color: #086c3c">drop</span></a><span style="color: #2e2d31">}</span>
    <span style="color: #d85311">and</span> <span style="color: #d85311">rewrite</span> <a href="Nat.pf.html#zero_add231"><span style="color: #086c3c">zero_add</span></a><span style="color: #2e2d31">[</span><a href="List.pf.html#length37"><span style="color: #086c3c">length</span></a><span style="color: #2e2d31">(</span><span style="color: black">xs'</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">]</span>
    <span style="color: #2e2d31">|</span> <span style="color: black">IH</span><span style="color: #2e2d31">[</span><span style="color: black">ys</span><span style="color: #2e2d31">]</span>
  <span style="color: #2e2d31">}</span>
<span style="color: #d85311">end</span>

<span style="color: #d85311">theorem</span> <a href="List.pf.html#nth_drop86"><span id="nth_drop86" style="color: #086c3c">nth_drop</span></a><span style="color: #2e2d31">:</span> <span style="color: #d85311">all</span> <span style="color: black">T</span><span style="color: #2e2d31">:</span><span style="color: #0f95af">type</span><span style="color: #2e2d31">.</span> <span style="color: #d85311">all</span> <span style="color: black">n</span><span style="color: #2e2d31">:</span><a href="Nat.pf.html#Nat211"><span style="color: #0f95af">Nat</span></a><span style="color: #2e2d31">.</span> <span style="color: #d85311">all</span> <span style="color: black">xs</span><span style="color: #2e2d31">:</span><a href="List.pf.html#List36"><span style="color: #0f95af">List</span></a><span style="color: #2e2d31">&lt;</span><span style="color: black">T</span><span style="color: #2e2d31">&gt;</span><span style="color: #2e2d31">,</span> <span style="color: black">i</span><span style="color: #2e2d31">:</span><a href="Nat.pf.html#Nat211"><span style="color: #0f95af">Nat</span></a><span style="color: #2e2d31">,</span> <span style="color: black">d</span><span style="color: #2e2d31">:</span><span style="color: black">T</span><span style="color: #2e2d31">.</span>
  <a href="List.pf.html#nth52"><span style="color: #086c3c">nth</span></a><span style="color: #2e2d31">(</span><a href="List.pf.html#drop55"><span style="color: #086c3c">drop</span></a><span style="color: #2e2d31">(</span><span style="color: black">n</span><span style="color: #2e2d31">,</span> <span style="color: black">xs</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">,</span> <span style="color: black">d</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">(</span><span style="color: black">i</span><span style="color: #2e2d31">)</span> <span style="color: #2e2d31">=</span> <a href="List.pf.html#nth52"><span style="color: #086c3c">nth</span></a><span style="color: #2e2d31">(</span><span style="color: black">xs</span><span style="color: #2e2d31">,</span> <span style="color: black">d</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">(</span><span style="color: black">n</span> <span style="color: #2e2d31">+</span> <span style="color: black">i</span><span style="color: #2e2d31">)</span>
<span style="color: #d85311">proof</span>
  <span style="color: #d85311">arbitrary</span> <span style="color: black">T</span><span style="color: #2e2d31">:</span><span style="color: #0f95af">type</span>
  <span style="color: #d85311">induction</span> <a href="Nat.pf.html#Nat211"><span style="color: #0f95af">Nat</span></a>
  <span style="color: #d85311">case</span> <span style="color: black">zero</span> <span style="color: #2e2d31">{</span>
    <span style="color: #d85311">arbitrary</span> <span style="color: black">xs</span><span style="color: #2e2d31">:</span><a href="List.pf.html#List36"><span style="color: #0f95af">List</span></a><span style="color: #2e2d31">&lt;</span><span style="color: black">T</span><span style="color: #2e2d31">&gt;</span><span style="color: #2e2d31">,</span> <span style="color: black">i</span><span style="color: #2e2d31">:</span><a href="Nat.pf.html#Nat211"><span style="color: #0f95af">Nat</span></a><span style="color: #2e2d31">,</span> <span style="color: black">d</span><span style="color: #2e2d31">:</span><span style="color: black">T</span>
    <span style="color: #d85311">definition</span> <span style="color: #2e2d31">{</span><a href="List.pf.html#drop55"><span style="color: #086c3c">drop</span></a><span style="color: #2e2d31">,</span> <a href="Nat.pf.html#operator+212"><span style="color: #086c3c">operator+</span></a><span style="color: #2e2d31">}</span>
  <span style="color: #2e2d31">}</span>
  <span style="color: #d85311">case</span> <span style="color: black">suc</span><span style="color: #2e2d31">(</span><span style="color: black">n'</span><span style="color: #2e2d31">)</span> <span style="color: #d85311">suppose</span> <span style="color: black">IH</span> <span style="color: #2e2d31">{</span>
    <span style="color: #d85311">arbitrary</span> <span style="color: black">xs</span><span style="color: #2e2d31">:</span><a href="List.pf.html#List36"><span style="color: #0f95af">List</span></a><span style="color: #2e2d31">&lt;</span><span style="color: black">T</span><span style="color: #2e2d31">&gt;</span><span style="color: #2e2d31">,</span> <span style="color: black">i</span><span style="color: #2e2d31">:</span><a href="Nat.pf.html#Nat211"><span style="color: #0f95af">Nat</span></a><span style="color: #2e2d31">,</span> <span style="color: black">d</span><span style="color: #2e2d31">:</span><span style="color: black">T</span>
    <span style="color: #d85311">switch</span> <span style="color: black">xs</span> <span style="color: #d85311">for</span> <a href="List.pf.html#drop55"><span style="color: #086c3c">drop</span></a> <span style="color: #2e2d31">{</span>
      <span style="color: #d85311">case</span> <span style="color: black">empty</span> <span style="color: #2e2d31">{</span>
        <span style="color: #d85311">definition</span> <a href="List.pf.html#nth52"><span style="color: #086c3c">nth</span></a>
      <span style="color: #2e2d31">}</span>
      <span style="color: #d85311">case</span> <span style="color: black">node</span><span style="color: #2e2d31">(</span><span style="color: black">x</span><span style="color: #2e2d31">,</span> <span style="color: black">xs'</span><span style="color: #2e2d31">)</span> <span style="color: #2e2d31">{</span>
	<span style="color: #d85311">have</span> <span style="color: black">nsz</span><span style="color: #2e2d31">:</span> <span style="color: #d85311">not</span> <span style="color: #2e2d31">(</span><span style="color: black">suc</span><span style="color: #2e2d31">(</span><span style="color: black">n'</span><span style="color: #2e2d31">)</span> <span style="color: #2e2d31">+</span> <span style="color: black">i</span> <span style="color: #2e2d31">=</span> <span style="color: #9329ab">0</span><span style="color: #2e2d31">)</span> <span style="color: #d85311">by</span>
	  <span style="color: #d85311">suppose</span> <span style="color: black">sz</span> <span style="color: #d85311">conclude</span> <span style="color: #9329ab">false</span> <span style="color: #d85311">by</span> <span style="color: #d85311">definition</span> <a href="Nat.pf.html#operator+212"><span style="color: #086c3c">operator +</span></a> <span style="color: #d85311">in</span> <span style="color: black">sz</span>
	<span style="color: #d85311">suffices</span> <a href="List.pf.html#nth52"><span style="color: #086c3c">nth</span></a><span style="color: #2e2d31">(</span><a href="List.pf.html#drop55"><span style="color: #086c3c">drop</span></a><span style="color: #2e2d31">(</span><span style="color: black">n'</span><span style="color: #2e2d31">,</span> <span style="color: black">xs'</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">,</span> <span style="color: black">d</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">(</span><span style="color: black">i</span><span style="color: #2e2d31">)</span> <span style="color: #2e2d31">=</span> <a href="List.pf.html#nth52"><span style="color: #086c3c">nth</span></a><span style="color: #2e2d31">(</span><span style="color: black">xs'</span><span style="color: #2e2d31">,</span> <span style="color: black">d</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">(</span><a href="Nat.pf.html#pred215"><span style="color: #086c3c">pred</span></a><span style="color: #2e2d31">(</span><span style="color: black">suc</span><span style="color: #2e2d31">(</span><span style="color: black">n'</span><span style="color: #2e2d31">)</span> <span style="color: #2e2d31">+</span> <span style="color: black">i</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">)</span>
           <span style="color: #d85311">by</span> <span style="color: #d85311">definition</span> <a href="List.pf.html#nth52"><span style="color: #086c3c">nth</span></a>
	      <span style="color: #d85311">and</span> <span style="color: #d85311">rewrite</span> <span style="color: #2e2d31">(</span><span style="color: #d85311">apply</span> <a href="Base.pf.html#eq_false201"><span style="color: #086c3c">eq_false</span></a> <span style="color: #d85311">to</span> <span style="color: black">nsz</span><span style="color: #2e2d31">)</span>
	<span style="color: #d85311">suffices</span> <a href="List.pf.html#nth52"><span style="color: #086c3c">nth</span></a><span style="color: #2e2d31">(</span><a href="List.pf.html#drop55"><span style="color: #086c3c">drop</span></a><span style="color: #2e2d31">(</span><span style="color: black">n'</span><span style="color: #2e2d31">,</span> <span style="color: black">xs'</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">,</span> <span style="color: black">d</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">(</span><span style="color: black">i</span><span style="color: #2e2d31">)</span> <span style="color: #2e2d31">=</span> <a href="List.pf.html#nth52"><span style="color: #086c3c">nth</span></a><span style="color: #2e2d31">(</span><span style="color: black">xs'</span><span style="color: #2e2d31">,</span> <span style="color: black">d</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">(</span><span style="color: black">n'</span> <span style="color: #2e2d31">+</span> <span style="color: black">i</span><span style="color: #2e2d31">)</span>
           <span style="color: #d85311">by</span> <span style="color: #d85311">definition</span> <span style="color: #2e2d31">{</span><a href="Nat.pf.html#operator+212"><span style="color: #086c3c">operator +</span></a><span style="color: #2e2d31">,</span> <a href="Nat.pf.html#pred215"><span style="color: #086c3c">pred</span></a><span style="color: #2e2d31">}</span>
	<span style="color: black">IH</span><span style="color: #2e2d31">[</span><span style="color: black">xs'</span><span style="color: #2e2d31">,</span><span style="color: black">i</span><span style="color: #2e2d31">,</span><span style="color: black">d</span><span style="color: #2e2d31">]</span>
      <span style="color: #2e2d31">}</span>
    <span style="color: #2e2d31">}</span>
  <span style="color: #2e2d31">}</span>
<span style="color: #d85311">end</span>

<span style="color: #d85311">theorem</span> <a href="List.pf.html#get_append_front87"><span id="get_append_front87" style="color: #086c3c">get_append_front</span></a><span style="color: #2e2d31">:</span> <span style="color: #d85311">all</span> <span style="color: black">T</span><span style="color: #2e2d31">:</span><span style="color: #0f95af">type</span><span style="color: #2e2d31">.</span> <span style="color: #d85311">all</span> <span style="color: black">xs</span><span style="color: #2e2d31">:</span><a href="List.pf.html#List36"><span style="color: #0f95af">List</span></a><span style="color: #2e2d31">&lt;</span><span style="color: black">T</span><span style="color: #2e2d31">&gt;</span><span style="color: #2e2d31">.</span> <span style="color: #d85311">all</span> <span style="color: black">ys</span><span style="color: #2e2d31">:</span><a href="List.pf.html#List36"><span style="color: #0f95af">List</span></a><span style="color: #2e2d31">&lt;</span><span style="color: black">T</span><span style="color: #2e2d31">&gt;</span><span style="color: #2e2d31">,</span> <span style="color: black">i</span><span style="color: #2e2d31">:</span><a href="Nat.pf.html#Nat211"><span style="color: #0f95af">Nat</span></a><span style="color: #2e2d31">.</span>
  <span style="color: #d85311">if</span> <span style="color: black">i</span> <span style="color: #2e2d31">&lt;</span> <a href="List.pf.html#length37"><span style="color: #086c3c">length</span></a><span style="color: #2e2d31">(</span><span style="color: black">xs</span><span style="color: #2e2d31">)</span>
  <span style="color: #d85311">then</span> <a href="List.pf.html#get53"><span style="color: #086c3c">get</span></a><span style="color: #2e2d31">(</span><span style="color: black">xs</span> <span style="color: #2e2d31">++</span> <span style="color: black">ys</span><span style="color: #2e2d31">,</span> <span style="color: black">i</span><span style="color: #2e2d31">)</span> <span style="color: #2e2d31">=</span> <a href="List.pf.html#get53"><span style="color: #086c3c">get</span></a><span style="color: #2e2d31">(</span><span style="color: black">xs</span><span style="color: #2e2d31">,</span> <span style="color: black">i</span><span style="color: #2e2d31">)</span>
<span style="color: #d85311">proof</span>
  <span style="color: #d85311">arbitrary</span> <span style="color: black">T</span><span style="color: #2e2d31">:</span><span style="color: #0f95af">type</span>
  <span style="color: #d85311">induction</span> <a href="List.pf.html#List36"><span style="color: #0f95af">List</span></a><span style="color: #2e2d31">&lt;</span><span style="color: black">T</span><span style="color: #2e2d31">&gt;</span>
  <span style="color: #d85311">case</span> <span style="color: black">empty</span> <span style="color: #2e2d31">{</span>
    <span style="color: #d85311">arbitrary</span> <span style="color: black">ys</span><span style="color: #2e2d31">:</span><a href="List.pf.html#List36"><span style="color: #0f95af">List</span></a><span style="color: #2e2d31">&lt;</span><span style="color: black">T</span><span style="color: #2e2d31">&gt;</span><span style="color: #2e2d31">,</span> <span style="color: black">i</span><span style="color: #2e2d31">:</span><a href="Nat.pf.html#Nat211"><span style="color: #0f95af">Nat</span></a>
    <span style="color: #d85311">suppose</span> <span style="color: black">i_z</span><span style="color: #2e2d31">:</span> <span style="color: black">i</span> <span style="color: #2e2d31">&lt;</span> <a href="List.pf.html#length37"><span style="color: #086c3c">length</span></a><span style="color: #2e2d31">(</span><span style="color: #2e2d31">@</span><span style="color: black">empty</span><span style="color: #2e2d31">&lt;</span><span style="color: black">T</span><span style="color: #2e2d31">&gt;</span><span style="color: #2e2d31">)</span>
    <span style="color: #d85311">conclude</span> <span style="color: #9329ab">false</span> <span style="color: #d85311">by</span> <span style="color: #d85311">definition</span> <span style="color: #2e2d31">{</span><a href="List.pf.html#length37"><span style="color: #086c3c">length</span></a><span style="color: #2e2d31">,</span> <span style="color: #d85311">operator</span> <span style="color: #2e2d31">&lt;</span><span style="color: #2e2d31">,</span> <a href="Nat.pf.html#operator≤217"><span style="color: #086c3c">operator ≤</span></a><span style="color: #2e2d31">}</span> <span style="color: #d85311">in</span> <span style="color: black">i_z</span>
  <span style="color: #2e2d31">}</span>
  <span style="color: #d85311">case</span> <span style="color: black">node</span><span style="color: #2e2d31">(</span><span style="color: black">x</span><span style="color: #2e2d31">,</span> <span style="color: black">xs</span><span style="color: #2e2d31">)</span> <span style="color: #d85311">suppose</span> <span style="color: black">IH</span> <span style="color: #2e2d31">{</span>
    <span style="color: #d85311">arbitrary</span> <span style="color: black">ys</span><span style="color: #2e2d31">:</span><a href="List.pf.html#List36"><span style="color: #0f95af">List</span></a><span style="color: #2e2d31">&lt;</span><span style="color: black">T</span><span style="color: #2e2d31">&gt;</span><span style="color: #2e2d31">,</span> <span style="color: black">i</span><span style="color: #2e2d31">:</span><a href="Nat.pf.html#Nat211"><span style="color: #0f95af">Nat</span></a>
    <span style="color: #d85311">suppose</span> <span style="color: black">i_xxs</span><span style="color: #2e2d31">:</span> <span style="color: black">i</span> <span style="color: #2e2d31">&lt;</span> <a href="List.pf.html#length37"><span style="color: #086c3c">length</span></a><span style="color: #2e2d31">(</span><span style="color: black">node</span><span style="color: #2e2d31">(</span><span style="color: black">x</span><span style="color: #2e2d31">,</span><span style="color: black">xs</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">)</span>
    <span style="color: #d85311">switch</span> <span style="color: black">i</span> <span style="color: #2e2d31">{</span>
      <span style="color: #d85311">case</span> <span style="color: black">zero</span> <span style="color: #2e2d31">{</span>
        <span style="color: #d85311">definition</span> <span style="color: #2e2d31">{</span><a href="List.pf.html#operator++38"><span style="color: #086c3c">operator++</span></a><span style="color: #2e2d31">,</span><a href="List.pf.html#get53"><span style="color: #086c3c">get</span></a><span style="color: #2e2d31">}</span>
      <span style="color: #2e2d31">}</span>
      <span style="color: #d85311">case</span> <span style="color: black">suc</span><span style="color: #2e2d31">(</span><span style="color: black">i'</span><span style="color: #2e2d31">)</span> <span style="color: #d85311">suppose</span> <span style="color: black">i_si</span> <span style="color: #2e2d31">{</span>
        <span style="color: #d85311">suffices</span> <a href="List.pf.html#get53"><span style="color: #086c3c">get</span></a><span style="color: #2e2d31">(</span><span style="color: black">xs</span> <span style="color: #2e2d31">++</span> <span style="color: black">ys</span><span style="color: #2e2d31">,</span> <span style="color: black">i'</span><span style="color: #2e2d31">)</span> <span style="color: #2e2d31">=</span> <a href="List.pf.html#get53"><span style="color: #086c3c">get</span></a><span style="color: #2e2d31">(</span><span style="color: black">xs</span><span style="color: #2e2d31">,</span> <span style="color: black">i'</span><span style="color: #2e2d31">)</span>
           <span style="color: #d85311">by</span> <span style="color: #d85311">definition</span> <span style="color: #2e2d31">{</span><a href="List.pf.html#operator++38"><span style="color: #086c3c">operator++</span></a><span style="color: #2e2d31">,</span> <a href="List.pf.html#get53"><span style="color: #086c3c">get</span></a><span style="color: #2e2d31">,</span> <a href="Nat.pf.html#pred215"><span style="color: #086c3c">pred</span></a><span style="color: #2e2d31">}</span>
	<span style="color: #d85311">have</span> <span style="color: black">i_xs</span><span style="color: #2e2d31">:</span> <span style="color: black">i'</span> <span style="color: #2e2d31">&lt;</span> <a href="List.pf.html#length37"><span style="color: #086c3c">length</span></a><span style="color: #2e2d31">(</span><span style="color: black">xs</span><span style="color: #2e2d31">)</span> <span style="color: #d85311">by</span>
	    <span style="color: #d85311">enable</span> <span style="color: #2e2d31">{</span><span style="color: #d85311">operator</span> <span style="color: #2e2d31">&lt;</span><span style="color: #2e2d31">,</span> <a href="Nat.pf.html#operator≤217"><span style="color: #086c3c">operator ≤</span></a><span style="color: #2e2d31">}</span>
	    <span style="color: #d85311">conclude</span> <span style="color: black">i'</span> <span style="color: #2e2d31">&lt;</span> <a href="List.pf.html#length37"><span style="color: #086c3c">length</span></a><span style="color: #2e2d31">(</span><span style="color: black">xs</span><span style="color: #2e2d31">)</span>
              <span style="color: #d85311">by</span> <span style="color: #d85311">rewrite</span> <span style="color: black">i_si</span> <span style="color: #d85311">in</span>
                 <span style="color: #d85311">definition</span> <span style="color: #2e2d31">{</span><a href="List.pf.html#length37"><span style="color: #086c3c">length</span></a><span style="color: #2e2d31">,</span> <a href="Nat.pf.html#operator+212"><span style="color: #086c3c">operator+</span></a><span style="color: #2e2d31">,</span><a href="Nat.pf.html#operator+212"><span style="color: #086c3c">operator+</span></a><span style="color: #2e2d31">}</span> <span style="color: #d85311">in</span> <span style="color: black">i_xxs</span>
	<span style="color: #d85311">apply</span> <span style="color: black">IH</span><span style="color: #2e2d31">[</span><span style="color: black">ys</span><span style="color: #2e2d31">,</span> <span style="color: black">i'</span><span style="color: #2e2d31">]</span> <span style="color: #d85311">to</span> <span style="color: black">i_xs</span>
      <span style="color: #2e2d31">}</span>
    <span style="color: #2e2d31">}</span>
  <span style="color: #2e2d31">}</span>
<span style="color: #d85311">end</span>

<span style="color: #d85311">theorem</span> <a href="List.pf.html#get_append_back88"><span id="get_append_back88" style="color: #086c3c">get_append_back</span></a><span style="color: #2e2d31">:</span> <span style="color: #d85311">all</span> <span style="color: black">T</span><span style="color: #2e2d31">:</span><span style="color: #0f95af">type</span><span style="color: #2e2d31">.</span> <span style="color: #d85311">all</span> <span style="color: black">xs</span><span style="color: #2e2d31">:</span><a href="List.pf.html#List36"><span style="color: #0f95af">List</span></a><span style="color: #2e2d31">&lt;</span><span style="color: black">T</span><span style="color: #2e2d31">&gt;</span><span style="color: #2e2d31">.</span> <span style="color: #d85311">all</span> <span style="color: black">ys</span><span style="color: #2e2d31">:</span><a href="List.pf.html#List36"><span style="color: #0f95af">List</span></a><span style="color: #2e2d31">&lt;</span><span style="color: black">T</span><span style="color: #2e2d31">&gt;</span><span style="color: #2e2d31">,</span> <span style="color: black">i</span><span style="color: #2e2d31">:</span><a href="Nat.pf.html#Nat211"><span style="color: #0f95af">Nat</span></a><span style="color: #2e2d31">.</span>
  <a href="List.pf.html#get53"><span style="color: #086c3c">get</span></a><span style="color: #2e2d31">(</span><span style="color: black">xs</span> <span style="color: #2e2d31">++</span> <span style="color: black">ys</span><span style="color: #2e2d31">,</span> <a href="List.pf.html#length37"><span style="color: #086c3c">length</span></a><span style="color: #2e2d31">(</span><span style="color: black">xs</span><span style="color: #2e2d31">)</span> <span style="color: #2e2d31">+</span> <span style="color: black">i</span><span style="color: #2e2d31">)</span> <span style="color: #2e2d31">=</span> <a href="List.pf.html#get53"><span style="color: #086c3c">get</span></a><span style="color: #2e2d31">(</span><span style="color: black">ys</span><span style="color: #2e2d31">,</span> <span style="color: black">i</span><span style="color: #2e2d31">)</span>
<span style="color: #d85311">proof</span>
  <span style="color: #d85311">arbitrary</span> <span style="color: black">T</span><span style="color: #2e2d31">:</span><span style="color: #0f95af">type</span>
  <span style="color: #d85311">induction</span> <a href="List.pf.html#List36"><span style="color: #0f95af">List</span></a><span style="color: #2e2d31">&lt;</span><span style="color: black">T</span><span style="color: #2e2d31">&gt;</span>
  <span style="color: #d85311">case</span> <span style="color: black">empty</span> <span style="color: #2e2d31">{</span>
    <span style="color: #d85311">arbitrary</span> <span style="color: black">ys</span><span style="color: #2e2d31">:</span><a href="List.pf.html#List36"><span style="color: #0f95af">List</span></a><span style="color: #2e2d31">&lt;</span><span style="color: black">T</span><span style="color: #2e2d31">&gt;</span><span style="color: #2e2d31">,</span> <span style="color: black">i</span><span style="color: #2e2d31">:</span><a href="Nat.pf.html#Nat211"><span style="color: #0f95af">Nat</span></a>
    <span style="color: #d85311">definition</span> <span style="color: #2e2d31">{</span><a href="List.pf.html#operator++38"><span style="color: #086c3c">operator++</span></a><span style="color: #2e2d31">,</span> <a href="List.pf.html#length37"><span style="color: #086c3c">length</span></a><span style="color: #2e2d31">,</span> <a href="Nat.pf.html#operator+212"><span style="color: #086c3c">operator +</span></a><span style="color: #2e2d31">}</span>
  <span style="color: #2e2d31">}</span>
  <span style="color: #d85311">case</span> <span style="color: black">node</span><span style="color: #2e2d31">(</span><span style="color: black">x</span><span style="color: #2e2d31">,</span> <span style="color: black">xs</span><span style="color: #2e2d31">)</span> <span style="color: #d85311">suppose</span> <span style="color: black">IH</span> <span style="color: #2e2d31">{</span>
    <span style="color: #d85311">arbitrary</span> <span style="color: black">ys</span><span style="color: #2e2d31">:</span><a href="List.pf.html#List36"><span style="color: #0f95af">List</span></a><span style="color: #2e2d31">&lt;</span><span style="color: black">T</span><span style="color: #2e2d31">&gt;</span><span style="color: #2e2d31">,</span> <span style="color: black">i</span><span style="color: #2e2d31">:</span><a href="Nat.pf.html#Nat211"><span style="color: #0f95af">Nat</span></a>
    <span style="color: #d85311">have</span> <span style="color: black">X</span><span style="color: #2e2d31">:</span> <span style="color: #d85311">not</span> <span style="color: #2e2d31">(</span><span style="color: #2e2d31">(</span><span style="color: #9329ab">1</span> <span style="color: #2e2d31">+</span> <a href="List.pf.html#length37"><span style="color: #086c3c">length</span></a><span style="color: #2e2d31">(</span><span style="color: black">xs</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">)</span> <span style="color: #2e2d31">+</span> <span style="color: black">i</span> <span style="color: #2e2d31">=</span> <span style="color: #9329ab">0</span><span style="color: #2e2d31">)</span> <span style="color: #d85311">by</span> <span style="color: #2e2d31">{</span>
      <span style="color: #d85311">suppose</span> <span style="color: black">eq_z</span>
      <span style="color: #d85311">conclude</span> <span style="color: #9329ab">false</span> <span style="color: #d85311">by</span> <span style="color: #d85311">evaluate</span> <span style="color: #d85311">in</span> <span style="color: black">eq_z</span>
    <span style="color: #2e2d31">}</span>
    <span style="color: #d85311">suffices</span> <a href="List.pf.html#get53"><span style="color: #086c3c">get</span></a><span style="color: #2e2d31">(</span><span style="color: black">xs</span> <span style="color: #2e2d31">++</span> <span style="color: black">ys</span><span style="color: #2e2d31">,</span> <a href="Nat.pf.html#pred215"><span style="color: #086c3c">pred</span></a><span style="color: #2e2d31">(</span><span style="color: #2e2d31">(</span><span style="color: #9329ab">1</span> <span style="color: #2e2d31">+</span> <a href="List.pf.html#length37"><span style="color: #086c3c">length</span></a><span style="color: #2e2d31">(</span><span style="color: black">xs</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">)</span> <span style="color: #2e2d31">+</span> <span style="color: black">i</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">)</span> <span style="color: #2e2d31">=</span> <a href="List.pf.html#get53"><span style="color: #086c3c">get</span></a><span style="color: #2e2d31">(</span><span style="color: black">ys</span><span style="color: #2e2d31">,</span> <span style="color: black">i</span><span style="color: #2e2d31">)</span>
       <span style="color: #d85311">by</span> <span style="color: #d85311">definition</span> <span style="color: #2e2d31">{</span><a href="List.pf.html#operator++38"><span style="color: #086c3c">operator++</span></a><span style="color: #2e2d31">,</span><a href="List.pf.html#length37"><span style="color: #086c3c">length</span></a><span style="color: #2e2d31">,</span> <a href="List.pf.html#get53"><span style="color: #086c3c">get</span></a><span style="color: #2e2d31">}</span>
          <span style="color: #d85311">and</span> <span style="color: #d85311">rewrite</span> <span style="color: #2e2d31">(</span><span style="color: #d85311">apply</span> <a href="Base.pf.html#eq_false201"><span style="color: #086c3c">eq_false</span></a> <span style="color: #d85311">to</span> <span style="color: black">X</span><span style="color: #2e2d31">)</span>
    <span style="color: #d85311">suffices</span> <a href="List.pf.html#get53"><span style="color: #086c3c">get</span></a><span style="color: #2e2d31">(</span><span style="color: black">xs</span> <span style="color: #2e2d31">++</span> <span style="color: black">ys</span><span style="color: #2e2d31">,</span> <a href="List.pf.html#length37"><span style="color: #086c3c">length</span></a><span style="color: #2e2d31">(</span><span style="color: black">xs</span><span style="color: #2e2d31">)</span> <span style="color: #2e2d31">+</span> <span style="color: black">i</span><span style="color: #2e2d31">)</span> <span style="color: #2e2d31">=</span> <a href="List.pf.html#get53"><span style="color: #086c3c">get</span></a><span style="color: #2e2d31">(</span><span style="color: black">ys</span><span style="color: #2e2d31">,</span> <span style="color: black">i</span><span style="color: #2e2d31">)</span>
       <span style="color: #d85311">by</span> <span style="color: #d85311">definition</span> <span style="color: #9329ab">2</span><span style="color: #2e2d31">*</span><a href="Nat.pf.html#operator+212"><span style="color: #086c3c">operator +</span></a> <span style="color: #2e2d31">|</span> <a href="Nat.pf.html#pred215"><span style="color: #086c3c">pred</span></a>
    <span style="color: black">IH</span><span style="color: #2e2d31">[</span><span style="color: black">ys</span><span style="color: #2e2d31">,</span> <span style="color: black">i</span><span style="color: #2e2d31">]</span>
  <span style="color: #2e2d31">}</span>
<span style="color: #d85311">end</span>

<span style="color: #d85311">theorem</span> <a href="List.pf.html#get_none89"><span id="get_none89" style="color: #086c3c">get_none</span></a><span style="color: #2e2d31">:</span> <span style="color: #d85311">all</span> <span style="color: black">T</span><span style="color: #2e2d31">:</span><span style="color: #0f95af">type</span><span style="color: #2e2d31">.</span> <span style="color: #d85311">all</span> <span style="color: black">xs</span><span style="color: #2e2d31">:</span><a href="List.pf.html#List36"><span style="color: #0f95af">List</span></a><span style="color: #2e2d31">&lt;</span><span style="color: black">T</span><span style="color: #2e2d31">&gt;</span><span style="color: #2e2d31">,</span> <span style="color: black">i</span><span style="color: #2e2d31">:</span><a href="Nat.pf.html#Nat211"><span style="color: #0f95af">Nat</span></a><span style="color: #2e2d31">.</span>
  <span style="color: #d85311">if</span> <a href="List.pf.html#length37"><span style="color: #086c3c">length</span></a><span style="color: #2e2d31">(</span><span style="color: black">xs</span><span style="color: #2e2d31">)</span> <span style="color: #2e2d31">&lt;=</span> <span style="color: black">i</span>
  <span style="color: #d85311">then</span> <a href="List.pf.html#get53"><span style="color: #086c3c">get</span></a><span style="color: #2e2d31">(</span><span style="color: black">xs</span><span style="color: #2e2d31">,</span> <span style="color: black">i</span><span style="color: #2e2d31">)</span> <span style="color: #2e2d31">=</span> <span style="color: black">none</span>
<span style="color: #d85311">proof</span>
  <span style="color: #d85311">arbitrary</span> <span style="color: black">T</span><span style="color: #2e2d31">:</span><span style="color: #0f95af">type</span>
  <span style="color: #d85311">induction</span> <a href="List.pf.html#List36"><span style="color: #0f95af">List</span></a><span style="color: #2e2d31">&lt;</span><span style="color: black">T</span><span style="color: #2e2d31">&gt;</span>
  <span style="color: #d85311">case</span> <span style="color: #2e2d31">[</span><span style="color: #2e2d31">]</span> <span style="color: #2e2d31">{</span>
    <span style="color: #d85311">arbitrary</span> <span style="color: black">i</span><span style="color: #2e2d31">:</span><a href="Nat.pf.html#Nat211"><span style="color: #0f95af">Nat</span></a>
    <span style="color: #d85311">assume</span> <span style="color: black">xs_i</span>
    <span style="color: #d85311">conclude</span> <a href="List.pf.html#get53"><span style="color: #086c3c">get</span></a><span style="color: #2e2d31">(</span><span style="color: #2e2d31">@</span><span style="color: #2e2d31">[</span><span style="color: #2e2d31">]</span><span style="color: #2e2d31">&lt;</span><span style="color: black">T</span><span style="color: #2e2d31">&gt;</span><span style="color: #2e2d31">,</span> <span style="color: black">i</span><span style="color: #2e2d31">)</span> <span style="color: #2e2d31">=</span> <span style="color: black">none</span> <span style="color: #d85311">by</span> <span style="color: #d85311">definition</span> <a href="List.pf.html#get53"><span style="color: #086c3c">get</span></a>
  <span style="color: #2e2d31">}</span>
  <span style="color: #d85311">case</span> <span style="color: black">node</span><span style="color: #2e2d31">(</span><span style="color: black">x</span><span style="color: #2e2d31">,</span> <span style="color: black">xs</span><span style="color: #2e2d31">)</span> <span style="color: #d85311">assume</span> <span style="color: black">IH</span> <span style="color: #2e2d31">{</span>
    <span style="color: #d85311">arbitrary</span> <span style="color: black">i</span><span style="color: #2e2d31">:</span><a href="Nat.pf.html#Nat211"><span style="color: #0f95af">Nat</span></a>
    <span style="color: #d85311">assume</span> <span style="color: black">xxs_i</span>
    <span style="color: #d85311">have</span> <span style="color: black">i_pos</span><span style="color: #2e2d31">:</span> <span style="color: #9329ab">1</span> <span style="color: #2e2d31">+</span> <a href="List.pf.html#length37"><span style="color: #086c3c">length</span></a><span style="color: #2e2d31">(</span><span style="color: black">xs</span><span style="color: #2e2d31">)</span> <span style="color: #2e2d31">&#x2264;</span> <span style="color: black">i</span>
      <span style="color: #d85311">by</span> <span style="color: #d85311">definition</span> <a href="List.pf.html#length37"><span style="color: #086c3c">length</span></a> <span style="color: #d85311">in</span> <span style="color: black">xxs_i</span>
    <span style="color: #d85311">switch</span> <span style="color: black">i</span> <span style="color: #2e2d31">{</span>
      <span style="color: #d85311">case</span> <span style="color: #9329ab">0</span> <span style="color: #d85311">assume</span> <span style="color: black">iz</span> <span style="color: #2e2d31">{</span>
        <span style="color: #d85311">conclude</span> <span style="color: #9329ab">false</span> <span style="color: #d85311">by</span> <span style="color: #d85311">definition</span> <span style="color: #2e2d31">{</span><a href="Nat.pf.html#operator+212"><span style="color: #086c3c">operator+</span></a><span style="color: #2e2d31">,</span><a href="Nat.pf.html#operator+212"><span style="color: #086c3c">operator+</span></a><span style="color: #2e2d31">,</span><a href="Nat.pf.html#operator≤217"><span style="color: #086c3c">operator≤</span></a><span style="color: #2e2d31">}</span> <span style="color: #d85311">in</span> <span style="color: #d85311">rewrite</span> <span style="color: black">iz</span> <span style="color: #d85311">in</span> <span style="color: black">i_pos</span>
      <span style="color: #2e2d31">}</span>
      <span style="color: #d85311">case</span> <span style="color: black">suc</span><span style="color: #2e2d31">(</span><span style="color: black">i'</span><span style="color: #2e2d31">)</span> <span style="color: #d85311">assume</span> <span style="color: black">isi</span> <span style="color: #2e2d31">{</span>
        <span style="color: #d85311">suffices</span> <a href="List.pf.html#get53"><span style="color: #086c3c">get</span></a><span style="color: #2e2d31">(</span><span style="color: black">xs</span><span style="color: #2e2d31">,</span> <span style="color: black">i'</span><span style="color: #2e2d31">)</span> <span style="color: #2e2d31">=</span> <span style="color: black">none</span> <span style="color: #d85311">by</span> <span style="color: #d85311">definition</span> <span style="color: #2e2d31">{</span><a href="List.pf.html#get53"><span style="color: #086c3c">get</span></a><span style="color: #2e2d31">,</span><a href="Nat.pf.html#pred215"><span style="color: #086c3c">pred</span></a><span style="color: #2e2d31">}</span>
        <span style="color: #d85311">have</span> <span style="color: black">xs_i</span><span style="color: #2e2d31">:</span> <a href="List.pf.html#length37"><span style="color: #086c3c">length</span></a><span style="color: #2e2d31">(</span><span style="color: black">xs</span><span style="color: #2e2d31">)</span> <span style="color: #2e2d31">&#x2264;</span> <span style="color: black">i'</span> <span style="color: #d85311">by</span> <span style="color: #d85311">definition</span> <span style="color: #2e2d31">{</span><a href="Nat.pf.html#operator+212"><span style="color: #086c3c">operator+</span></a><span style="color: #2e2d31">,</span><a href="Nat.pf.html#operator+212"><span style="color: #086c3c">operator+</span></a><span style="color: #2e2d31">,</span><a href="Nat.pf.html#operator≤217"><span style="color: #086c3c">operator≤</span></a><span style="color: #2e2d31">}</span> <span style="color: #d85311">in</span> <span style="color: #d85311">rewrite</span> <span style="color: black">isi</span> <span style="color: #d85311">in</span> <span style="color: black">i_pos</span>
        <span style="color: #d85311">conclude</span> <a href="List.pf.html#get53"><span style="color: #086c3c">get</span></a><span style="color: #2e2d31">(</span><span style="color: black">xs</span><span style="color: #2e2d31">,</span> <span style="color: black">i'</span><span style="color: #2e2d31">)</span> <span style="color: #2e2d31">=</span> <span style="color: black">none</span> <span style="color: #d85311">by</span> <span style="color: #d85311">apply</span> <span style="color: black">IH</span> <span style="color: #d85311">to</span> <span style="color: black">xs_i</span>
      <span style="color: #2e2d31">}</span>
    <span style="color: #2e2d31">}</span>
  <span style="color: #2e2d31">}</span>
<span style="color: #d85311">end</span>

<span style="color: #d85311">theorem</span> <a href="List.pf.html#nth_append_front90"><span id="nth_append_front90" style="color: #086c3c">nth_append_front</span></a><span style="color: #2e2d31">:</span> <span style="color: #d85311">all</span> <span style="color: black">T</span><span style="color: #2e2d31">:</span><span style="color: #0f95af">type</span><span style="color: #2e2d31">.</span> <span style="color: #d85311">all</span> <span style="color: black">xs</span><span style="color: #2e2d31">:</span><a href="List.pf.html#List36"><span style="color: #0f95af">List</span></a><span style="color: #2e2d31">&lt;</span><span style="color: black">T</span><span style="color: #2e2d31">&gt;</span><span style="color: #2e2d31">.</span> <span style="color: #d85311">all</span> <span style="color: black">ys</span><span style="color: #2e2d31">:</span><a href="List.pf.html#List36"><span style="color: #0f95af">List</span></a><span style="color: #2e2d31">&lt;</span><span style="color: black">T</span><span style="color: #2e2d31">&gt;</span><span style="color: #2e2d31">,</span> <span style="color: black">i</span><span style="color: #2e2d31">:</span><a href="Nat.pf.html#Nat211"><span style="color: #0f95af">Nat</span></a><span style="color: #2e2d31">,</span> <span style="color: black">d</span><span style="color: #2e2d31">:</span><span style="color: black">T</span><span style="color: #2e2d31">.</span>
  <span style="color: #d85311">if</span> <span style="color: black">i</span> <span style="color: #2e2d31">&lt;</span> <a href="List.pf.html#length37"><span style="color: #086c3c">length</span></a><span style="color: #2e2d31">(</span><span style="color: black">xs</span><span style="color: #2e2d31">)</span>
  <span style="color: #d85311">then</span> <a href="List.pf.html#nth52"><span style="color: #086c3c">nth</span></a><span style="color: #2e2d31">(</span><span style="color: black">xs</span> <span style="color: #2e2d31">++</span> <span style="color: black">ys</span><span style="color: #2e2d31">,</span> <span style="color: black">d</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">(</span><span style="color: black">i</span><span style="color: #2e2d31">)</span> <span style="color: #2e2d31">=</span> <a href="List.pf.html#nth52"><span style="color: #086c3c">nth</span></a><span style="color: #2e2d31">(</span><span style="color: black">xs</span><span style="color: #2e2d31">,</span> <span style="color: black">d</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">(</span><span style="color: black">i</span><span style="color: #2e2d31">)</span>
<span style="color: #d85311">proof</span>
  <span style="color: #d85311">arbitrary</span> <span style="color: black">T</span><span style="color: #2e2d31">:</span><span style="color: #0f95af">type</span>
  <span style="color: #d85311">induction</span> <a href="List.pf.html#List36"><span style="color: #0f95af">List</span></a><span style="color: #2e2d31">&lt;</span><span style="color: black">T</span><span style="color: #2e2d31">&gt;</span>
  <span style="color: #d85311">case</span> <span style="color: black">empty</span> <span style="color: #2e2d31">{</span>
    <span style="color: #d85311">arbitrary</span> <span style="color: black">ys</span><span style="color: #2e2d31">:</span><a href="List.pf.html#List36"><span style="color: #0f95af">List</span></a><span style="color: #2e2d31">&lt;</span><span style="color: black">T</span><span style="color: #2e2d31">&gt;</span><span style="color: #2e2d31">,</span> <span style="color: black">i</span><span style="color: #2e2d31">:</span><a href="Nat.pf.html#Nat211"><span style="color: #0f95af">Nat</span></a><span style="color: #2e2d31">,</span> <span style="color: black">d</span><span style="color: #2e2d31">:</span><span style="color: black">T</span>
    <span style="color: #d85311">suppose</span> <span style="color: black">i_z</span><span style="color: #2e2d31">:</span> <span style="color: black">i</span> <span style="color: #2e2d31">&lt;</span> <a href="List.pf.html#length37"><span style="color: #086c3c">length</span></a><span style="color: #2e2d31">(</span><span style="color: #2e2d31">@</span><span style="color: black">empty</span><span style="color: #2e2d31">&lt;</span><span style="color: black">T</span><span style="color: #2e2d31">&gt;</span><span style="color: #2e2d31">)</span>
    <span style="color: #d85311">conclude</span> <span style="color: #9329ab">false</span> <span style="color: #d85311">by</span> <span style="color: #d85311">definition</span> <span style="color: #2e2d31">{</span><a href="List.pf.html#length37"><span style="color: #086c3c">length</span></a><span style="color: #2e2d31">,</span> <span style="color: #d85311">operator</span> <span style="color: #2e2d31">&lt;</span><span style="color: #2e2d31">,</span> <a href="Nat.pf.html#operator≤217"><span style="color: #086c3c">operator ≤</span></a><span style="color: #2e2d31">}</span> <span style="color: #d85311">in</span> <span style="color: black">i_z</span>
  <span style="color: #2e2d31">}</span>
  <span style="color: #d85311">case</span> <span style="color: black">node</span><span style="color: #2e2d31">(</span><span style="color: black">x</span><span style="color: #2e2d31">,</span> <span style="color: black">xs</span><span style="color: #2e2d31">)</span> <span style="color: #d85311">suppose</span> <span style="color: black">IH</span> <span style="color: #2e2d31">{</span>
    <span style="color: #d85311">arbitrary</span> <span style="color: black">ys</span><span style="color: #2e2d31">:</span><a href="List.pf.html#List36"><span style="color: #0f95af">List</span></a><span style="color: #2e2d31">&lt;</span><span style="color: black">T</span><span style="color: #2e2d31">&gt;</span><span style="color: #2e2d31">,</span> <span style="color: black">i</span><span style="color: #2e2d31">:</span><a href="Nat.pf.html#Nat211"><span style="color: #0f95af">Nat</span></a><span style="color: #2e2d31">,</span> <span style="color: black">d</span><span style="color: #2e2d31">:</span><span style="color: black">T</span>
    <span style="color: #d85311">suppose</span> <span style="color: black">i_xxs</span><span style="color: #2e2d31">:</span> <span style="color: black">i</span> <span style="color: #2e2d31">&lt;</span> <a href="List.pf.html#length37"><span style="color: #086c3c">length</span></a><span style="color: #2e2d31">(</span><span style="color: black">node</span><span style="color: #2e2d31">(</span><span style="color: black">x</span><span style="color: #2e2d31">,</span><span style="color: black">xs</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">)</span>
    <span style="color: #d85311">switch</span> <span style="color: black">i</span> <span style="color: #2e2d31">{</span>
      <span style="color: #d85311">case</span> <span style="color: black">zero</span> <span style="color: #2e2d31">{</span>
        <span style="color: #d85311">definition</span> <span style="color: #2e2d31">{</span><a href="List.pf.html#operator++38"><span style="color: #086c3c">operator++</span></a><span style="color: #2e2d31">,</span><a href="List.pf.html#nth52"><span style="color: #086c3c">nth</span></a><span style="color: #2e2d31">}</span>
      <span style="color: #2e2d31">}</span>
      <span style="color: #d85311">case</span> <span style="color: black">suc</span><span style="color: #2e2d31">(</span><span style="color: black">i'</span><span style="color: #2e2d31">)</span> <span style="color: #d85311">suppose</span> <span style="color: black">i_si</span> <span style="color: #2e2d31">{</span>
        <span style="color: #d85311">suffices</span> <a href="List.pf.html#nth52"><span style="color: #086c3c">nth</span></a><span style="color: #2e2d31">(</span><span style="color: black">xs</span> <span style="color: #2e2d31">++</span> <span style="color: black">ys</span><span style="color: #2e2d31">,</span> <span style="color: black">d</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">(</span><span style="color: black">i'</span><span style="color: #2e2d31">)</span> <span style="color: #2e2d31">=</span> <a href="List.pf.html#nth52"><span style="color: #086c3c">nth</span></a><span style="color: #2e2d31">(</span><span style="color: black">xs</span><span style="color: #2e2d31">,</span> <span style="color: black">d</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">(</span><span style="color: black">i'</span><span style="color: #2e2d31">)</span>
           <span style="color: #d85311">by</span> <span style="color: #d85311">definition</span> <span style="color: #2e2d31">{</span><a href="List.pf.html#operator++38"><span style="color: #086c3c">operator++</span></a><span style="color: #2e2d31">,</span> <a href="List.pf.html#nth52"><span style="color: #086c3c">nth</span></a><span style="color: #2e2d31">,</span> <a href="Nat.pf.html#pred215"><span style="color: #086c3c">pred</span></a><span style="color: #2e2d31">}</span>
	<span style="color: #d85311">have</span> <span style="color: black">i_xs</span><span style="color: #2e2d31">:</span> <span style="color: black">i'</span> <span style="color: #2e2d31">&lt;</span> <a href="List.pf.html#length37"><span style="color: #086c3c">length</span></a><span style="color: #2e2d31">(</span><span style="color: black">xs</span><span style="color: #2e2d31">)</span> <span style="color: #d85311">by</span>
	    <span style="color: #d85311">enable</span> <span style="color: #2e2d31">{</span><span style="color: #d85311">operator</span> <span style="color: #2e2d31">&lt;</span><span style="color: #2e2d31">,</span> <a href="Nat.pf.html#operator≤217"><span style="color: #086c3c">operator ≤</span></a><span style="color: #2e2d31">}</span>
	    <span style="color: #d85311">conclude</span> <span style="color: black">i'</span> <span style="color: #2e2d31">&lt;</span> <a href="List.pf.html#length37"><span style="color: #086c3c">length</span></a><span style="color: #2e2d31">(</span><span style="color: black">xs</span><span style="color: #2e2d31">)</span>
              <span style="color: #d85311">by</span> <span style="color: #d85311">rewrite</span> <span style="color: black">i_si</span> <span style="color: #d85311">in</span>
                 <span style="color: #d85311">definition</span> <span style="color: #2e2d31">{</span><a href="List.pf.html#length37"><span style="color: #086c3c">length</span></a><span style="color: #2e2d31">,</span> <a href="Nat.pf.html#operator+212"><span style="color: #086c3c">operator+</span></a><span style="color: #2e2d31">,</span><a href="Nat.pf.html#operator+212"><span style="color: #086c3c">operator+</span></a><span style="color: #2e2d31">}</span> <span style="color: #d85311">in</span> <span style="color: black">i_xxs</span>
	<span style="color: #d85311">apply</span> <span style="color: black">IH</span><span style="color: #2e2d31">[</span><span style="color: black">ys</span><span style="color: #2e2d31">,</span> <span style="color: black">i'</span><span style="color: #2e2d31">,</span> <span style="color: black">d</span><span style="color: #2e2d31">]</span> <span style="color: #d85311">to</span> <span style="color: black">i_xs</span>
      <span style="color: #2e2d31">}</span>
    <span style="color: #2e2d31">}</span>
  <span style="color: #2e2d31">}</span>
<span style="color: #d85311">end</span>

<span style="color: #d85311">theorem</span> <a href="List.pf.html#nth_append_back91"><span id="nth_append_back91" style="color: #086c3c">nth_append_back</span></a><span style="color: #2e2d31">:</span> <span style="color: #d85311">all</span> <span style="color: black">T</span><span style="color: #2e2d31">:</span><span style="color: #0f95af">type</span><span style="color: #2e2d31">.</span> <span style="color: #d85311">all</span> <span style="color: black">xs</span><span style="color: #2e2d31">:</span><a href="List.pf.html#List36"><span style="color: #0f95af">List</span></a><span style="color: #2e2d31">&lt;</span><span style="color: black">T</span><span style="color: #2e2d31">&gt;</span><span style="color: #2e2d31">.</span> <span style="color: #d85311">all</span> <span style="color: black">ys</span><span style="color: #2e2d31">:</span><a href="List.pf.html#List36"><span style="color: #0f95af">List</span></a><span style="color: #2e2d31">&lt;</span><span style="color: black">T</span><span style="color: #2e2d31">&gt;</span><span style="color: #2e2d31">,</span> <span style="color: black">i</span><span style="color: #2e2d31">:</span><a href="Nat.pf.html#Nat211"><span style="color: #0f95af">Nat</span></a><span style="color: #2e2d31">,</span> <span style="color: black">d</span><span style="color: #2e2d31">:</span><span style="color: black">T</span><span style="color: #2e2d31">.</span>
  <a href="List.pf.html#nth52"><span style="color: #086c3c">nth</span></a><span style="color: #2e2d31">(</span><span style="color: black">xs</span> <span style="color: #2e2d31">++</span> <span style="color: black">ys</span><span style="color: #2e2d31">,</span> <span style="color: black">d</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">(</span><a href="List.pf.html#length37"><span style="color: #086c3c">length</span></a><span style="color: #2e2d31">(</span><span style="color: black">xs</span><span style="color: #2e2d31">)</span> <span style="color: #2e2d31">+</span> <span style="color: black">i</span><span style="color: #2e2d31">)</span> <span style="color: #2e2d31">=</span> <a href="List.pf.html#nth52"><span style="color: #086c3c">nth</span></a><span style="color: #2e2d31">(</span><span style="color: black">ys</span><span style="color: #2e2d31">,</span> <span style="color: black">d</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">(</span><span style="color: black">i</span><span style="color: #2e2d31">)</span>
<span style="color: #d85311">proof</span>
  <span style="color: #d85311">arbitrary</span> <span style="color: black">T</span><span style="color: #2e2d31">:</span><span style="color: #0f95af">type</span>
  <span style="color: #d85311">induction</span> <a href="List.pf.html#List36"><span style="color: #0f95af">List</span></a><span style="color: #2e2d31">&lt;</span><span style="color: black">T</span><span style="color: #2e2d31">&gt;</span>
  <span style="color: #d85311">case</span> <span style="color: black">empty</span> <span style="color: #2e2d31">{</span>
    <span style="color: #d85311">arbitrary</span> <span style="color: black">ys</span><span style="color: #2e2d31">:</span><a href="List.pf.html#List36"><span style="color: #0f95af">List</span></a><span style="color: #2e2d31">&lt;</span><span style="color: black">T</span><span style="color: #2e2d31">&gt;</span><span style="color: #2e2d31">,</span> <span style="color: black">i</span><span style="color: #2e2d31">:</span><a href="Nat.pf.html#Nat211"><span style="color: #0f95af">Nat</span></a><span style="color: #2e2d31">,</span> <span style="color: black">d</span><span style="color: #2e2d31">:</span><span style="color: black">T</span>
    <span style="color: #d85311">definition</span> <span style="color: #2e2d31">{</span><a href="List.pf.html#operator++38"><span style="color: #086c3c">operator++</span></a><span style="color: #2e2d31">,</span> <a href="List.pf.html#length37"><span style="color: #086c3c">length</span></a><span style="color: #2e2d31">,</span> <a href="Nat.pf.html#operator+212"><span style="color: #086c3c">operator +</span></a><span style="color: #2e2d31">}</span>
  <span style="color: #2e2d31">}</span>
  <span style="color: #d85311">case</span> <span style="color: black">node</span><span style="color: #2e2d31">(</span><span style="color: black">x</span><span style="color: #2e2d31">,</span> <span style="color: black">xs</span><span style="color: #2e2d31">)</span> <span style="color: #d85311">suppose</span> <span style="color: black">IH</span> <span style="color: #2e2d31">{</span>
    <span style="color: #d85311">arbitrary</span> <span style="color: black">ys</span><span style="color: #2e2d31">:</span><a href="List.pf.html#List36"><span style="color: #0f95af">List</span></a><span style="color: #2e2d31">&lt;</span><span style="color: black">T</span><span style="color: #2e2d31">&gt;</span><span style="color: #2e2d31">,</span> <span style="color: black">i</span><span style="color: #2e2d31">:</span><a href="Nat.pf.html#Nat211"><span style="color: #0f95af">Nat</span></a><span style="color: #2e2d31">,</span> <span style="color: black">d</span><span style="color: #2e2d31">:</span><span style="color: black">T</span>
    <span style="color: #d85311">have</span> <span style="color: black">X</span><span style="color: #2e2d31">:</span> <span style="color: #d85311">not</span> <span style="color: #2e2d31">(</span><span style="color: #2e2d31">(</span><span style="color: #9329ab">1</span> <span style="color: #2e2d31">+</span> <a href="List.pf.html#length37"><span style="color: #086c3c">length</span></a><span style="color: #2e2d31">(</span><span style="color: black">xs</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">)</span> <span style="color: #2e2d31">+</span> <span style="color: black">i</span> <span style="color: #2e2d31">=</span> <span style="color: #9329ab">0</span><span style="color: #2e2d31">)</span> <span style="color: #d85311">by</span> <span style="color: #2e2d31">{</span>
      <span style="color: #d85311">suppose</span> <span style="color: black">eq_z</span>
      <span style="color: #d85311">conclude</span> <span style="color: #9329ab">false</span> <span style="color: #d85311">by</span> <span style="color: #d85311">evaluate</span> <span style="color: #d85311">in</span> <span style="color: black">eq_z</span>
    <span style="color: #2e2d31">}</span>
    <span style="color: #d85311">suffices</span> <a href="List.pf.html#nth52"><span style="color: #086c3c">nth</span></a><span style="color: #2e2d31">(</span><span style="color: black">xs</span> <span style="color: #2e2d31">++</span> <span style="color: black">ys</span><span style="color: #2e2d31">,</span> <span style="color: black">d</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">(</span><a href="Nat.pf.html#pred215"><span style="color: #086c3c">pred</span></a><span style="color: #2e2d31">(</span><span style="color: #2e2d31">(</span><span style="color: #9329ab">1</span> <span style="color: #2e2d31">+</span> <a href="List.pf.html#length37"><span style="color: #086c3c">length</span></a><span style="color: #2e2d31">(</span><span style="color: black">xs</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">)</span> <span style="color: #2e2d31">+</span> <span style="color: black">i</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">)</span> <span style="color: #2e2d31">=</span> <a href="List.pf.html#nth52"><span style="color: #086c3c">nth</span></a><span style="color: #2e2d31">(</span><span style="color: black">ys</span><span style="color: #2e2d31">,</span> <span style="color: black">d</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">(</span><span style="color: black">i</span><span style="color: #2e2d31">)</span>
       <span style="color: #d85311">by</span> <span style="color: #d85311">definition</span> <span style="color: #2e2d31">{</span><a href="List.pf.html#operator++38"><span style="color: #086c3c">operator++</span></a><span style="color: #2e2d31">,</span><a href="List.pf.html#length37"><span style="color: #086c3c">length</span></a><span style="color: #2e2d31">,</span> <a href="List.pf.html#nth52"><span style="color: #086c3c">nth</span></a><span style="color: #2e2d31">}</span>
          <span style="color: #d85311">and</span> <span style="color: #d85311">rewrite</span> <span style="color: #2e2d31">(</span><span style="color: #d85311">apply</span> <a href="Base.pf.html#eq_false201"><span style="color: #086c3c">eq_false</span></a> <span style="color: #d85311">to</span> <span style="color: black">X</span><span style="color: #2e2d31">)</span>
    <span style="color: #d85311">suffices</span> <a href="List.pf.html#nth52"><span style="color: #086c3c">nth</span></a><span style="color: #2e2d31">(</span><span style="color: black">xs</span> <span style="color: #2e2d31">++</span> <span style="color: black">ys</span><span style="color: #2e2d31">,</span> <span style="color: black">d</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">(</span><a href="List.pf.html#length37"><span style="color: #086c3c">length</span></a><span style="color: #2e2d31">(</span><span style="color: black">xs</span><span style="color: #2e2d31">)</span> <span style="color: #2e2d31">+</span> <span style="color: black">i</span><span style="color: #2e2d31">)</span> <span style="color: #2e2d31">=</span> <a href="List.pf.html#nth52"><span style="color: #086c3c">nth</span></a><span style="color: #2e2d31">(</span><span style="color: black">ys</span><span style="color: #2e2d31">,</span> <span style="color: black">d</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">(</span><span style="color: black">i</span><span style="color: #2e2d31">)</span>
       <span style="color: #d85311">by</span> <span style="color: #d85311">definition</span> <span style="color: #9329ab">2</span><span style="color: #2e2d31">*</span><a href="Nat.pf.html#operator+212"><span style="color: #086c3c">operator +</span></a> <span style="color: #2e2d31">|</span> <a href="Nat.pf.html#pred215"><span style="color: #086c3c">pred</span></a>
    <span style="color: black">IH</span><span style="color: #2e2d31">[</span><span style="color: black">ys</span><span style="color: #2e2d31">,</span> <span style="color: black">i</span><span style="color: #2e2d31">,</span> <span style="color: black">d</span><span style="color: #2e2d31">]</span>
  <span style="color: #2e2d31">}</span>
<span style="color: #d85311">end</span>

<span style="color: #d85311">theorem</span> <a href="List.pf.html#flip_flip92"><span id="flip_flip92" style="color: #086c3c">flip_flip</span></a><span style="color: #2e2d31">:</span>
  <span style="color: #d85311">all</span> <span style="color: black">T</span><span style="color: #2e2d31">:</span><span style="color: #0f95af">type</span><span style="color: #2e2d31">.</span> <span style="color: #d85311">all</span> <span style="color: black">f</span><span style="color: #2e2d31">:</span><span style="color: #0f95af">fn</span> <span style="color: black">T</span><span style="color: #2e2d31">,</span><span style="color: black">T</span><span style="color: #2e2d31">-&gt;</span><span style="color: black">T</span><span style="color: #2e2d31">.</span> <a href="Int.pf.html#flip103"><span style="color: #086c3c">flip</span></a><span style="color: #2e2d31">(</span><a href="Int.pf.html#flip103"><span style="color: #086c3c">flip</span></a><span style="color: #2e2d31">(</span><span style="color: black">f</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">)</span> <span style="color: #2e2d31">=</span> <span style="color: black">f</span>
<span style="color: #d85311">proof</span>
  <span style="color: #d85311">arbitrary</span> <span style="color: black">T</span><span style="color: #2e2d31">:</span><span style="color: #0f95af">type</span>
  <span style="color: #d85311">arbitrary</span> <span style="color: black">f</span><span style="color: #2e2d31">:</span><span style="color: #0f95af">fn</span> <span style="color: black">T</span><span style="color: #2e2d31">,</span><span style="color: black">T</span><span style="color: #2e2d31">-&gt;</span><span style="color: black">T</span>
  <span style="color: #d85311">extensionality</span>
  <span style="color: #d85311">arbitrary</span> <span style="color: black">x</span><span style="color: #2e2d31">:</span><span style="color: black">T</span><span style="color: #2e2d31">,</span> <span style="color: black">y</span><span style="color: #2e2d31">:</span><span style="color: black">T</span>
  <span style="color: #d85311">definition</span> <a href="Int.pf.html#flip103"><span style="color: #086c3c">flip</span></a>
<span style="color: #d85311">end</span>

<span style="color: #d85311">theorem</span> <a href="List.pf.html#mset_equal_implies_set_equal93"><span id="mset_equal_implies_set_equal93" style="color: #086c3c">mset_equal_implies_set_equal</span></a><span style="color: #2e2d31">:</span> <span style="color: #d85311">all</span> <span style="color: black">T</span><span style="color: #2e2d31">:</span><span style="color: #0f95af">type</span><span style="color: #2e2d31">.</span> <span style="color: #d85311">all</span> <span style="color: black">xs</span><span style="color: #2e2d31">:</span><a href="List.pf.html#List36"><span style="color: #0f95af">List</span></a><span style="color: #2e2d31">&lt;</span><span style="color: black">T</span><span style="color: #2e2d31">&gt;</span><span style="color: #2e2d31">,</span> <span style="color: black">ys</span><span style="color: #2e2d31">:</span><a href="List.pf.html#List36"><span style="color: #0f95af">List</span></a><span style="color: #2e2d31">&lt;</span><span style="color: black">T</span><span style="color: #2e2d31">&gt;</span><span style="color: #2e2d31">.</span>
  <span style="color: #d85311">if</span> <a href="List.pf.html#mset_of41"><span style="color: #086c3c">mset_of</span></a><span style="color: #2e2d31">(</span><span style="color: black">xs</span><span style="color: #2e2d31">)</span> <span style="color: #2e2d31">=</span> <a href="List.pf.html#mset_of41"><span style="color: #086c3c">mset_of</span></a><span style="color: #2e2d31">(</span><span style="color: black">ys</span><span style="color: #2e2d31">)</span>
  <span style="color: #d85311">then</span> <a href="List.pf.html#set_of40"><span style="color: #086c3c">set_of</span></a><span style="color: #2e2d31">(</span><span style="color: black">xs</span><span style="color: #2e2d31">)</span> <span style="color: #2e2d31">=</span> <a href="List.pf.html#set_of40"><span style="color: #086c3c">set_of</span></a><span style="color: #2e2d31">(</span><span style="color: black">ys</span><span style="color: #2e2d31">)</span>
<span style="color: #d85311">proof</span>
  <span style="color: #d85311">arbitrary</span> <span style="color: black">T</span><span style="color: #2e2d31">:</span><span style="color: #0f95af">type</span>
  <span style="color: #d85311">arbitrary</span> <span style="color: black">xs</span><span style="color: #2e2d31">:</span><a href="List.pf.html#List36"><span style="color: #0f95af">List</span></a><span style="color: #2e2d31">&lt;</span><span style="color: black">T</span><span style="color: #2e2d31">&gt;</span><span style="color: #2e2d31">,</span> <span style="color: black">ys</span><span style="color: #2e2d31">:</span><a href="List.pf.html#List36"><span style="color: #0f95af">List</span></a><span style="color: #2e2d31">&lt;</span><span style="color: black">T</span><span style="color: #2e2d31">&gt;</span>
  <span style="color: #d85311">suppose</span> <span style="color: black">xs_ys</span>
  <span style="color: #d85311">equations</span>
    <a href="List.pf.html#set_of40"><span style="color: #086c3c">set_of</span></a><span style="color: #2e2d31">(</span><span style="color: black">xs</span><span style="color: #2e2d31">)</span> <span style="color: #2e2d31">=</span> <span style="color: black">set_of_mset</span><span style="color: #2e2d31">(</span><a href="List.pf.html#mset_of41"><span style="color: #086c3c">mset_of</span></a><span style="color: #2e2d31">(</span><span style="color: black">xs</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">)</span>
               <span style="color: #d85311">by</span> <span style="color: #d85311">symmetric</span> <a href="List.pf.html#som_mset_eq_set78"><span style="color: #086c3c">som_mset_eq_set</span></a><span style="color: #2e2d31">&lt;</span><span style="color: black">T</span><span style="color: #2e2d31">&gt;</span><span style="color: #2e2d31">[</span><span style="color: black">xs</span><span style="color: #2e2d31">]</span>
           <span style="color: #2e2d31">...</span> <span style="color: #2e2d31">=</span> <span style="color: black">set_of_mset</span><span style="color: #2e2d31">(</span><a href="List.pf.html#mset_of41"><span style="color: #086c3c">mset_of</span></a><span style="color: #2e2d31">(</span><span style="color: black">ys</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">)</span>
               <span style="color: #d85311">by</span> <span style="color: #d85311">rewrite</span> <span style="color: black">xs_ys</span>
	   <span style="color: #2e2d31">...</span> <span style="color: #2e2d31">=</span> <a href="List.pf.html#set_of40"><span style="color: #086c3c">set_of</span></a><span style="color: #2e2d31">(</span><span style="color: black">ys</span><span style="color: #2e2d31">)</span>
               <span style="color: #d85311">by</span> <a href="List.pf.html#som_mset_eq_set78"><span style="color: #086c3c">som_mset_eq_set</span></a><span style="color: #2e2d31">&lt;</span><span style="color: black">T</span><span style="color: #2e2d31">&gt;</span><span style="color: #2e2d31">[</span><span style="color: black">ys</span><span style="color: #2e2d31">]</span>
<span style="color: #d85311">end</span>

<span style="color: #d85311">theorem</span> <a href="List.pf.html#head_append94"><span id="head_append94" style="color: #086c3c">head_append</span></a><span style="color: #2e2d31">:</span> <span style="color: #d85311">all</span> <span style="color: black">E</span><span style="color: #2e2d31">:</span><span style="color: #0f95af">type</span><span style="color: #2e2d31">.</span> <span style="color: #d85311">all</span> <span style="color: black">L</span><span style="color: #2e2d31">:</span><a href="List.pf.html#List36"><span style="color: #0f95af">List</span></a><span style="color: #2e2d31">&lt;</span><span style="color: black">E</span><span style="color: #2e2d31">&gt;</span><span style="color: #2e2d31">.</span> <span style="color: #d85311">all</span> <span style="color: black">R</span><span style="color: #2e2d31">:</span><a href="List.pf.html#List36"><span style="color: #0f95af">List</span></a><span style="color: #2e2d31">&lt;</span><span style="color: black">E</span><span style="color: #2e2d31">&gt;</span><span style="color: #2e2d31">.</span>
  <span style="color: #d85311">if</span> <span style="color: #9329ab">0</span> <span style="color: #2e2d31">&lt;</span> <a href="List.pf.html#length37"><span style="color: #086c3c">length</span></a><span style="color: #2e2d31">(</span><span style="color: black">L</span><span style="color: #2e2d31">)</span> 
  <span style="color: #d85311">then</span> <a href="List.pf.html#head56"><span style="color: #086c3c">head</span></a><span style="color: #2e2d31">(</span><span style="color: black">L</span> <span style="color: #2e2d31">++</span> <span style="color: black">R</span><span style="color: #2e2d31">)</span> <span style="color: #2e2d31">=</span> <a href="List.pf.html#head56"><span style="color: #086c3c">head</span></a><span style="color: #2e2d31">(</span><span style="color: black">L</span><span style="color: #2e2d31">)</span>
<span style="color: #d85311">proof</span>
  <span style="color: #d85311">arbitrary</span> <span style="color: black">E</span><span style="color: #2e2d31">:</span><span style="color: #0f95af">type</span>
  <span style="color: #d85311">induction</span> <a href="List.pf.html#List36"><span style="color: #0f95af">List</span></a><span style="color: #2e2d31">&lt;</span><span style="color: black">E</span><span style="color: #2e2d31">&gt;</span>
  <span style="color: #d85311">case</span> <span style="color: black">empty</span> <span style="color: #2e2d31">{</span>
    <span style="color: #d85311">arbitrary</span> <span style="color: black">R</span><span style="color: #2e2d31">:</span><a href="List.pf.html#List36"><span style="color: #0f95af">List</span></a><span style="color: #2e2d31">&lt;</span><span style="color: black">E</span><span style="color: #2e2d31">&gt;</span>
    <span style="color: #d85311">suppose</span> <span style="color: black">pos_len</span>
    <span style="color: #d85311">conclude</span> <span style="color: #9329ab">false</span>  <span style="color: #d85311">by</span> <span style="color: #d85311">definition</span> <span style="color: #2e2d31">{</span><a href="List.pf.html#length37"><span style="color: #086c3c">length</span></a><span style="color: #2e2d31">,</span> <span style="color: #d85311">operator</span> <span style="color: #2e2d31">&lt;</span><span style="color: #2e2d31">,</span> <a href="Nat.pf.html#operator≤217"><span style="color: #086c3c">operator ≤</span></a><span style="color: #2e2d31">}</span> <span style="color: #d85311">in</span> <span style="color: black">pos_len</span>
  <span style="color: #2e2d31">}</span>
  <span style="color: #d85311">case</span> <span style="color: black">node</span><span style="color: #2e2d31">(</span><span style="color: black">x</span><span style="color: #2e2d31">,</span> <span style="color: black">xs</span><span style="color: #2e2d31">)</span> <span style="color: #d85311">suppose</span> <span style="color: black">IH</span> <span style="color: #2e2d31">{</span>
    <span style="color: #d85311">arbitrary</span> <span style="color: black">R</span><span style="color: #2e2d31">:</span><a href="List.pf.html#List36"><span style="color: #0f95af">List</span></a><span style="color: #2e2d31">&lt;</span><span style="color: black">E</span><span style="color: #2e2d31">&gt;</span>
    <span style="color: #d85311">suppose</span> <span style="color: black">pos_len</span>
    <span style="color: #d85311">equations</span>
          <a href="List.pf.html#head56"><span style="color: #086c3c">head</span></a><span style="color: #2e2d31">(</span><span style="color: black">node</span><span style="color: #2e2d31">(</span><span style="color: black">x</span><span style="color: #2e2d31">,</span><span style="color: black">xs</span><span style="color: #2e2d31">)</span> <span style="color: #2e2d31">++</span> <span style="color: black">R</span><span style="color: #2e2d31">)</span>
        <span style="color: #2e2d31">=</span> <span style="color: black">just</span><span style="color: #2e2d31">(</span><span style="color: black">x</span><span style="color: #2e2d31">)</span>                           <span style="color: #d85311">by</span> <span style="color: #d85311">definition</span> <span style="color: #2e2d31">{</span><a href="List.pf.html#operator++38"><span style="color: #086c3c">operator++</span></a><span style="color: #2e2d31">,</span><a href="List.pf.html#head56"><span style="color: #086c3c">head</span></a><span style="color: #2e2d31">}</span>
    <span style="color: #2e2d31">...</span> <span style="color: #2e2d31">=</span><span style="color: #2e2d31">#</span> <a href="List.pf.html#head56"><span style="color: #086c3c">head</span></a><span style="color: #2e2d31">(</span><span style="color: black">node</span><span style="color: #2e2d31">(</span><span style="color: black">x</span><span style="color: #2e2d31">,</span><span style="color: black">xs</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">)</span> <span style="color: #2e2d31">#</span>            <span style="color: #d85311">by</span> <span style="color: #d85311">definition</span> <a href="List.pf.html#head56"><span style="color: #086c3c">head</span></a>
  <span style="color: #2e2d31">}</span>
<span style="color: #d85311">end</span>

<span style="color: #d85311">theorem</span> <a href="List.pf.html#tail_append95"><span id="tail_append95" style="color: #086c3c">tail_append</span></a><span style="color: #2e2d31">:</span> <span style="color: #d85311">all</span> <span style="color: black">E</span><span style="color: #2e2d31">:</span><span style="color: #0f95af">type</span><span style="color: #2e2d31">.</span> <span style="color: #d85311">all</span> <span style="color: black">L</span><span style="color: #2e2d31">:</span><a href="List.pf.html#List36"><span style="color: #0f95af">List</span></a><span style="color: #2e2d31">&lt;</span><span style="color: black">E</span><span style="color: #2e2d31">&gt;</span><span style="color: #2e2d31">.</span> <span style="color: #d85311">all</span> <span style="color: black">R</span><span style="color: #2e2d31">:</span><a href="List.pf.html#List36"><span style="color: #0f95af">List</span></a><span style="color: #2e2d31">&lt;</span><span style="color: black">E</span><span style="color: #2e2d31">&gt;</span><span style="color: #2e2d31">.</span>
  <span style="color: #d85311">if</span> <span style="color: #9329ab">0</span> <span style="color: #2e2d31">&lt;</span> <a href="List.pf.html#length37"><span style="color: #086c3c">length</span></a><span style="color: #2e2d31">(</span><span style="color: black">L</span><span style="color: #2e2d31">)</span> 
  <span style="color: #d85311">then</span> <a href="List.pf.html#tail57"><span style="color: #086c3c">tail</span></a><span style="color: #2e2d31">(</span><span style="color: black">L</span> <span style="color: #2e2d31">++</span> <span style="color: black">R</span><span style="color: #2e2d31">)</span> <span style="color: #2e2d31">=</span> <a href="List.pf.html#tail57"><span style="color: #086c3c">tail</span></a><span style="color: #2e2d31">(</span><span style="color: black">L</span><span style="color: #2e2d31">)</span> <span style="color: #2e2d31">++</span> <span style="color: black">R</span>
<span style="color: #d85311">proof</span>
  <span style="color: #d85311">arbitrary</span> <span style="color: black">E</span><span style="color: #2e2d31">:</span><span style="color: #0f95af">type</span>
  <span style="color: #d85311">induction</span> <a href="List.pf.html#List36"><span style="color: #0f95af">List</span></a><span style="color: #2e2d31">&lt;</span><span style="color: black">E</span><span style="color: #2e2d31">&gt;</span>
  <span style="color: #d85311">case</span> <span style="color: black">empty</span> <span style="color: #2e2d31">{</span>
    <span style="color: #d85311">arbitrary</span> <span style="color: black">R</span><span style="color: #2e2d31">:</span><a href="List.pf.html#List36"><span style="color: #0f95af">List</span></a><span style="color: #2e2d31">&lt;</span><span style="color: black">E</span><span style="color: #2e2d31">&gt;</span>
    <span style="color: #d85311">suppose</span> <span style="color: black">pos_len</span>
    <span style="color: #d85311">conclude</span> <span style="color: #9329ab">false</span>
      <span style="color: #d85311">by</span> <span style="color: #d85311">definition</span> <span style="color: #2e2d31">{</span><a href="List.pf.html#length37"><span style="color: #086c3c">length</span></a><span style="color: #2e2d31">,</span> <span style="color: #d85311">operator</span> <span style="color: #2e2d31">&lt;</span><span style="color: #2e2d31">,</span> <a href="Nat.pf.html#operator≤217"><span style="color: #086c3c">operator≤</span></a><span style="color: #2e2d31">}</span> <span style="color: #d85311">in</span> <span style="color: black">pos_len</span>
  <span style="color: #2e2d31">}</span>
  <span style="color: #d85311">case</span> <span style="color: black">node</span><span style="color: #2e2d31">(</span><span style="color: black">x</span><span style="color: #2e2d31">,</span> <span style="color: black">xs'</span><span style="color: #2e2d31">)</span> <span style="color: #d85311">suppose</span> <span style="color: black">IH</span> <span style="color: #2e2d31">{</span>
    <span style="color: #d85311">arbitrary</span> <span style="color: black">R</span><span style="color: #2e2d31">:</span><a href="List.pf.html#List36"><span style="color: #0f95af">List</span></a><span style="color: #2e2d31">&lt;</span><span style="color: black">E</span><span style="color: #2e2d31">&gt;</span>
    <span style="color: #d85311">suppose</span> <span style="color: black">pos_len</span>
    <span style="color: #d85311">definition</span> <span style="color: #2e2d31">{</span><a href="List.pf.html#operator++38"><span style="color: #086c3c">operator++</span></a><span style="color: #2e2d31">,</span><a href="List.pf.html#tail57"><span style="color: #086c3c">tail</span></a><span style="color: #2e2d31">}</span>
  <span style="color: #2e2d31">}</span>
<span style="color: #d85311">end</span>


    </code></pre>
</body>
</html>