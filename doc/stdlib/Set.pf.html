
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>

    <link rel="stylesheet" href="stdlib.css">
</head>
<body>
    <pre><code><span style="color: gray">/*
Represent sets as predicates, that is, functions to bool.
*/</span>

<span style="color: #d85311">import</span> <a href="Base.pf.html"><span style="color: #0f95af">Base</span></a>

<span style="color: #d85311">union</span> <a href="Set.pf.html#Set164"><span id="Set164" style="color: #0f95af">Set</span></a><span style="color: #2e2d31">&lt;</span><span style="color: black">T</span><span style="color: #2e2d31">&gt;</span> <span style="color: #2e2d31">{</span>
  <span style="color: black">char_fun</span><span style="color: #2e2d31">(</span><span style="color: #0f95af">fn</span> <span style="color: #2e2d31">(</span><span style="color: black">T</span><span style="color: #2e2d31">)</span> <span style="color: #2e2d31">-&gt;</span> <span style="color: #0f95af">bool</span><span style="color: #2e2d31">)</span>
<span style="color: #2e2d31">}</span>

<span style="color: gray">/*
  The Deduce parser translates
  ∅
  into
  char_fun(λx{false})
*/</span>

<span style="color: #d85311">function</span> <a href="Set.pf.html#rep165"><span id="rep165" style="color: #086c3c">rep</span></a><span style="color: #2e2d31">&lt;</span><span style="color: black">T</span><span style="color: #2e2d31">&gt;</span><span style="color: #2e2d31">(</span><a href="Set.pf.html#Set164"><span style="color: #0f95af">Set</span></a><span style="color: #2e2d31">&lt;</span><span style="color: black">T</span><span style="color: #2e2d31">&gt;</span><span style="color: #2e2d31">)</span> <span style="color: #2e2d31">-&gt;</span> <span style="color: #0f95af">fn</span><span style="color: #2e2d31">(</span><span style="color: black">T</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">-&gt;</span><span style="color: #0f95af">bool</span> <span style="color: #2e2d31">{</span>
  <a href="Set.pf.html#rep165"><span style="color: #086c3c">rep</span></a><span style="color: #2e2d31">(</span><span style="color: black">char_fun</span><span style="color: #2e2d31">(</span><span style="color: black">f</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">)</span> <span style="color: #2e2d31">=</span> <span style="color: black">f</span>
<span style="color: #2e2d31">}</span>

<span style="color: #d85311">fun</span> <a href="Set.pf.html#single166"><span id="single166" style="color: #086c3c">single</span></a><span style="color: #2e2d31">&lt;</span><span style="color: black">T</span><span style="color: #2e2d31">&gt;</span><span style="color: #2e2d31">(</span><span style="color: black">x</span> <span style="color: #2e2d31">:</span> <span style="color: black">T</span><span style="color: #2e2d31">)</span> <span style="color: #2e2d31">{</span>
  <span style="color: black">char_fun</span><span style="color: #2e2d31">(</span><span style="color: #d85311">fun</span> <span style="color: black">y</span><span style="color: #2e2d31">:</span><span style="color: black">T</span> <span style="color: #2e2d31">{</span><span style="color: black">x</span> <span style="color: #2e2d31">=</span> <span style="color: black">y</span><span style="color: #2e2d31">}</span><span style="color: #2e2d31">)</span>
<span style="color: #2e2d31">}</span>

<span style="color: #d85311">fun</span> <a href="Set.pf.html#operator∪167"><span id="operator∪167" style="color: #086c3c">operator ∪</span></a> <span style="color: #2e2d31">&lt;</span><span style="color: black">T</span><span style="color: #2e2d31">&gt;</span><span style="color: #2e2d31">(</span><span style="color: black">P</span><span style="color: #2e2d31">:</span> <a href="Set.pf.html#Set164"><span style="color: #0f95af">Set</span></a><span style="color: #2e2d31">&lt;</span><span style="color: black">T</span><span style="color: #2e2d31">&gt;</span><span style="color: #2e2d31">,</span> <span style="color: black">Q</span><span style="color: #2e2d31">:</span> <a href="Set.pf.html#Set164"><span style="color: #0f95af">Set</span></a><span style="color: #2e2d31">&lt;</span><span style="color: black">T</span><span style="color: #2e2d31">&gt;</span><span style="color: #2e2d31">)</span> <span style="color: #2e2d31">{</span>
  <span style="color: black">char_fun</span><span style="color: #2e2d31">(</span><span style="color: #d85311">fun</span> <span style="color: black">x</span><span style="color: #2e2d31">:</span><span style="color: black">T</span> <span style="color: #2e2d31">{</span> <a href="Set.pf.html#rep165"><span style="color: #086c3c">rep</span></a><span style="color: #2e2d31">(</span><span style="color: black">P</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">(</span><span style="color: black">x</span><span style="color: #2e2d31">)</span> <span style="color: #d85311">or</span> <a href="Set.pf.html#rep165"><span style="color: #086c3c">rep</span></a><span style="color: #2e2d31">(</span><span style="color: black">Q</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">(</span><span style="color: black">x</span><span style="color: #2e2d31">)</span> <span style="color: #2e2d31">}</span><span style="color: #2e2d31">)</span>
<span style="color: #2e2d31">}</span>

<span style="color: #d85311">fun</span> <a href="Set.pf.html#operator∩168"><span id="operator∩168" style="color: #086c3c">operator ∩</span></a> <span style="color: #2e2d31">&lt;</span><span style="color: black">T</span><span style="color: #2e2d31">&gt;</span><span style="color: #2e2d31">(</span><span style="color: black">P</span> <span style="color: #2e2d31">:</span> <a href="Set.pf.html#Set164"><span style="color: #0f95af">Set</span></a><span style="color: #2e2d31">&lt;</span><span style="color: black">T</span><span style="color: #2e2d31">&gt;</span><span style="color: #2e2d31">,</span> <span style="color: black">Q</span> <span style="color: #2e2d31">:</span> <a href="Set.pf.html#Set164"><span style="color: #0f95af">Set</span></a><span style="color: #2e2d31">&lt;</span><span style="color: black">T</span><span style="color: #2e2d31">&gt;</span><span style="color: #2e2d31">)</span> <span style="color: #2e2d31">{</span>
  <span style="color: black">char_fun</span><span style="color: #2e2d31">(</span><span style="color: #d85311">fun</span> <span style="color: black">x</span><span style="color: #2e2d31">:</span><span style="color: black">T</span> <span style="color: #2e2d31">{</span> <a href="Set.pf.html#rep165"><span style="color: #086c3c">rep</span></a><span style="color: #2e2d31">(</span><span style="color: black">P</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">(</span><span style="color: black">x</span><span style="color: #2e2d31">)</span> <span style="color: #d85311">and</span> <a href="Set.pf.html#rep165"><span style="color: #086c3c">rep</span></a><span style="color: #2e2d31">(</span><span style="color: black">Q</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">(</span><span style="color: black">x</span><span style="color: #2e2d31">)</span> <span style="color: #2e2d31">}</span><span style="color: #2e2d31">)</span>
<span style="color: #2e2d31">}</span>

<span style="color: #d85311">fun</span> <a href="Set.pf.html#operator∈169"><span id="operator∈169" style="color: #086c3c">operator ∈</span></a> <span style="color: #2e2d31">&lt;</span><span style="color: black">T</span><span style="color: #2e2d31">&gt;</span><span style="color: #2e2d31">(</span><span style="color: black">x</span> <span style="color: #2e2d31">:</span> <span style="color: black">T</span><span style="color: #2e2d31">,</span> <span style="color: black">S</span> <span style="color: #2e2d31">:</span> <a href="Set.pf.html#Set164"><span style="color: #0f95af">Set</span></a><span style="color: #2e2d31">&lt;</span><span style="color: black">T</span><span style="color: #2e2d31">&gt;</span><span style="color: #2e2d31">)</span> <span style="color: #2e2d31">{</span>
  <a href="Set.pf.html#rep165"><span style="color: #086c3c">rep</span></a><span style="color: #2e2d31">(</span><span style="color: black">S</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">(</span><span style="color: black">x</span><span style="color: #2e2d31">)</span>
<span style="color: #2e2d31">}</span>

<span style="color: #d85311">fun</span> <a href="Set.pf.html#operator⊆170"><span id="operator⊆170" style="color: #086c3c">operator ⊆</span></a> <span style="color: #2e2d31">&lt;</span><span style="color: black">T</span><span style="color: #2e2d31">&gt;</span><span style="color: #2e2d31">(</span><span style="color: black">P</span> <span style="color: #2e2d31">:</span> <a href="Set.pf.html#Set164"><span style="color: #0f95af">Set</span></a><span style="color: #2e2d31">&lt;</span><span style="color: black">T</span><span style="color: #2e2d31">&gt;</span><span style="color: #2e2d31">,</span> <span style="color: black">Q</span> <span style="color: #2e2d31">:</span> <a href="Set.pf.html#Set164"><span style="color: #0f95af">Set</span></a><span style="color: #2e2d31">&lt;</span><span style="color: black">T</span><span style="color: #2e2d31">&gt;</span><span style="color: #2e2d31">)</span> <span style="color: #2e2d31">{</span>
  <span style="color: #d85311">all</span> <span style="color: black">x</span><span style="color: #2e2d31">:</span><span style="color: black">T</span><span style="color: #2e2d31">.</span> <span style="color: #d85311">if</span> <span style="color: black">x</span> <span style="color: #2e2d31">&#x2208;</span> <span style="color: black">P</span> <span style="color: #d85311">then</span> <span style="color: black">x</span> <span style="color: #2e2d31">&#x2208;</span> <span style="color: black">Q</span>
<span style="color: #2e2d31">}</span>

<span style="color: #d85311">theorem</span> <a href="Set.pf.html#single_member171"><span id="single_member171" style="color: #086c3c">single_member</span></a><span style="color: #2e2d31">:</span> <span style="color: #2e2d31">&lt;</span><span style="color: black">T</span><span style="color: #2e2d31">&gt;</span> <span style="color: #d85311">all</span> <span style="color: black">x</span><span style="color: #2e2d31">:</span><span style="color: black">T</span><span style="color: #2e2d31">.</span>  <span style="color: black">x</span> <span style="color: #2e2d31">&#x2208;</span> <a href="Set.pf.html#single166"><span style="color: #086c3c">single</span></a><span style="color: #2e2d31">(</span><span style="color: black">x</span><span style="color: #2e2d31">)</span>
<span style="color: #d85311">proof</span>
  <span style="color: #d85311">arbitrary</span> <span style="color: black">T</span><span style="color: #2e2d31">:</span><span style="color: #0f95af">type</span>
  <span style="color: #d85311">arbitrary</span> <span style="color: black">x</span><span style="color: #2e2d31">:</span><span style="color: black">T</span>
  <span style="color: #d85311">definition</span> <span style="color: #2e2d31">{</span><a href="Set.pf.html#single166"><span style="color: #086c3c">single</span></a><span style="color: #2e2d31">,</span> <a href="Set.pf.html#operator∈169"><span style="color: #086c3c">operator ∈</span></a><span style="color: #2e2d31">,</span> <a href="Set.pf.html#rep165"><span style="color: #086c3c">rep</span></a><span style="color: #2e2d31">}</span>
<span style="color: #d85311">end</span>

<span style="color: #d85311">theorem</span> <a href="Set.pf.html#single_equal172"><span id="single_equal172" style="color: #086c3c">single_equal</span></a><span style="color: #2e2d31">:</span> <span style="color: #d85311">all</span> <span style="color: black">T</span><span style="color: #2e2d31">:</span><span style="color: #0f95af">type</span><span style="color: #2e2d31">.</span> <span style="color: #d85311">all</span> <span style="color: black">x</span><span style="color: #2e2d31">:</span><span style="color: black">T</span><span style="color: #2e2d31">,</span> <span style="color: black">y</span><span style="color: #2e2d31">:</span><span style="color: black">T</span><span style="color: #2e2d31">.</span>
    <span style="color: #d85311">if</span> <span style="color: black">y</span> <span style="color: #2e2d31">&#x2208;</span> <a href="Set.pf.html#single166"><span style="color: #086c3c">single</span></a><span style="color: #2e2d31">(</span><span style="color: black">x</span><span style="color: #2e2d31">)</span> <span style="color: #d85311">then</span> <span style="color: black">x</span> <span style="color: #2e2d31">=</span> <span style="color: black">y</span>
<span style="color: #d85311">proof</span>
  <span style="color: #d85311">arbitrary</span> <span style="color: black">T</span><span style="color: #2e2d31">:</span><span style="color: #0f95af">type</span>
  <span style="color: #d85311">arbitrary</span> <span style="color: black">x</span><span style="color: #2e2d31">:</span><span style="color: black">T</span><span style="color: #2e2d31">,</span> <span style="color: black">y</span><span style="color: #2e2d31">:</span><span style="color: black">T</span>
  <span style="color: #d85311">suppose</span> <span style="color: black">y_in_x</span><span style="color: #2e2d31">:</span> <span style="color: black">y</span> <span style="color: #2e2d31">&#x2208;</span> <a href="Set.pf.html#single166"><span style="color: #086c3c">single</span></a><span style="color: #2e2d31">(</span><span style="color: black">x</span><span style="color: #2e2d31">)</span>
  <span style="color: #d85311">enable</span> <span style="color: #2e2d31">{</span><a href="Set.pf.html#operator∈169"><span style="color: #086c3c">operator ∈</span></a><span style="color: #2e2d31">,</span> <a href="Set.pf.html#single166"><span style="color: #086c3c">single</span></a><span style="color: #2e2d31">,</span> <a href="Set.pf.html#rep165"><span style="color: #086c3c">rep</span></a><span style="color: #2e2d31">}</span>
  <span style="color: black">y_in_x</span>
<span style="color: #d85311">end</span>

<span style="color: #d85311">theorem</span> <a href="Set.pf.html#single_equal_equal173"><span id="single_equal_equal173" style="color: #086c3c">single_equal_equal</span></a><span style="color: #2e2d31">:</span> <span style="color: #d85311">all</span> <span style="color: black">T</span><span style="color: #2e2d31">:</span><span style="color: #0f95af">type</span><span style="color: #2e2d31">.</span> <span style="color: #d85311">all</span> <span style="color: black">x</span><span style="color: #2e2d31">:</span><span style="color: black">T</span><span style="color: #2e2d31">,</span> <span style="color: black">y</span><span style="color: #2e2d31">:</span><span style="color: black">T</span><span style="color: #2e2d31">.</span>
    <span style="color: #2e2d31">(</span><span style="color: black">y</span> <span style="color: #2e2d31">&#x2208;</span> <a href="Set.pf.html#single166"><span style="color: #086c3c">single</span></a><span style="color: #2e2d31">(</span><span style="color: black">x</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">)</span> <span style="color: #2e2d31">=</span> <span style="color: #2e2d31">(</span><span style="color: black">x</span> <span style="color: #2e2d31">=</span> <span style="color: black">y</span><span style="color: #2e2d31">)</span>
<span style="color: #d85311">proof</span>
  <span style="color: #d85311">arbitrary</span> <span style="color: black">T</span><span style="color: #2e2d31">:</span><span style="color: #0f95af">type</span>
  <span style="color: #d85311">arbitrary</span> <span style="color: black">x</span><span style="color: #2e2d31">:</span><span style="color: black">T</span><span style="color: #2e2d31">,</span> <span style="color: black">y</span><span style="color: #2e2d31">:</span><span style="color: black">T</span>
  <span style="color: #d85311">definition</span> <span style="color: #2e2d31">{</span><a href="Set.pf.html#operator∈169"><span style="color: #086c3c">operator ∈</span></a><span style="color: #2e2d31">,</span> <a href="Set.pf.html#single166"><span style="color: #086c3c">single</span></a><span style="color: #2e2d31">,</span> <a href="Set.pf.html#rep165"><span style="color: #086c3c">rep</span></a><span style="color: #2e2d31">}</span>
<span style="color: #d85311">end</span>

<span style="color: #d85311">theorem</span> <a href="Set.pf.html#empty_no_members174"><span id="empty_no_members174" style="color: #086c3c">empty_no_members</span></a><span style="color: #2e2d31">:</span> <span style="color: #d85311">all</span> <span style="color: black">T</span><span style="color: #2e2d31">:</span><span style="color: #0f95af">type</span><span style="color: #2e2d31">.</span> <span style="color: #d85311">all</span> <span style="color: black">x</span><span style="color: #2e2d31">:</span><span style="color: black">T</span><span style="color: #2e2d31">.</span>
  <span style="color: #d85311">not</span> <span style="color: #2e2d31">(</span><span style="color: black">x</span> <span style="color: #2e2d31">&#x2208;</span> <span style="color: #9329ab">&#x2205;</span><span style="color: #2e2d31">)</span>
<span style="color: #d85311">proof</span>
  <span style="color: #d85311">arbitrary</span> <span style="color: black">T</span><span style="color: #2e2d31">:</span><span style="color: #0f95af">type</span>
  <span style="color: #d85311">arbitrary</span> <span style="color: black">x</span><span style="color: #2e2d31">:</span><span style="color: black">T</span>
  <span style="color: #d85311">suppose</span> <span style="color: black">x_in_empty</span><span style="color: #2e2d31">:</span> <span style="color: black">x</span> <span style="color: #2e2d31">&#x2208;</span> <span style="color: #9329ab">&#x2205;</span>
  <span style="color: #d85311">enable</span> <span style="color: #2e2d31">{</span><a href="Set.pf.html#operator∈169"><span style="color: #086c3c">operator ∈</span></a><span style="color: #2e2d31">,</span> <a href="Set.pf.html#rep165"><span style="color: #086c3c">rep</span></a><span style="color: #2e2d31">}</span>
  <span style="color: black">x_in_empty</span>
<span style="color: #d85311">end</span>

<span style="color: #d85311">theorem</span> <a href="Set.pf.html#union_member175"><span id="union_member175" style="color: #086c3c">union_member</span></a><span style="color: #2e2d31">:</span> <span style="color: #d85311">all</span> <span style="color: black">T</span><span style="color: #2e2d31">:</span><span style="color: #0f95af">type</span><span style="color: #2e2d31">.</span> <span style="color: #d85311">all</span> <span style="color: black">x</span><span style="color: #2e2d31">:</span><span style="color: black">T</span><span style="color: #2e2d31">,</span> <span style="color: black">A</span><span style="color: #2e2d31">:</span><a href="Set.pf.html#Set164"><span style="color: #0f95af">Set</span></a><span style="color: #2e2d31">&lt;</span><span style="color: black">T</span><span style="color: #2e2d31">&gt;</span><span style="color: #2e2d31">,</span> <span style="color: black">B</span><span style="color: #2e2d31">:</span><a href="Set.pf.html#Set164"><span style="color: #0f95af">Set</span></a><span style="color: #2e2d31">&lt;</span><span style="color: black">T</span><span style="color: #2e2d31">&gt;</span><span style="color: #2e2d31">.</span>
  <span style="color: #d85311">if</span> <span style="color: black">x</span> <span style="color: #2e2d31">&#x2208;</span> <span style="color: black">A</span> <span style="color: #d85311">or</span> <span style="color: black">x</span> <span style="color: #2e2d31">&#x2208;</span> <span style="color: black">B</span>
  <span style="color: #d85311">then</span> <span style="color: black">x</span> <span style="color: #2e2d31">&#x2208;</span> <span style="color: #2e2d31">(</span><span style="color: black">A</span> <span style="color: #2e2d31">&#x222A;</span> <span style="color: black">B</span><span style="color: #2e2d31">)</span>
<span style="color: #d85311">proof</span>
  <span style="color: #d85311">arbitrary</span> <span style="color: black">T</span><span style="color: #2e2d31">:</span><span style="color: #0f95af">type</span>
  <span style="color: #d85311">arbitrary</span> <span style="color: black">x</span><span style="color: #2e2d31">:</span><span style="color: black">T</span><span style="color: #2e2d31">,</span> <span style="color: black">A</span><span style="color: #2e2d31">:</span><a href="Set.pf.html#Set164"><span style="color: #0f95af">Set</span></a><span style="color: #2e2d31">&lt;</span><span style="color: black">T</span><span style="color: #2e2d31">&gt;</span><span style="color: #2e2d31">,</span> <span style="color: black">B</span><span style="color: #2e2d31">:</span><a href="Set.pf.html#Set164"><span style="color: #0f95af">Set</span></a><span style="color: #2e2d31">&lt;</span><span style="color: black">T</span><span style="color: #2e2d31">&gt;</span>
  <span style="color: #d85311">suppose</span> <span style="color: black">prem</span><span style="color: #2e2d31">:</span> <span style="color: black">x</span> <span style="color: #2e2d31">&#x2208;</span> <span style="color: black">A</span> <span style="color: #d85311">or</span> <span style="color: black">x</span> <span style="color: #2e2d31">&#x2208;</span> <span style="color: black">B</span>
  <span style="color: #d85311">suffices</span> <a href="Set.pf.html#rep165"><span style="color: #086c3c">rep</span></a><span style="color: #2e2d31">(</span><span style="color: black">A</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">(</span><span style="color: black">x</span><span style="color: #2e2d31">)</span> <span style="color: #d85311">or</span> <a href="Set.pf.html#rep165"><span style="color: #086c3c">rep</span></a><span style="color: #2e2d31">(</span><span style="color: black">B</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">(</span><span style="color: black">x</span><span style="color: #2e2d31">)</span>
    <span style="color: #d85311">by</span> <span style="color: #d85311">definition</span> <span style="color: #2e2d31">{</span><a href="Set.pf.html#operator∪167"><span style="color: #086c3c">operator∪</span></a><span style="color: #2e2d31">,</span> <a href="Set.pf.html#operator∈169"><span style="color: #086c3c">operator∈</span></a><span style="color: #2e2d31">,</span> <a href="Set.pf.html#rep165"><span style="color: #086c3c">rep</span></a><span style="color: #2e2d31">}</span>
  <span style="color: #d85311">cases</span> <span style="color: black">prem</span>
  <span style="color: #d85311">case</span> <span style="color: black">xA</span><span style="color: #2e2d31">:</span> <span style="color: black">x</span> <span style="color: #2e2d31">&#x2208;</span> <span style="color: black">A</span> <span style="color: #2e2d31">{</span>
    <span style="color: #d85311">conclude</span> <a href="Set.pf.html#rep165"><span style="color: #086c3c">rep</span></a><span style="color: #2e2d31">(</span><span style="color: black">A</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">(</span><span style="color: black">x</span><span style="color: #2e2d31">)</span> <span style="color: #d85311">by</span> <span style="color: #d85311">definition</span> <a href="Set.pf.html#operator∈169"><span style="color: #086c3c">operator∈</span></a> <span style="color: #d85311">in</span> <span style="color: black">xA</span>
  <span style="color: #2e2d31">}</span>
  <span style="color: #d85311">case</span> <span style="color: black">xB</span><span style="color: #2e2d31">:</span> <span style="color: black">x</span> <span style="color: #2e2d31">&#x2208;</span> <span style="color: black">B</span> <span style="color: #2e2d31">{</span>
    <span style="color: #d85311">conclude</span> <a href="Set.pf.html#rep165"><span style="color: #086c3c">rep</span></a><span style="color: #2e2d31">(</span><span style="color: black">B</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">(</span><span style="color: black">x</span><span style="color: #2e2d31">)</span> <span style="color: #d85311">by</span> <span style="color: #d85311">definition</span> <a href="Set.pf.html#operator∈169"><span style="color: #086c3c">operator∈</span></a> <span style="color: #d85311">in</span> <span style="color: black">xB</span>
  <span style="color: #2e2d31">}</span>
<span style="color: #d85311">end</span>

<span style="color: gray">// Testing alternative asci symbols</span>
<span style="color: #d85311">theorem</span> <a href="Set.pf.html#member_union176"><span id="member_union176" style="color: #086c3c">member_union</span></a><span style="color: #2e2d31">:</span> <span style="color: #d85311">all</span> <span style="color: black">T</span><span style="color: #2e2d31">:</span><span style="color: #0f95af">type</span><span style="color: #2e2d31">.</span> <span style="color: #d85311">all</span> <span style="color: black">x</span><span style="color: #2e2d31">:</span><span style="color: black">T</span><span style="color: #2e2d31">,</span> <span style="color: black">A</span><span style="color: #2e2d31">:</span><a href="Set.pf.html#Set164"><span style="color: #0f95af">Set</span></a><span style="color: #2e2d31">&lt;</span><span style="color: black">T</span><span style="color: #2e2d31">&gt;</span><span style="color: #2e2d31">,</span> <span style="color: black">B</span><span style="color: #2e2d31">:</span><a href="Set.pf.html#Set164"><span style="color: #0f95af">Set</span></a><span style="color: #2e2d31">&lt;</span><span style="color: black">T</span><span style="color: #2e2d31">&gt;</span><span style="color: #2e2d31">.</span>
  <span style="color: #d85311">if</span> <span style="color: black">x</span> <span style="color: #d85311">in</span> <span style="color: #2e2d31">(</span><span style="color: black">A</span> <span style="color: #2e2d31">|</span> <span style="color: black">B</span><span style="color: #2e2d31">)</span>
  <span style="color: #d85311">then</span> <span style="color: black">x</span> <span style="color: #d85311">in</span> <span style="color: black">A</span> <span style="color: #d85311">or</span> <span style="color: black">x</span> <span style="color: #d85311">in</span> <span style="color: black">B</span>
<span style="color: #d85311">proof</span>
  <span style="color: #d85311">arbitrary</span> <span style="color: black">T</span><span style="color: #2e2d31">:</span><span style="color: #0f95af">type</span>
  <span style="color: #d85311">arbitrary</span> <span style="color: black">x</span><span style="color: #2e2d31">:</span><span style="color: black">T</span><span style="color: #2e2d31">,</span> <span style="color: black">A</span><span style="color: #2e2d31">:</span><a href="Set.pf.html#Set164"><span style="color: #0f95af">Set</span></a><span style="color: #2e2d31">&lt;</span><span style="color: black">T</span><span style="color: #2e2d31">&gt;</span><span style="color: #2e2d31">,</span> <span style="color: black">B</span><span style="color: #2e2d31">:</span><a href="Set.pf.html#Set164"><span style="color: #0f95af">Set</span></a><span style="color: #2e2d31">&lt;</span><span style="color: black">T</span><span style="color: #2e2d31">&gt;</span>
  <span style="color: #d85311">suppose</span> <span style="color: black">x_AB</span><span style="color: #2e2d31">:</span> <span style="color: black">x</span> <span style="color: #d85311">in</span> <span style="color: #2e2d31">(</span><span style="color: black">A</span> <span style="color: #2e2d31">|</span> <span style="color: black">B</span><span style="color: #2e2d31">)</span>
  <span style="color: #d85311">enable</span> <span style="color: #2e2d31">{</span><span style="color: #d85311">operator</span> <span style="color: #d85311">in</span><span style="color: #2e2d31">,</span> <span style="color: #d85311">operator</span> <span style="color: #2e2d31">|</span><span style="color: #2e2d31">,</span> <a href="Set.pf.html#rep165"><span style="color: #086c3c">rep</span></a><span style="color: #2e2d31">}</span>
  <span style="color: black">x_AB</span>
<span style="color: #d85311">end</span>

<span style="color: #d85311">theorem</span> <a href="Set.pf.html#member_union_equal177"><span id="member_union_equal177" style="color: #086c3c">member_union_equal</span></a><span style="color: #2e2d31">:</span> <span style="color: #d85311">all</span> <span style="color: black">T</span><span style="color: #2e2d31">:</span><span style="color: #0f95af">type</span><span style="color: #2e2d31">.</span> <span style="color: #d85311">all</span> <span style="color: black">x</span><span style="color: #2e2d31">:</span><span style="color: black">T</span><span style="color: #2e2d31">,</span> <span style="color: black">A</span><span style="color: #2e2d31">:</span><a href="Set.pf.html#Set164"><span style="color: #0f95af">Set</span></a><span style="color: #2e2d31">&lt;</span><span style="color: black">T</span><span style="color: #2e2d31">&gt;</span><span style="color: #2e2d31">,</span> <span style="color: black">B</span><span style="color: #2e2d31">:</span><a href="Set.pf.html#Set164"><span style="color: #0f95af">Set</span></a><span style="color: #2e2d31">&lt;</span><span style="color: black">T</span><span style="color: #2e2d31">&gt;</span><span style="color: #2e2d31">.</span>
  <span style="color: black">x</span> <span style="color: #2e2d31">&#x2208;</span> <span style="color: #2e2d31">(</span><span style="color: black">A</span> <span style="color: #2e2d31">&#x222A;</span> <span style="color: black">B</span><span style="color: #2e2d31">)</span> <span style="color: #2e2d31">=</span> <span style="color: #2e2d31">(</span><span style="color: black">x</span> <span style="color: #2e2d31">&#x2208;</span> <span style="color: black">A</span> <span style="color: #d85311">or</span> <span style="color: black">x</span> <span style="color: #2e2d31">&#x2208;</span> <span style="color: black">B</span><span style="color: #2e2d31">)</span>
<span style="color: #d85311">proof</span>
  <span style="color: #d85311">arbitrary</span> <span style="color: black">T</span><span style="color: #2e2d31">:</span><span style="color: #0f95af">type</span>
  <span style="color: #d85311">arbitrary</span> <span style="color: black">x</span><span style="color: #2e2d31">:</span><span style="color: black">T</span><span style="color: #2e2d31">,</span> <span style="color: black">A</span><span style="color: #2e2d31">:</span><a href="Set.pf.html#Set164"><span style="color: #0f95af">Set</span></a><span style="color: #2e2d31">&lt;</span><span style="color: black">T</span><span style="color: #2e2d31">&gt;</span><span style="color: #2e2d31">,</span> <span style="color: black">B</span><span style="color: #2e2d31">:</span><a href="Set.pf.html#Set164"><span style="color: #0f95af">Set</span></a><span style="color: #2e2d31">&lt;</span><span style="color: black">T</span><span style="color: #2e2d31">&gt;</span>
  <span style="color: #d85311">definition</span> <span style="color: #2e2d31">{</span><a href="Set.pf.html#operator∈169"><span style="color: #086c3c">operator∈</span></a><span style="color: #2e2d31">,</span> <a href="Set.pf.html#operator∪167"><span style="color: #086c3c">operator∪</span></a><span style="color: #2e2d31">,</span><a href="Set.pf.html#rep165"><span style="color: #086c3c">rep</span></a><span style="color: #2e2d31">}</span>  
<span style="color: #d85311">end</span>

<span style="color: gray">// testing alternate syntax for ∅</span>
<span style="color: #d85311">theorem</span> <a href="Set.pf.html#union_empty178"><span id="union_empty178" style="color: #086c3c">union_empty</span></a><span style="color: #2e2d31">:</span> <span style="color: #d85311">all</span> <span style="color: black">T</span><span style="color: #2e2d31">:</span><span style="color: #0f95af">type</span><span style="color: #2e2d31">.</span> <span style="color: #d85311">all</span> <span style="color: black">A</span><span style="color: #2e2d31">:</span><a href="Set.pf.html#Set164"><span style="color: #0f95af">Set</span></a><span style="color: #2e2d31">&lt;</span><span style="color: black">T</span><span style="color: #2e2d31">&gt;</span><span style="color: #2e2d31">.</span>
  <span style="color: black">A</span> <span style="color: #2e2d31">&#x222A;</span> <span style="color: #9329ab">.0.</span> <span style="color: #2e2d31">=</span> <span style="color: black">A</span>
<span style="color: #d85311">proof</span>
  <span style="color: #d85311">arbitrary</span> <span style="color: black">T</span><span style="color: #2e2d31">:</span><span style="color: #0f95af">type</span>
  <span style="color: #d85311">arbitrary</span> <span style="color: black">A</span><span style="color: #2e2d31">:</span><a href="Set.pf.html#Set164"><span style="color: #0f95af">Set</span></a><span style="color: #2e2d31">&lt;</span><span style="color: black">T</span><span style="color: #2e2d31">&gt;</span>
  <span style="color: #d85311">suffices</span> <span style="color: black">A</span> <span style="color: #2e2d31">&#x222A;</span> <span style="color: #2e2d31">@</span><span style="color: black">char_fun</span><span style="color: #2e2d31">&lt;</span><span style="color: black">T</span><span style="color: #2e2d31">&gt;</span><span style="color: #2e2d31">(</span><span style="color: #2e2d31">&#x03BB;</span><span style="color: black">_</span><span style="color: #2e2d31">{</span><span style="color: #9329ab">false</span><span style="color: #2e2d31">}</span><span style="color: #2e2d31">)</span> <span style="color: #2e2d31">=</span> <span style="color: black">A</span>   <span style="color: #d85311">by</span> <span style="color: #2e2d31">.</span>
  <span style="color: #d85311">suffices</span> <span style="color: #2e2d31">@</span><span style="color: black">char_fun</span><span style="color: #2e2d31">&lt;</span><span style="color: black">T</span><span style="color: #2e2d31">&gt;</span><span style="color: #2e2d31">(</span><span style="color: #2e2d31">&#x03BB;</span><span style="color: black">x</span><span style="color: #2e2d31">{</span><a href="Set.pf.html#rep165"><span style="color: #086c3c">rep</span></a><span style="color: #2e2d31">(</span><span style="color: black">A</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">(</span><span style="color: black">x</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">}</span><span style="color: #2e2d31">)</span> <span style="color: #2e2d31">=</span> <span style="color: black">A</span>   <span style="color: #d85311">by</span> <span style="color: #d85311">definition</span> <span style="color: #2e2d31">{</span><a href="Set.pf.html#operator∪167"><span style="color: #086c3c">operator ∪</span></a><span style="color: #2e2d31">,</span> <a href="Set.pf.html#rep165"><span style="color: #086c3c">rep</span></a><span style="color: #2e2d31">}</span>
  <span style="color: #d85311">switch</span> <span style="color: black">A</span> <span style="color: #2e2d31">{</span>
    <span style="color: #d85311">case</span> <span style="color: black">char_fun</span><span style="color: #2e2d31">(</span><span style="color: black">f</span><span style="color: #2e2d31">)</span> <span style="color: #2e2d31">{</span>
      <span style="color: #d85311">have</span> <span style="color: black">eq</span><span style="color: #2e2d31">:</span> <span style="color: #2e2d31">(</span><span style="color: #2e2d31">&#x03BB;</span><span style="color: black">y</span><span style="color: #2e2d31">{</span><span style="color: black">f</span><span style="color: #2e2d31">(</span><span style="color: black">y</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">}</span> <span style="color: #2e2d31">:</span> <span style="color: #0f95af">fn</span> <span style="color: black">T</span><span style="color: #2e2d31">-&gt;</span><span style="color: #0f95af">bool</span><span style="color: #2e2d31">)</span> <span style="color: #2e2d31">=</span> <span style="color: black">f</span>   <span style="color: #d85311">by</span> <span style="color: #d85311">extensionality</span> <span style="color: #d85311">arbitrary</span> <span style="color: black">x</span><span style="color: #2e2d31">:</span><span style="color: black">T</span><span style="color: #2e2d31">.</span>
      <span style="color: #d85311">suffices</span> <span style="color: black">char_fun</span><span style="color: #2e2d31">(</span><span style="color: #2e2d31">&#x03BB;</span><span style="color: black">x</span><span style="color: #2e2d31">{</span><span style="color: black">f</span><span style="color: #2e2d31">(</span><span style="color: black">x</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">}</span> <span style="color: #2e2d31">:</span> <span style="color: #0f95af">fn</span> <span style="color: black">T</span><span style="color: #2e2d31">-&gt;</span><span style="color: #0f95af">bool</span><span style="color: #2e2d31">)</span> <span style="color: #2e2d31">=</span> <span style="color: black">char_fun</span><span style="color: #2e2d31">(</span><span style="color: black">f</span><span style="color: #2e2d31">)</span>   <span style="color: #d85311">by</span> <span style="color: #d85311">definition</span> <a href="Set.pf.html#rep165"><span style="color: #086c3c">rep</span></a>
      <span style="color: #d85311">rewrite</span> <span style="color: black">eq</span>
    <span style="color: #2e2d31">}</span>
  <span style="color: #2e2d31">}</span>
<span style="color: #d85311">end</span>

<span style="color: #d85311">theorem</span> <a href="Set.pf.html#empty_union179"><span id="empty_union179" style="color: #086c3c">empty_union</span></a><span style="color: #2e2d31">:</span> <span style="color: #d85311">all</span> <span style="color: black">T</span><span style="color: #2e2d31">:</span><span style="color: #0f95af">type</span><span style="color: #2e2d31">.</span> <span style="color: #d85311">all</span> <span style="color: black">A</span><span style="color: #2e2d31">:</span><a href="Set.pf.html#Set164"><span style="color: #0f95af">Set</span></a><span style="color: #2e2d31">&lt;</span><span style="color: black">T</span><span style="color: #2e2d31">&gt;</span><span style="color: #2e2d31">.</span>
  <span style="color: #2e2d31">@</span><span style="color: black">char_fun</span><span style="color: #2e2d31">&lt;</span><span style="color: black">T</span><span style="color: #2e2d31">&gt;</span><span style="color: #2e2d31">(</span><span style="color: #2e2d31">&#x03BB;</span><span style="color: black">x</span><span style="color: #2e2d31">{</span><span style="color: #9329ab">false</span><span style="color: #2e2d31">}</span><span style="color: #2e2d31">)</span> <span style="color: #2e2d31">&#x222A;</span> <span style="color: black">A</span> <span style="color: #2e2d31">=</span> <span style="color: black">A</span>
<span style="color: #d85311">proof</span>
  <span style="color: #d85311">arbitrary</span> <span style="color: black">T</span><span style="color: #2e2d31">:</span><span style="color: #0f95af">type</span>
  <span style="color: #d85311">arbitrary</span> <span style="color: black">A</span><span style="color: #2e2d31">:</span><a href="Set.pf.html#Set164"><span style="color: #0f95af">Set</span></a><span style="color: #2e2d31">&lt;</span><span style="color: black">T</span><span style="color: #2e2d31">&gt;</span>
  <span style="color: #d85311">suffices</span> <span style="color: #2e2d31">@</span><span style="color: black">char_fun</span><span style="color: #2e2d31">&lt;</span><span style="color: black">T</span><span style="color: #2e2d31">&gt;</span><span style="color: #2e2d31">(</span><span style="color: #2e2d31">&#x03BB;</span><span style="color: black">x</span><span style="color: #2e2d31">{</span><a href="Set.pf.html#rep165"><span style="color: #086c3c">rep</span></a><span style="color: #2e2d31">(</span><span style="color: black">A</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">(</span><span style="color: black">x</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">}</span><span style="color: #2e2d31">)</span> <span style="color: #2e2d31">=</span> <span style="color: black">A</span>   <span style="color: #d85311">by</span> <span style="color: #d85311">definition</span> <span style="color: #2e2d31">{</span><a href="Set.pf.html#operator∪167"><span style="color: #086c3c">operator ∪</span></a><span style="color: #2e2d31">,</span> <a href="Set.pf.html#rep165"><span style="color: #086c3c">rep</span></a><span style="color: #2e2d31">}</span>
  <span style="color: #d85311">switch</span> <span style="color: black">A</span> <span style="color: #2e2d31">{</span>
    <span style="color: #d85311">case</span> <span style="color: black">char_fun</span><span style="color: #2e2d31">(</span><span style="color: black">f</span><span style="color: #2e2d31">)</span> <span style="color: #2e2d31">{</span>
      <span style="color: #d85311">suffices</span> <span style="color: black">char_fun</span><span style="color: #2e2d31">(</span><span style="color: #2e2d31">&#x03BB;</span><span style="color: black">x</span><span style="color: #2e2d31">{</span><span style="color: black">f</span><span style="color: #2e2d31">(</span><span style="color: black">x</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">}</span> <span style="color: #2e2d31">:</span> <span style="color: #0f95af">fn</span> <span style="color: black">T</span><span style="color: #2e2d31">-&gt;</span><span style="color: #0f95af">bool</span><span style="color: #2e2d31">)</span> <span style="color: #2e2d31">=</span> <span style="color: black">char_fun</span><span style="color: #2e2d31">(</span><span style="color: black">f</span><span style="color: #2e2d31">)</span>  <span style="color: #d85311">by</span> <span style="color: #d85311">definition</span> <a href="Set.pf.html#rep165"><span style="color: #086c3c">rep</span></a>
      <span style="color: #d85311">have</span> <span style="color: black">eq</span><span style="color: #2e2d31">:</span> <span style="color: #2e2d31">(</span><span style="color: #2e2d31">&#x03BB;</span><span style="color: black">x</span><span style="color: #2e2d31">{</span><span style="color: black">f</span><span style="color: #2e2d31">(</span><span style="color: black">x</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">}</span> <span style="color: #2e2d31">:</span> <span style="color: #0f95af">fn</span> <span style="color: black">T</span><span style="color: #2e2d31">-&gt;</span><span style="color: #0f95af">bool</span><span style="color: #2e2d31">)</span> <span style="color: #2e2d31">=</span> <span style="color: black">f</span>  <span style="color: #d85311">by</span> <span style="color: #d85311">extensionality</span> <span style="color: #d85311">arbitrary</span> <span style="color: black">x</span><span style="color: #2e2d31">:</span><span style="color: black">T</span><span style="color: #2e2d31">.</span>
      <span style="color: #d85311">rewrite</span> <span style="color: black">eq</span>
    <span style="color: #2e2d31">}</span>
  <span style="color: #2e2d31">}</span>
<span style="color: #d85311">end</span>

<span style="color: #d85311">theorem</span> <a href="Set.pf.html#union_sym180"><span id="union_sym180" style="color: #086c3c">union_sym</span></a><span style="color: #2e2d31">:</span> <span style="color: #d85311">all</span> <span style="color: black">T</span><span style="color: #2e2d31">:</span><span style="color: #0f95af">type</span><span style="color: #2e2d31">.</span> <span style="color: #d85311">all</span> <span style="color: black">A</span><span style="color: #2e2d31">:</span><a href="Set.pf.html#Set164"><span style="color: #0f95af">Set</span></a><span style="color: #2e2d31">&lt;</span><span style="color: black">T</span><span style="color: #2e2d31">&gt;</span><span style="color: #2e2d31">,</span> <span style="color: black">B</span><span style="color: #2e2d31">:</span><a href="Set.pf.html#Set164"><span style="color: #0f95af">Set</span></a><span style="color: #2e2d31">&lt;</span><span style="color: black">T</span><span style="color: #2e2d31">&gt;</span><span style="color: #2e2d31">.</span>
  <span style="color: black">A</span> <span style="color: #2e2d31">&#x222A;</span> <span style="color: black">B</span> <span style="color: #2e2d31">=</span> <span style="color: black">B</span> <span style="color: #2e2d31">&#x222A;</span> <span style="color: black">A</span>
<span style="color: #d85311">proof</span>
  <span style="color: #d85311">arbitrary</span> <span style="color: black">T</span><span style="color: #2e2d31">:</span><span style="color: #0f95af">type</span>
  <span style="color: #d85311">arbitrary</span> <span style="color: black">A</span><span style="color: #2e2d31">:</span><a href="Set.pf.html#Set164"><span style="color: #0f95af">Set</span></a><span style="color: #2e2d31">&lt;</span><span style="color: black">T</span><span style="color: #2e2d31">&gt;</span><span style="color: #2e2d31">,</span> <span style="color: black">B</span><span style="color: #2e2d31">:</span><a href="Set.pf.html#Set164"><span style="color: #0f95af">Set</span></a><span style="color: #2e2d31">&lt;</span><span style="color: black">T</span><span style="color: #2e2d31">&gt;</span>
  <span style="color: #d85311">suffices</span> <span style="color: #2e2d31">@</span><span style="color: black">char_fun</span><span style="color: #2e2d31">&lt;</span><span style="color: black">T</span><span style="color: #2e2d31">&gt;</span><span style="color: #2e2d31">(</span><span style="color: #2e2d31">&#x03BB;</span><span style="color: black">x</span><span style="color: #2e2d31">{</span><span style="color: #2e2d31">(</span><a href="Set.pf.html#rep165"><span style="color: #086c3c">rep</span></a><span style="color: #2e2d31">(</span><span style="color: black">A</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">(</span><span style="color: black">x</span><span style="color: #2e2d31">)</span> <span style="color: #d85311">or</span> <a href="Set.pf.html#rep165"><span style="color: #086c3c">rep</span></a><span style="color: #2e2d31">(</span><span style="color: black">B</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">(</span><span style="color: black">x</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">}</span><span style="color: #2e2d31">)</span>
             <span style="color: #2e2d31">=</span> <span style="color: black">char_fun</span><span style="color: #2e2d31">(</span><span style="color: #2e2d31">&#x03BB;</span><span style="color: black">x</span><span style="color: #2e2d31">{</span><span style="color: #2e2d31">(</span><a href="Set.pf.html#rep165"><span style="color: #086c3c">rep</span></a><span style="color: #2e2d31">(</span><span style="color: black">B</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">(</span><span style="color: black">x</span><span style="color: #2e2d31">)</span> <span style="color: #d85311">or</span> <a href="Set.pf.html#rep165"><span style="color: #086c3c">rep</span></a><span style="color: #2e2d31">(</span><span style="color: black">A</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">(</span><span style="color: black">x</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">}</span><span style="color: #2e2d31">)</span>
      <span style="color: #d85311">by</span> <span style="color: #d85311">definition</span> <a href="Set.pf.html#operator∪167"><span style="color: #086c3c">operator ∪</span></a>
  <span style="color: #d85311">switch</span> <span style="color: black">A</span> <span style="color: #2e2d31">{</span>
    <span style="color: #d85311">case</span> <span style="color: black">char_fun</span><span style="color: #2e2d31">(</span><span style="color: black">f</span><span style="color: #2e2d31">)</span> <span style="color: #2e2d31">{</span>
      <span style="color: #d85311">switch</span> <span style="color: black">B</span> <span style="color: #2e2d31">{</span>
	<span style="color: #d85311">case</span> <span style="color: black">char_fun</span><span style="color: #2e2d31">(</span><span style="color: black">g</span><span style="color: #2e2d31">)</span> <span style="color: #2e2d31">{</span>
	  <span style="color: #d85311">suffices</span> <span style="color: #2e2d31">@</span><span style="color: black">char_fun</span><span style="color: #2e2d31">&lt;</span><span style="color: black">T</span><span style="color: #2e2d31">&gt;</span><span style="color: #2e2d31">(</span><span style="color: #2e2d31">&#x03BB;</span><span style="color: black">x</span><span style="color: #2e2d31">{</span><span style="color: #2e2d31">(</span><span style="color: black">f</span><span style="color: #2e2d31">(</span><span style="color: black">x</span><span style="color: #2e2d31">)</span> <span style="color: #d85311">or</span> <span style="color: black">g</span><span style="color: #2e2d31">(</span><span style="color: black">x</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">}</span><span style="color: #2e2d31">)</span> <span style="color: #2e2d31">=</span> <span style="color: black">char_fun</span><span style="color: #2e2d31">(</span><span style="color: #2e2d31">&#x03BB;</span><span style="color: black">x</span><span style="color: #2e2d31">{</span><span style="color: #2e2d31">(</span><span style="color: black">g</span><span style="color: #2e2d31">(</span><span style="color: black">x</span><span style="color: #2e2d31">)</span> <span style="color: #d85311">or</span> <span style="color: black">f</span><span style="color: #2e2d31">(</span><span style="color: black">x</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">}</span><span style="color: #2e2d31">)</span>
              <span style="color: #d85311">by</span> <span style="color: #d85311">definition</span> <a href="Set.pf.html#rep165"><span style="color: #086c3c">rep</span></a>
	  <span style="color: #d85311">have</span> <span style="color: black">fg_gf</span><span style="color: #2e2d31">:</span> <span style="color: #2e2d31">(</span><span style="color: #2e2d31">&#x03BB;</span><span style="color: black">x</span><span style="color: #2e2d31">{</span><span style="color: #2e2d31">(</span><span style="color: black">f</span><span style="color: #2e2d31">(</span><span style="color: black">x</span><span style="color: #2e2d31">)</span> <span style="color: #d85311">or</span> <span style="color: black">g</span><span style="color: #2e2d31">(</span><span style="color: black">x</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">}</span> <span style="color: #2e2d31">:</span> <span style="color: #0f95af">fn</span> <span style="color: black">T</span><span style="color: #2e2d31">-&gt;</span><span style="color: #0f95af">bool</span><span style="color: #2e2d31">)</span> <span style="color: #2e2d31">=</span> <span style="color: #2e2d31">&#x03BB;</span><span style="color: black">x</span><span style="color: #2e2d31">{</span><span style="color: #2e2d31">(</span><span style="color: black">g</span><span style="color: #2e2d31">(</span><span style="color: black">x</span><span style="color: #2e2d31">)</span> <span style="color: #d85311">or</span> <span style="color: black">f</span><span style="color: #2e2d31">(</span><span style="color: black">x</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">}</span>
	    <span style="color: #d85311">by</span> <span style="color: #d85311">extensionality</span> <span style="color: #d85311">arbitrary</span> <span style="color: black">x</span><span style="color: #2e2d31">:</span><span style="color: black">T</span> 
	       <span style="color: #d85311">rewrite</span> <a href="Base.pf.html#or_sym198"><span style="color: #086c3c">or_sym</span></a><span style="color: #2e2d31">[</span><span style="color: black">f</span><span style="color: #2e2d31">(</span><span style="color: black">x</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">,</span><span style="color: black">g</span><span style="color: #2e2d31">(</span><span style="color: black">x</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">]</span>
	  <span style="color: #d85311">rewrite</span> <span style="color: black">fg_gf</span>
	<span style="color: #2e2d31">}</span>
      <span style="color: #2e2d31">}</span>
    <span style="color: #2e2d31">}</span>
  <span style="color: #2e2d31">}</span>
<span style="color: #d85311">end</span>

<span style="color: #d85311">theorem</span> <a href="Set.pf.html#union_assoc181"><span id="union_assoc181" style="color: #086c3c">union_assoc</span></a><span style="color: #2e2d31">:</span> <span style="color: #d85311">all</span> <span style="color: black">T</span><span style="color: #2e2d31">:</span><span style="color: #0f95af">type</span><span style="color: #2e2d31">.</span> <span style="color: #d85311">all</span> <span style="color: black">A</span><span style="color: #2e2d31">:</span><a href="Set.pf.html#Set164"><span style="color: #0f95af">Set</span></a><span style="color: #2e2d31">&lt;</span><span style="color: black">T</span><span style="color: #2e2d31">&gt;</span><span style="color: #2e2d31">,</span> <span style="color: black">B</span><span style="color: #2e2d31">:</span><a href="Set.pf.html#Set164"><span style="color: #0f95af">Set</span></a><span style="color: #2e2d31">&lt;</span><span style="color: black">T</span><span style="color: #2e2d31">&gt;</span><span style="color: #2e2d31">,</span> <span style="color: black">C</span><span style="color: #2e2d31">:</span><a href="Set.pf.html#Set164"><span style="color: #0f95af">Set</span></a><span style="color: #2e2d31">&lt;</span><span style="color: black">T</span><span style="color: #2e2d31">&gt;</span><span style="color: #2e2d31">.</span>
  <span style="color: #2e2d31">(</span><span style="color: black">A</span> <span style="color: #2e2d31">&#x222A;</span> <span style="color: black">B</span><span style="color: #2e2d31">)</span> <span style="color: #2e2d31">&#x222A;</span> <span style="color: black">C</span> <span style="color: #2e2d31">=</span> <span style="color: black">A</span> <span style="color: #2e2d31">&#x222A;</span> <span style="color: #2e2d31">(</span><span style="color: black">B</span> <span style="color: #2e2d31">&#x222A;</span> <span style="color: black">C</span><span style="color: #2e2d31">)</span>
<span style="color: #d85311">proof</span>
  <span style="color: #d85311">arbitrary</span> <span style="color: black">T</span><span style="color: #2e2d31">:</span><span style="color: #0f95af">type</span>
  <span style="color: #d85311">arbitrary</span> <span style="color: black">A</span><span style="color: #2e2d31">:</span><a href="Set.pf.html#Set164"><span style="color: #0f95af">Set</span></a><span style="color: #2e2d31">&lt;</span><span style="color: black">T</span><span style="color: #2e2d31">&gt;</span><span style="color: #2e2d31">,</span> <span style="color: black">B</span><span style="color: #2e2d31">:</span><a href="Set.pf.html#Set164"><span style="color: #0f95af">Set</span></a><span style="color: #2e2d31">&lt;</span><span style="color: black">T</span><span style="color: #2e2d31">&gt;</span><span style="color: #2e2d31">,</span> <span style="color: black">C</span><span style="color: #2e2d31">:</span><a href="Set.pf.html#Set164"><span style="color: #0f95af">Set</span></a><span style="color: #2e2d31">&lt;</span><span style="color: black">T</span><span style="color: #2e2d31">&gt;</span>
  <span style="color: #d85311">definition</span> <span style="color: #2e2d31">{</span><a href="Set.pf.html#operator∪167"><span style="color: #086c3c">operator ∪</span></a><span style="color: #2e2d31">,</span> <a href="Set.pf.html#rep165"><span style="color: #086c3c">rep</span></a><span style="color: #2e2d31">}</span>
<span style="color: #d85311">end</span>

<span style="color: #d85311">theorem</span> <a href="Set.pf.html#in_left_union182"><span id="in_left_union182" style="color: #086c3c">in_left_union</span></a><span style="color: #2e2d31">:</span>
  <span style="color: #d85311">all</span> <span style="color: black">T</span><span style="color: #2e2d31">:</span><span style="color: #0f95af">type</span><span style="color: #2e2d31">.</span> <span style="color: #d85311">all</span> <span style="color: black">B</span><span style="color: #2e2d31">:</span><a href="Set.pf.html#Set164"><span style="color: #0f95af">Set</span></a><span style="color: #2e2d31">&lt;</span><span style="color: black">T</span><span style="color: #2e2d31">&gt;</span><span style="color: #2e2d31">.</span> <span style="color: #d85311">all</span> <span style="color: black">x</span><span style="color: #2e2d31">:</span><span style="color: black">T</span><span style="color: #2e2d31">,</span> <span style="color: black">A</span><span style="color: #2e2d31">:</span> <a href="Set.pf.html#Set164"><span style="color: #0f95af">Set</span></a><span style="color: #2e2d31">&lt;</span><span style="color: black">T</span><span style="color: #2e2d31">&gt;</span><span style="color: #2e2d31">.</span>
  <span style="color: #d85311">if</span> <span style="color: black">x</span> <span style="color: #2e2d31">&#x2208;</span> <span style="color: black">A</span> <span style="color: #d85311">then</span> <span style="color: black">x</span> <span style="color: #2e2d31">&#x2208;</span> <span style="color: #2e2d31">(</span><span style="color: black">A</span> <span style="color: #2e2d31">&#x222A;</span> <span style="color: black">B</span><span style="color: #2e2d31">)</span>
<span style="color: #d85311">proof</span>
  <span style="color: #d85311">arbitrary</span> <span style="color: black">T</span><span style="color: #2e2d31">:</span><span style="color: #0f95af">type</span>
  <span style="color: #d85311">arbitrary</span> <span style="color: black">B</span><span style="color: #2e2d31">:</span><a href="Set.pf.html#Set164"><span style="color: #0f95af">Set</span></a><span style="color: #2e2d31">&lt;</span><span style="color: black">T</span><span style="color: #2e2d31">&gt;</span>
  <span style="color: #d85311">arbitrary</span> <span style="color: black">x</span><span style="color: #2e2d31">:</span><span style="color: black">T</span><span style="color: #2e2d31">,</span> <span style="color: black">A</span><span style="color: #2e2d31">:</span> <a href="Set.pf.html#Set164"><span style="color: #0f95af">Set</span></a><span style="color: #2e2d31">&lt;</span><span style="color: black">T</span><span style="color: #2e2d31">&gt;</span>
  <span style="color: #d85311">suppose</span> <span style="color: black">x_A</span><span style="color: #2e2d31">:</span> <span style="color: black">x</span> <span style="color: #2e2d31">&#x2208;</span> <span style="color: black">A</span>
  <span style="color: #d85311">suffices</span> <span style="color: #2e2d31">(</span><a href="Set.pf.html#rep165"><span style="color: #086c3c">rep</span></a><span style="color: #2e2d31">(</span><span style="color: black">A</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">(</span><span style="color: black">x</span><span style="color: #2e2d31">)</span> <span style="color: #d85311">or</span> <a href="Set.pf.html#rep165"><span style="color: #086c3c">rep</span></a><span style="color: #2e2d31">(</span><span style="color: black">B</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">(</span><span style="color: black">x</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">)</span>
      <span style="color: #d85311">by</span> <span style="color: #d85311">definition</span> <span style="color: #2e2d31">{</span><a href="Set.pf.html#operator∈169"><span style="color: #086c3c">operator ∈</span></a><span style="color: #2e2d31">,</span> <a href="Set.pf.html#operator∪167"><span style="color: #086c3c">operator ∪</span></a><span style="color: #2e2d31">,</span> <a href="Set.pf.html#rep165"><span style="color: #086c3c">rep</span></a><span style="color: #2e2d31">}</span>
  <span style="color: #d85311">definition</span> <a href="Set.pf.html#operator∈169"><span style="color: #086c3c">operator ∈</span></a> <span style="color: #d85311">in</span> <span style="color: black">x_A</span>
<span style="color: #d85311">end</span>

<span style="color: #d85311">theorem</span> <a href="Set.pf.html#in_right_union183"><span id="in_right_union183" style="color: #086c3c">in_right_union</span></a><span style="color: #2e2d31">:</span>
  <span style="color: #d85311">all</span> <span style="color: black">T</span><span style="color: #2e2d31">:</span><span style="color: #0f95af">type</span><span style="color: #2e2d31">.</span> <span style="color: #d85311">all</span> <span style="color: black">A</span><span style="color: #2e2d31">:</span> <a href="Set.pf.html#Set164"><span style="color: #0f95af">Set</span></a><span style="color: #2e2d31">&lt;</span><span style="color: black">T</span><span style="color: #2e2d31">&gt;</span><span style="color: #2e2d31">.</span> <span style="color: #d85311">all</span> <span style="color: black">x</span><span style="color: #2e2d31">:</span><span style="color: black">T</span><span style="color: #2e2d31">,</span> <span style="color: black">B</span><span style="color: #2e2d31">:</span><a href="Set.pf.html#Set164"><span style="color: #0f95af">Set</span></a><span style="color: #2e2d31">&lt;</span><span style="color: black">T</span><span style="color: #2e2d31">&gt;</span><span style="color: #2e2d31">.</span>
  <span style="color: #d85311">if</span> <span style="color: black">x</span> <span style="color: #2e2d31">&#x2208;</span> <span style="color: black">B</span> <span style="color: #d85311">then</span> <span style="color: black">x</span> <span style="color: #2e2d31">&#x2208;</span> <span style="color: #2e2d31">(</span><span style="color: black">A</span> <span style="color: #2e2d31">&#x222A;</span> <span style="color: black">B</span><span style="color: #2e2d31">)</span>
<span style="color: #d85311">proof</span>
  <span style="color: #d85311">arbitrary</span> <span style="color: black">T</span><span style="color: #2e2d31">:</span><span style="color: #0f95af">type</span>
  <span style="color: #d85311">arbitrary</span> <span style="color: black">A</span><span style="color: #2e2d31">:</span> <a href="Set.pf.html#Set164"><span style="color: #0f95af">Set</span></a><span style="color: #2e2d31">&lt;</span><span style="color: black">T</span><span style="color: #2e2d31">&gt;</span>
  <span style="color: #d85311">arbitrary</span> <span style="color: black">x</span><span style="color: #2e2d31">:</span><span style="color: black">T</span><span style="color: #2e2d31">,</span> <span style="color: black">B</span><span style="color: #2e2d31">:</span><a href="Set.pf.html#Set164"><span style="color: #0f95af">Set</span></a><span style="color: #2e2d31">&lt;</span><span style="color: black">T</span><span style="color: #2e2d31">&gt;</span>
  <span style="color: #d85311">suppose</span> <span style="color: black">x_B</span><span style="color: #2e2d31">:</span> <span style="color: black">x</span> <span style="color: #2e2d31">&#x2208;</span> <span style="color: black">B</span>
  <span style="color: #d85311">conclude</span> <span style="color: black">x</span> <span style="color: #2e2d31">&#x2208;</span> <span style="color: black">A</span> <span style="color: #2e2d31">&#x222A;</span> <span style="color: black">B</span>   <span style="color: #d85311">by</span> <span style="color: #d85311">apply</span> <a href="Set.pf.html#union_member175"><span style="color: #086c3c">union_member</span></a><span style="color: #2e2d31">&lt;</span><span style="color: black">T</span><span style="color: #2e2d31">&gt;</span><span style="color: #2e2d31">[</span><span style="color: black">x</span><span style="color: #2e2d31">,</span><span style="color: black">A</span><span style="color: #2e2d31">,</span><span style="color: black">B</span><span style="color: #2e2d31">]</span> <span style="color: #d85311">to</span> <span style="color: black">x_B</span>
<span style="color: #d85311">end</span>

<span style="color: #d85311">theorem</span> <a href="Set.pf.html#subset_equal184"><span id="subset_equal184" style="color: #086c3c">subset_equal</span></a><span style="color: #2e2d31">:</span>
  <span style="color: #d85311">all</span> <span style="color: black">T</span><span style="color: #2e2d31">:</span><span style="color: #0f95af">type</span><span style="color: #2e2d31">.</span> <span style="color: #d85311">all</span> <span style="color: black">A</span><span style="color: #2e2d31">:</span><a href="Set.pf.html#Set164"><span style="color: #0f95af">Set</span></a><span style="color: #2e2d31">&lt;</span><span style="color: black">T</span><span style="color: #2e2d31">&gt;</span><span style="color: #2e2d31">,</span> <span style="color: black">B</span><span style="color: #2e2d31">:</span><a href="Set.pf.html#Set164"><span style="color: #0f95af">Set</span></a><span style="color: #2e2d31">&lt;</span><span style="color: black">T</span><span style="color: #2e2d31">&gt;</span><span style="color: #2e2d31">.</span>
  <span style="color: #d85311">if</span> <span style="color: black">A</span> <span style="color: #2e2d31">&#x2286;</span> <span style="color: black">B</span> <span style="color: #d85311">and</span> <span style="color: black">B</span> <span style="color: #2e2d31">&#x2286;</span> <span style="color: black">A</span>
  <span style="color: #d85311">then</span> <span style="color: black">A</span> <span style="color: #2e2d31">=</span> <span style="color: black">B</span>
<span style="color: #d85311">proof</span>
  <span style="color: #d85311">suffices</span> <span style="color: #d85311">all</span> <span style="color: black">T</span><span style="color: #2e2d31">:</span><span style="color: #0f95af">type</span><span style="color: #2e2d31">.</span> <span style="color: #d85311">all</span> <span style="color: black">A</span><span style="color: #2e2d31">:</span><a href="Set.pf.html#Set164"><span style="color: #0f95af">Set</span></a><span style="color: #2e2d31">&lt;</span><span style="color: black">T</span><span style="color: #2e2d31">&gt;</span><span style="color: #2e2d31">,</span> <span style="color: black">B</span><span style="color: #2e2d31">:</span><a href="Set.pf.html#Set164"><span style="color: #0f95af">Set</span></a><span style="color: #2e2d31">&lt;</span><span style="color: black">T</span><span style="color: #2e2d31">&gt;</span><span style="color: #2e2d31">.</span>
    <span style="color: #d85311">if</span> <span style="color: #2e2d31">(</span><span style="color: #d85311">all</span> <span style="color: black">x</span><span style="color: #2e2d31">:</span><span style="color: black">T</span><span style="color: #2e2d31">.</span> <span style="color: #2e2d31">(</span><span style="color: #d85311">if</span> <span style="color: black">x</span> <span style="color: #2e2d31">&#x2208;</span> <span style="color: black">A</span> <span style="color: #d85311">then</span> <span style="color: black">x</span> <span style="color: #2e2d31">&#x2208;</span> <span style="color: black">B</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">)</span> <span style="color: #d85311">and</span> <span style="color: #2e2d31">(</span><span style="color: #d85311">all</span> <span style="color: black">x</span><span style="color: #2e2d31">:</span><span style="color: black">T</span><span style="color: #2e2d31">.</span> <span style="color: #2e2d31">(</span><span style="color: #d85311">if</span> <span style="color: black">x</span> <span style="color: #2e2d31">&#x2208;</span> <span style="color: black">B</span> <span style="color: #d85311">then</span> <span style="color: black">x</span> <span style="color: #2e2d31">&#x2208;</span> <span style="color: black">A</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">)</span>
    <span style="color: #d85311">then</span> <span style="color: black">A</span> <span style="color: #2e2d31">=</span> <span style="color: black">B</span>
        <span style="color: #d85311">by</span> <span style="color: #d85311">definition</span> <a href="Set.pf.html#operator⊆170"><span style="color: #086c3c">operator⊆</span></a>
  <span style="color: #d85311">arbitrary</span> <span style="color: black">U</span><span style="color: #2e2d31">:</span><span style="color: #0f95af">type</span>
  <span style="color: #d85311">arbitrary</span> <span style="color: black">A</span><span style="color: #2e2d31">:</span><a href="Set.pf.html#Set164"><span style="color: #0f95af">Set</span></a><span style="color: #2e2d31">&lt;</span><span style="color: black">U</span><span style="color: #2e2d31">&gt;</span><span style="color: #2e2d31">,</span> <span style="color: black">B</span><span style="color: #2e2d31">:</span><a href="Set.pf.html#Set164"><span style="color: #0f95af">Set</span></a><span style="color: #2e2d31">&lt;</span><span style="color: black">U</span><span style="color: #2e2d31">&gt;</span>
  <span style="color: #d85311">suppose</span> <span style="color: black">prem</span>
  <span style="color: #d85311">switch</span> <span style="color: black">A</span> <span style="color: #2e2d31">{</span>
    <span style="color: #d85311">case</span> <span style="color: black">char_fun</span><span style="color: #2e2d31">(</span><span style="color: black">f</span><span style="color: #2e2d31">)</span> <span style="color: #d85311">suppose</span> <span style="color: black">A_f</span> <span style="color: #2e2d31">{</span>
      <span style="color: #d85311">switch</span> <span style="color: black">B</span> <span style="color: #2e2d31">{</span>
        <span style="color: #d85311">case</span> <span style="color: black">char_fun</span><span style="color: #2e2d31">(</span><span style="color: black">g</span><span style="color: #2e2d31">)</span> <span style="color: #d85311">suppose</span> <span style="color: black">B_g</span> <span style="color: #2e2d31">{</span>
          <span style="color: #d85311">have</span> <span style="color: black">f_g</span><span style="color: #2e2d31">:</span> <span style="color: black">f</span> <span style="color: #2e2d31">=</span> <span style="color: black">g</span>
	    <span style="color: #d85311">by</span> <span style="color: #d85311">extensionality</span>
	       <span style="color: #d85311">arbitrary</span> <span style="color: black">x</span><span style="color: #2e2d31">:</span><span style="color: black">U</span>
               <span style="color: #d85311">have</span> <span style="color: black">fx_to_gx</span><span style="color: #2e2d31">:</span> <span style="color: #d85311">if</span> <span style="color: black">f</span><span style="color: #2e2d31">(</span><span style="color: black">x</span><span style="color: #2e2d31">)</span> <span style="color: #d85311">then</span> <span style="color: black">g</span><span style="color: #2e2d31">(</span><span style="color: black">x</span><span style="color: #2e2d31">)</span>
                  <span style="color: #d85311">by</span> <span style="color: #d85311">definition</span> <span style="color: #2e2d31">{</span><a href="Set.pf.html#operator∈169"><span style="color: #086c3c">operator ∈</span></a><span style="color: #2e2d31">,</span> <a href="Set.pf.html#rep165"><span style="color: #086c3c">rep</span></a><span style="color: #2e2d31">}</span> <span style="color: #d85311">in</span>
                     <span style="color: #d85311">rewrite</span> <span style="color: black">A_f</span> <span style="color: #2e2d31">|</span> <span style="color: black">B_g</span> <span style="color: #d85311">in</span>
                     <span style="color: #2e2d31">(</span><span style="color: #d85311">conjunct</span> <span style="color: #9329ab">0</span> <span style="color: #d85311">of</span> <span style="color: black">prem</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">[</span><span style="color: black">x</span><span style="color: #2e2d31">]</span>
               <span style="color: #d85311">have</span> <span style="color: black">gx_to_fx</span><span style="color: #2e2d31">:</span> <span style="color: #d85311">if</span> <span style="color: black">g</span><span style="color: #2e2d31">(</span><span style="color: black">x</span><span style="color: #2e2d31">)</span> <span style="color: #d85311">then</span> <span style="color: black">f</span><span style="color: #2e2d31">(</span><span style="color: black">x</span><span style="color: #2e2d31">)</span>
                  <span style="color: #d85311">by</span> <span style="color: #d85311">definition</span> <span style="color: #2e2d31">{</span><a href="Set.pf.html#operator∈169"><span style="color: #086c3c">operator ∈</span></a><span style="color: #2e2d31">,</span> <a href="Set.pf.html#rep165"><span style="color: #086c3c">rep</span></a><span style="color: #2e2d31">}</span> <span style="color: #d85311">in</span>
                     <span style="color: #d85311">rewrite</span> <span style="color: black">A_f</span> <span style="color: #2e2d31">|</span> <span style="color: black">B_g</span> <span style="color: #d85311">in</span>
                     <span style="color: #2e2d31">(</span><span style="color: #d85311">conjunct</span> <span style="color: #9329ab">1</span> <span style="color: #d85311">of</span> <span style="color: black">prem</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">[</span><span style="color: black">x</span><span style="color: #2e2d31">]</span>
               <span style="color: #d85311">apply</span> <a href="Base.pf.html#iff_equal202"><span style="color: #086c3c">iff_equal</span></a><span style="color: #2e2d31">[</span><span style="color: black">f</span><span style="color: #2e2d31">(</span><span style="color: black">x</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">,</span><span style="color: black">g</span><span style="color: #2e2d31">(</span><span style="color: black">x</span><span style="color: #2e2d31">)</span><span style="color: #2e2d31">]</span>
               <span style="color: #d85311">to</span> <span style="color: black">fx_to_gx</span><span style="color: #2e2d31">,</span> <span style="color: black">gx_to_fx</span>
          <span style="color: #d85311">rewrite</span> <span style="color: black">f_g</span>
	<span style="color: #2e2d31">}</span>
      <span style="color: #2e2d31">}</span>
    <span style="color: #2e2d31">}</span>
  <span style="color: #2e2d31">}</span>
<span style="color: #d85311">end</span>



    </code></pre>
</body>
</html>